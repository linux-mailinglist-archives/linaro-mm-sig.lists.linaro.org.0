Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 9AB493D9DFD
	for <lists+linaro-mm-sig@lfdr.de>; Thu, 29 Jul 2021 09:03:50 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 26C36666D9
	for <lists+linaro-mm-sig@lfdr.de>; Thu, 29 Jul 2021 07:03:47 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 658F16354D; Thu, 29 Jul 2021 07:03:40 +0000 (UTC)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 1DE0363509;
	Thu, 29 Jul 2021 07:03:37 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id E5F9460639
 for <linaro-mm-sig@lists.linaro.org>; Thu, 29 Jul 2021 07:03:34 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id DBA8663509; Thu, 29 Jul 2021 07:03:34 +0000 (UTC)
Received: from mail-wr1-f44.google.com (mail-wr1-f44.google.com
 [209.85.221.44])
 by lists.linaro.org (Postfix) with ESMTPS id D31EC60639
 for <linaro-mm-sig@lists.linaro.org>; Thu, 29 Jul 2021 07:03:32 +0000 (UTC)
Received: by mail-wr1-f44.google.com with SMTP id c16so5505303wrp.13
 for <linaro-mm-sig@lists.linaro.org>; Thu, 29 Jul 2021 00:03:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=BV90pLSLNxFtvZJouBtN68y5+9uAQxSA5rwwB4X358o=;
 b=h/LlL2zMuFUlh+Rgiav5hdoO04kIML6q04ceniIFN1Q9pXcfwyivcKzsrNR6r5ofCs
 MBC9AJrXFoQ2JNU42VEOPp7wp78LjOoeV6MODi8YOzw6O8NF57O+ZqNYso0TJlxOJx6V
 GiDszK0lzHaZKASkVBJr63+WlTzWs2ar8qGcVTwugHDKvx650SqdbUGG4YrWIwcrIz4a
 OZV54i9E06HFzuPivMirdKAFlqwZ+QTX3iCiHyoAxjbKfktxknlYybAJTKC/tC2vGsnE
 UNBFs3WovcJ9XXL9SIbK9YJb5Frubdu7J2Sz5sVRUQVIBsXzOl7gXQJK/CvbAQJcXVVm
 d1zQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=BV90pLSLNxFtvZJouBtN68y5+9uAQxSA5rwwB4X358o=;
 b=ZFMTJaxcr6aIf5j9W6TheideUDXxLCUBEXNjs9QaHc16J7bjdL16PjBdVsmiQFJb0S
 ZA7l2uOwm+N3o8XmJuCloCMtjDukXJSv8pOMoThl8aeJ6caIdmEsAdZkz/7obj9PeTP+
 JD8LQiZkNasc5iTgMTlWpBY691MEdTydRIqRPYwZCcwowOfmrTIAjVlSFnF57a8uXd2+
 TltJmoEkCSyyyG+2YBGp7jjQ0PHFwT9fkj8y3FYDxK5Xaz961McUl2GtTcW4RYLhdnZK
 TCf+iwb08zG7Gkkl2CnF++d7ZU1qDprru7CVnXLfoWcBgGsNxKz6o9sbxodGWiDzgOXg
 E2HQ==
X-Gm-Message-State: AOAM530U06r/8hgAoDs/WAe/nRrC235ApaWNQuOglxAFhlzhKY8d5QDN
 H1WaM+nTFBSY/EQcJVvAvMw=
X-Google-Smtp-Source: ABdhPJyAH8OiX4/owQzP7CSvLjf35pc08YNiW/5gvH+p+9aY8iGT7mugtNVfnlkwZSG8IucUwuTtUQ==
X-Received: by 2002:a5d:61c8:: with SMTP id q8mr3036368wrv.151.1627542211692; 
 Thu, 29 Jul 2021 00:03:31 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:4e80:335d:252f:540b])
 by smtp.gmail.com with ESMTPSA id h14sm2177527wrp.55.2021.07.29.00.03.30
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 29 Jul 2021 00:03:31 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: sumit.semwal@linaro.org, gustavo@padovan.org, daniel@ffwll.ch,
 linux-media@vger.kernel.org, dri-devel@lists.freedesktop.org,
 linaro-mm-sig@lists.linaro.org
Date: Thu, 29 Jul 2021 09:03:28 +0200
Message-Id: <20210729070330.41443-1-christian.koenig@amd.com>
X-Mailer: git-send-email 2.25.1
MIME-Version: 1.0
X-Virus-Scanned: ClamAV using ClamSMTP
Subject: [Linaro-mm-sig] [PATCH 1/3] dma-buf: nuke seqno-fence
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

RW50aXJlbHkgdW51c2VkLgoKU2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0
aWFuLmtvZW5pZ0BhbWQuY29tPgotLS0KIGRyaXZlcnMvZG1hLWJ1Zi9NYWtlZmlsZSAgICAgIHwg
ICAyICstCiBkcml2ZXJzL2RtYS1idWYvc2Vxbm8tZmVuY2UuYyB8ICA3MSAtLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCiBpbmNsdWRlL2xpbnV4L3NlcW5vLWZlbmNlLmggICB8IDEwOSAtLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAzIGZpbGVzIGNoYW5nZWQsIDEgaW5zZXJ0aW9uKCsp
LCAxODEgZGVsZXRpb25zKC0pCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9kbWEtYnVmL3Nl
cW5vLWZlbmNlLmMKIGRlbGV0ZSBtb2RlIDEwMDY0NCBpbmNsdWRlL2xpbnV4L3NlcW5vLWZlbmNl
LmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2RtYS1idWYvTWFrZWZpbGUgYi9kcml2ZXJzL2RtYS1i
dWYvTWFrZWZpbGUKaW5kZXggNDBkODFmMjNjYWNmLi4xZWYwMjEyNzNhMDYgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZG1hLWJ1Zi9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2RtYS1idWYvTWFrZWZpbGUK
QEAgLTEsNiArMSw2IEBACiAjIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkK
IG9iai15IDo9IGRtYS1idWYubyBkbWEtZmVuY2UubyBkbWEtZmVuY2UtYXJyYXkubyBkbWEtZmVu
Y2UtY2hhaW4ubyBcCi0JIGRtYS1yZXN2Lm8gc2Vxbm8tZmVuY2UubworCSBkbWEtcmVzdi5vCiBv
YmotJChDT05GSUdfRE1BQlVGX0hFQVBTKQkrPSBkbWEtaGVhcC5vCiBvYmotJChDT05GSUdfRE1B
QlVGX0hFQVBTKQkrPSBoZWFwcy8KIG9iai0kKENPTkZJR19TWU5DX0ZJTEUpCQkrPSBzeW5jX2Zp
bGUubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9kbWEtYnVmL3NlcW5vLWZlbmNlLmMgYi9kcml2ZXJz
L2RtYS1idWYvc2Vxbm8tZmVuY2UuYwpkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggYmZl
MTRlOTRjNDg4Li4wMDAwMDAwMDAwMDAKLS0tIGEvZHJpdmVycy9kbWEtYnVmL3NlcW5vLWZlbmNl
LmMKKysrIC9kZXYvbnVsbApAQCAtMSw3MSArMCwwIEBACi0vLyBTUERYLUxpY2Vuc2UtSWRlbnRp
ZmllcjogR1BMLTIuMC1vbmx5Ci0vKgotICogc2Vxbm8tZmVuY2UsIHVzaW5nIGEgZG1hLWJ1ZiB0
byBzeW5jaHJvbml6ZSBmZW5jaW5nCi0gKgotICogQ29weXJpZ2h0IChDKSAyMDEyIFRleGFzIElu
c3RydW1lbnRzCi0gKiBDb3B5cmlnaHQgKEMpIDIwMTItMjAxNCBDYW5vbmljYWwgTHRkCi0gKiBB
dXRob3JzOgotICogICBSb2IgQ2xhcmsgPHJvYmRjbGFya0BnbWFpbC5jb20+Ci0gKiAgIE1hYXJ0
ZW4gTGFua2hvcnN0IDxtYWFydGVuLmxhbmtob3JzdEBjYW5vbmljYWwuY29tPgotICovCi0KLSNp
bmNsdWRlIDxsaW51eC9zbGFiLmg+Ci0jaW5jbHVkZSA8bGludXgvZXhwb3J0Lmg+Ci0jaW5jbHVk
ZSA8bGludXgvc2Vxbm8tZmVuY2UuaD4KLQotc3RhdGljIGNvbnN0IGNoYXIgKnNlcW5vX2ZlbmNl
X2dldF9kcml2ZXJfbmFtZShzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKLXsKLQlzdHJ1Y3Qgc2Vx
bm9fZmVuY2UgKnNlcW5vX2ZlbmNlID0gdG9fc2Vxbm9fZmVuY2UoZmVuY2UpOwotCi0JcmV0dXJu
IHNlcW5vX2ZlbmNlLT5vcHMtPmdldF9kcml2ZXJfbmFtZShmZW5jZSk7Ci19Ci0KLXN0YXRpYyBj
b25zdCBjaGFyICpzZXFub19mZW5jZV9nZXRfdGltZWxpbmVfbmFtZShzdHJ1Y3QgZG1hX2ZlbmNl
ICpmZW5jZSkKLXsKLQlzdHJ1Y3Qgc2Vxbm9fZmVuY2UgKnNlcW5vX2ZlbmNlID0gdG9fc2Vxbm9f
ZmVuY2UoZmVuY2UpOwotCi0JcmV0dXJuIHNlcW5vX2ZlbmNlLT5vcHMtPmdldF90aW1lbGluZV9u
YW1lKGZlbmNlKTsKLX0KLQotc3RhdGljIGJvb2wgc2Vxbm9fZW5hYmxlX3NpZ25hbGluZyhzdHJ1
Y3QgZG1hX2ZlbmNlICpmZW5jZSkKLXsKLQlzdHJ1Y3Qgc2Vxbm9fZmVuY2UgKnNlcW5vX2ZlbmNl
ID0gdG9fc2Vxbm9fZmVuY2UoZmVuY2UpOwotCi0JcmV0dXJuIHNlcW5vX2ZlbmNlLT5vcHMtPmVu
YWJsZV9zaWduYWxpbmcoZmVuY2UpOwotfQotCi1zdGF0aWMgYm9vbCBzZXFub19zaWduYWxlZChz
dHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKLXsKLQlzdHJ1Y3Qgc2Vxbm9fZmVuY2UgKnNlcW5vX2Zl
bmNlID0gdG9fc2Vxbm9fZmVuY2UoZmVuY2UpOwotCi0JcmV0dXJuIHNlcW5vX2ZlbmNlLT5vcHMt
PnNpZ25hbGVkICYmIHNlcW5vX2ZlbmNlLT5vcHMtPnNpZ25hbGVkKGZlbmNlKTsKLX0KLQotc3Rh
dGljIHZvaWQgc2Vxbm9fcmVsZWFzZShzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKLXsKLQlzdHJ1
Y3Qgc2Vxbm9fZmVuY2UgKmYgPSB0b19zZXFub19mZW5jZShmZW5jZSk7Ci0KLQlkbWFfYnVmX3B1
dChmLT5zeW5jX2J1Zik7Ci0JaWYgKGYtPm9wcy0+cmVsZWFzZSkKLQkJZi0+b3BzLT5yZWxlYXNl
KGZlbmNlKTsKLQllbHNlCi0JCWRtYV9mZW5jZV9mcmVlKCZmLT5iYXNlKTsKLX0KLQotc3RhdGlj
IHNpZ25lZCBsb25nIHNlcW5vX3dhaXQoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGJvb2wgaW50
ciwKLQkJCSAgICAgIHNpZ25lZCBsb25nIHRpbWVvdXQpCi17Ci0Jc3RydWN0IHNlcW5vX2ZlbmNl
ICpmID0gdG9fc2Vxbm9fZmVuY2UoZmVuY2UpOwotCi0JcmV0dXJuIGYtPm9wcy0+d2FpdChmZW5j
ZSwgaW50ciwgdGltZW91dCk7Ci19Ci0KLWNvbnN0IHN0cnVjdCBkbWFfZmVuY2Vfb3BzIHNlcW5v
X2ZlbmNlX29wcyA9IHsKLQkuZ2V0X2RyaXZlcl9uYW1lID0gc2Vxbm9fZmVuY2VfZ2V0X2RyaXZl
cl9uYW1lLAotCS5nZXRfdGltZWxpbmVfbmFtZSA9IHNlcW5vX2ZlbmNlX2dldF90aW1lbGluZV9u
YW1lLAotCS5lbmFibGVfc2lnbmFsaW5nID0gc2Vxbm9fZW5hYmxlX3NpZ25hbGluZywKLQkuc2ln
bmFsZWQgPSBzZXFub19zaWduYWxlZCwKLQkud2FpdCA9IHNlcW5vX3dhaXQsCi0JLnJlbGVhc2Ug
PSBzZXFub19yZWxlYXNlLAotfTsKLUVYUE9SVF9TWU1CT0woc2Vxbm9fZmVuY2Vfb3BzKTsKZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvc2Vxbm8tZmVuY2UuaCBiL2luY2x1ZGUvbGludXgvc2Vx
bm8tZmVuY2UuaApkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggM2NjYTJiOGZhYzQzLi4w
MDAwMDAwMDAwMDAKLS0tIGEvaW5jbHVkZS9saW51eC9zZXFuby1mZW5jZS5oCisrKyAvZGV2L251
bGwKQEAgLTEsMTA5ICswLDAgQEAKLS8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4w
LW9ubHkgKi8KLS8qCi0gKiBzZXFuby1mZW5jZSwgdXNpbmcgYSBkbWEtYnVmIHRvIHN5bmNocm9u
aXplIGZlbmNpbmcKLSAqCi0gKiBDb3B5cmlnaHQgKEMpIDIwMTIgVGV4YXMgSW5zdHJ1bWVudHMK
LSAqIENvcHlyaWdodCAoQykgMjAxMiBDYW5vbmljYWwgTHRkCi0gKiBBdXRob3JzOgotICogICBS
b2IgQ2xhcmsgPHJvYmRjbGFya0BnbWFpbC5jb20+Ci0gKiAgIE1hYXJ0ZW4gTGFua2hvcnN0IDxt
YWFydGVuLmxhbmtob3JzdEBjYW5vbmljYWwuY29tPgotICovCi0KLSNpZm5kZWYgX19MSU5VWF9T
RVFOT19GRU5DRV9ICi0jZGVmaW5lIF9fTElOVVhfU0VRTk9fRkVOQ0VfSAotCi0jaW5jbHVkZSA8
bGludXgvZG1hLWZlbmNlLmg+Ci0jaW5jbHVkZSA8bGludXgvZG1hLWJ1Zi5oPgotCi1lbnVtIHNl
cW5vX2ZlbmNlX2NvbmRpdGlvbiB7Ci0JU0VRTk9fRkVOQ0VfV0FJVF9HRVFVQUwsCi0JU0VRTk9f
RkVOQ0VfV0FJVF9OT05aRVJPCi19OwotCi1zdHJ1Y3Qgc2Vxbm9fZmVuY2UgewotCXN0cnVjdCBk
bWFfZmVuY2UgYmFzZTsKLQotCWNvbnN0IHN0cnVjdCBkbWFfZmVuY2Vfb3BzICpvcHM7Ci0Jc3Ry
dWN0IGRtYV9idWYgKnN5bmNfYnVmOwotCXVpbnQzMl90IHNlcW5vX29mczsKLQllbnVtIHNlcW5v
X2ZlbmNlX2NvbmRpdGlvbiBjb25kaXRpb247Ci19OwotCi1leHRlcm4gY29uc3Qgc3RydWN0IGRt
YV9mZW5jZV9vcHMgc2Vxbm9fZmVuY2Vfb3BzOwotCi0vKioKLSAqIHRvX3NlcW5vX2ZlbmNlIC0g
Y2FzdCBhIGZlbmNlIHRvIGEgc2Vxbm9fZmVuY2UKLSAqIEBmZW5jZTogZmVuY2UgdG8gY2FzdCB0
byBhIHNlcW5vX2ZlbmNlCi0gKgotICogUmV0dXJucyBOVUxMIGlmIHRoZSBmZW5jZSBpcyBub3Qg
YSBzZXFub19mZW5jZSwKLSAqIG9yIHRoZSBzZXFub19mZW5jZSBvdGhlcndpc2UuCi0gKi8KLXN0
YXRpYyBpbmxpbmUgc3RydWN0IHNlcW5vX2ZlbmNlICoKLXRvX3NlcW5vX2ZlbmNlKHN0cnVjdCBk
bWFfZmVuY2UgKmZlbmNlKQotewotCWlmIChmZW5jZS0+b3BzICE9ICZzZXFub19mZW5jZV9vcHMp
Ci0JCXJldHVybiBOVUxMOwotCXJldHVybiBjb250YWluZXJfb2YoZmVuY2UsIHN0cnVjdCBzZXFu
b19mZW5jZSwgYmFzZSk7Ci19Ci0KLS8qKgotICogc2Vxbm9fZmVuY2VfaW5pdCAtIGluaXRpYWxp
emUgYSBzZXFubyBmZW5jZQotICogQGZlbmNlOiBzZXFub19mZW5jZSB0byBpbml0aWFsaXplCi0g
KiBAbG9jazogcG9pbnRlciB0byBzcGlubG9jayB0byB1c2UgZm9yIGZlbmNlCi0gKiBAc3luY19i
dWY6IGJ1ZmZlciBjb250YWluaW5nIHRoZSBtZW1vcnkgbG9jYXRpb24gdG8gc2lnbmFsIG9uCi0g
KiBAY29udGV4dDogdGhlIGV4ZWN1dGlvbiBjb250ZXh0IHRoaXMgZmVuY2UgaXMgYSBwYXJ0IG9m
Ci0gKiBAc2Vxbm9fb2ZzOiB0aGUgb2Zmc2V0IHdpdGhpbiBAc3luY19idWYKLSAqIEBzZXFubzog
dGhlIHNlcXVlbmNlICMgdG8gc2lnbmFsIG9uCi0gKiBAY29uZDogZmVuY2Ugd2FpdCBjb25kaXRp
b24KLSAqIEBvcHM6IHRoZSBmZW5jZV9vcHMgZm9yIG9wZXJhdGlvbnMgb24gdGhpcyBzZXFubyBm
ZW5jZQotICoKLSAqIFRoaXMgZnVuY3Rpb24gaW5pdGlhbGl6ZXMgYSBzdHJ1Y3Qgc2Vxbm9fZmVu
Y2Ugd2l0aCBwYXNzZWQgcGFyYW1ldGVycywKLSAqIGFuZCB0YWtlcyBhIHJlZmVyZW5jZSBvbiBz
eW5jX2J1ZiB3aGljaCBpcyByZWxlYXNlZCBvbiBmZW5jZSBkZXN0cnVjdGlvbi4KLSAqCi0gKiBB
IHNlcW5vX2ZlbmNlIGlzIGEgZG1hX2ZlbmNlIHdoaWNoIGNhbiBjb21wbGV0ZSBpbiBzb2Z0d2Fy
ZSB3aGVuCi0gKiBlbmFibGVfc2lnbmFsaW5nIGlzIGNhbGxlZCwgYnV0IGl0IGFsc28gY29tcGxl
dGVzIHdoZW4KLSAqIChzMzIpKChzeW5jX2J1Zilbc2Vxbm9fb2ZzXSAtIHNlcW5vKSA+PSAwIGlz
IHRydWUKLSAqCi0gKiBUaGUgc2Vxbm9fZmVuY2Ugd2lsbCB0YWtlIGEgcmVmY291bnQgb24gdGhl
IHN5bmNfYnVmIHVudGlsIGl0J3MKLSAqIGRlc3Ryb3llZCwgYnV0IGFjdHVhbCBsaWZldGltZSBv
ZiBzeW5jX2J1ZiBtYXkgYmUgbG9uZ2VyIGlmIG9uZSBvZiB0aGUKLSAqIGNhbGxlcnMgdGFrZSBh
IHJlZmVyZW5jZSB0byBpdC4KLSAqCi0gKiBDZXJ0YWluIGhhcmR3YXJlIGhhdmUgaW5zdHJ1Y3Rp
b25zIHRvIGluc2VydCB0aGlzIHR5cGUgb2Ygd2FpdCBjb25kaXRpb24KLSAqIGluIHRoZSBjb21t
YW5kIHN0cmVhbSwgc28gbm8gaW50ZXJ2ZW50aW9uIGZyb20gc29mdHdhcmUgd291bGQgYmUgbmVl
ZGVkLgotICogVGhpcyB0eXBlIG9mIGZlbmNlIGNhbiBiZSBkZXN0cm95ZWQgYmVmb3JlIGNvbXBs
ZXRlZCwgaG93ZXZlciBhIHJlZmVyZW5jZQotICogb24gdGhlIHN5bmNfYnVmIGRtYS1idWYgY2Fu
IGJlIHRha2VuLiBJdCBpcyBlbmNvdXJhZ2VkIHRvIHJlLXVzZSB0aGUgc2FtZQotICogZG1hLWJ1
ZiBmb3Igc3luY19idWYsIHNpbmNlIG1hcHBpbmcgb3IgdW5tYXBwaW5nIHRoZSBzeW5jX2J1ZiB0
byB0aGUKLSAqIGRldmljZSdzIHZtIGNhbiBiZSBleHBlbnNpdmUuCi0gKgotICogSXQgaXMgcmVj
b21tZW5kZWQgZm9yIGNyZWF0b3JzIG9mIHNlcW5vX2ZlbmNlIHRvIGNhbGwgZG1hX2ZlbmNlX3Np
Z25hbCgpCi0gKiBiZWZvcmUgZGVzdHJ1Y3Rpb24uIFRoaXMgd2lsbCBwcmV2ZW50IHBvc3NpYmxl
IGlzc3VlcyBmcm9tIHdyYXBhcm91bmQgYXQKLSAqIHRpbWUgb2YgaXNzdWUgdnMgdGltZSBvZiBj
aGVjaywgc2luY2UgdXNlcnMgY2FuIGNoZWNrIGRtYV9mZW5jZV9pc19zaWduYWxlZCgpCi0gKiBi
ZWZvcmUgc3VibWl0dGluZyBpbnN0cnVjdGlvbnMgZm9yIHRoZSBoYXJkd2FyZSB0byB3YWl0IG9u
IHRoZSBmZW5jZS4KLSAqIEhvd2V2ZXIsIHdoZW4gb3BzLmVuYWJsZV9zaWduYWxpbmcgaXMgbm90
IGNhbGxlZCwgaXQgZG9lc24ndCBoYXZlIHRvIGJlCi0gKiBkb25lIGFzIHNvb24gYXMgcG9zc2li
bGUsIGp1c3QgYmVmb3JlIHRoZXJlJ3MgYW55IHJlYWwgZGFuZ2VyIG9mIHNlcW5vCi0gKiB3cmFw
YXJvdW5kLgotICovCi1zdGF0aWMgaW5saW5lIHZvaWQKLXNlcW5vX2ZlbmNlX2luaXQoc3RydWN0
IHNlcW5vX2ZlbmNlICpmZW5jZSwgc3BpbmxvY2tfdCAqbG9jaywKLQkJIHN0cnVjdCBkbWFfYnVm
ICpzeW5jX2J1ZiwgIHVpbnQzMl90IGNvbnRleHQsCi0JCSB1aW50MzJfdCBzZXFub19vZnMsIHVp
bnQzMl90IHNlcW5vLAotCQkgZW51bSBzZXFub19mZW5jZV9jb25kaXRpb24gY29uZCwKLQkJIGNv
bnN0IHN0cnVjdCBkbWFfZmVuY2Vfb3BzICpvcHMpCi17Ci0JQlVHX09OKCFmZW5jZSB8fCAhc3lu
Y19idWYgfHwgIW9wcyk7Ci0JQlVHX09OKCFvcHMtPndhaXQgfHwgIW9wcy0+ZW5hYmxlX3NpZ25h
bGluZyB8fAotCSAgICAgICAhb3BzLT5nZXRfZHJpdmVyX25hbWUgfHwgIW9wcy0+Z2V0X3RpbWVs
aW5lX25hbWUpOwotCi0JLyoKLQkgKiBvcHMgaXMgdXNlZCBpbiBkbWFfZmVuY2VfaW5pdCBmb3Ig
Z2V0X2RyaXZlcl9uYW1lLCBzbyBuZWVkcyB0byBiZQotCSAqIGluaXRpYWxpemVkIGZpcnN0Ci0J
ICovCi0JZmVuY2UtPm9wcyA9IG9wczsKLQlkbWFfZmVuY2VfaW5pdCgmZmVuY2UtPmJhc2UsICZz
ZXFub19mZW5jZV9vcHMsIGxvY2ssIGNvbnRleHQsIHNlcW5vKTsKLQlnZXRfZG1hX2J1ZihzeW5j
X2J1Zik7Ci0JZmVuY2UtPnN5bmNfYnVmID0gc3luY19idWY7Ci0JZmVuY2UtPnNlcW5vX29mcyA9
IHNlcW5vX29mczsKLQlmZW5jZS0+Y29uZGl0aW9uID0gY29uZDsKLX0KLQotI2VuZGlmIC8qIF9f
TElOVVhfU0VRTk9fRkVOQ0VfSCAqLwotLSAKMi4yNS4xCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpMaW5hcm8tbW0tc2lnIG1haWxpbmcgbGlzdApMaW5h
cm8tbW0tc2lnQGxpc3RzLmxpbmFyby5vcmcKaHR0cHM6Ly9saXN0cy5saW5hcm8ub3JnL21haWxt
YW4vbGlzdGluZm8vbGluYXJvLW1tLXNpZwo=
