Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 8B91A411127
	for <lists+linaro-mm-sig@lfdr.de>; Mon, 20 Sep 2021 10:43:40 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 7EAA76329E
	for <lists+linaro-mm-sig@lfdr.de>; Mon, 20 Sep 2021 08:43:37 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 0957E61031; Mon, 20 Sep 2021 08:43:36 +0000 (UTC)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 1851A60C2C;
	Mon, 20 Sep 2021 08:43:33 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 830A8607A7
 for <linaro-mm-sig@lists.linaro.org>; Mon, 20 Sep 2021 08:43:31 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 80ED960C2C; Mon, 20 Sep 2021 08:43:31 +0000 (UTC)
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by lists.linaro.org (Postfix) with ESMTPS id 4364F607A7
 for <linaro-mm-sig@lists.linaro.org>; Mon, 20 Sep 2021 08:43:29 +0000 (UTC)
X-IronPort-AV: E=McAfee;i="6200,9189,10112"; a="223133435"
X-IronPort-AV: E=Sophos;i="5.85,307,1624345200"; d="scan'208";a="223133435"
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by orsmga103.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 20 Sep 2021 01:43:27 -0700
X-IronPort-AV: E=Sophos;i="5.85,307,1624345200"; d="scan'208";a="473479639"
Received: from gbradyx-mobl2.ger.corp.intel.com (HELO [10.213.235.119])
 ([10.213.235.119])
 by fmsmga007-auth.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 20 Sep 2021 01:43:26 -0700
To: Daniel Vetter <daniel@ffwll.ch>,
 =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
References: <20210917123513.1106-1-christian.koenig@amd.com>
 <20210917123513.1106-2-christian.koenig@amd.com>
 <YUSWzm+TjD7GHHO5@phenom.ffwll.local>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <8268d2e8-8a37-0ff1-7065-c8aaf5c8672b@linux.intel.com>
Date: Mon, 20 Sep 2021 09:43:14 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.11.0
MIME-Version: 1.0
In-Reply-To: <YUSWzm+TjD7GHHO5@phenom.ffwll.local>
Content-Language: en-US
X-Virus-Scanned: ClamAV using ClamSMTP
Subject: Re: [Linaro-mm-sig] [Intel-gfx] [PATCH 01/26] dma-buf: add
 dma_resv_for_each_fence_unlocked v2
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Cc: linaro-mm-sig@lists.linaro.org, intel-gfx@lists.freedesktop.org,
 dri-devel@lists.freedesktop.org, linux-media@vger.kernel.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

Ck9uIDE3LzA5LzIwMjEgMTQ6MjMsIERhbmllbCBWZXR0ZXIgd3JvdGU6Cj4gT24gRnJpLCBTZXAg
MTcsIDIwMjEgYXQgMDI6MzQ6NDhQTSArMDIwMCwgQ2hyaXN0aWFuIEvDtm5pZyB3cm90ZToKPj4g
QWJzdHJhY3QgdGhlIGNvbXBsZXhpdHkgb2YgaXRlcmF0aW5nIG92ZXIgYWxsIHRoZSBmZW5jZXMK
Pj4gaW4gYSBkbWFfcmVzdiBvYmplY3QuCj4+Cj4+IFRoZSBuZXcgbG9vcCBoYW5kbGVzIHRoZSB3
aG9sZSBSQ1UgYW5kIHJldHJ5IGRhbmNlIGFuZAo+PiByZXR1cm5zIG9ubHkgZmVuY2VzIHdoZXJl
IHdlIGNhbiBiZSBzdXJlIHdlIGdyYWJiZWQgdGhlCj4+IHJpZ2h0IG9uZS4KPj4KPj4gdjI6IGZp
eCBhY2Nlc3NpbmcgdGhlIHNoYXJlZCBmZW5jZXMgd2hpbGUgdGhleSBtaWdodCBiZSBmcmVlZCwK
Pj4gICAgICBpbXByb3ZlIGtlcm5lbGRvYywgcmVuYW1lIF9jdXJzb3IgdG8gX2l0ZXIsIGFkZAo+
PiAgICAgIGRtYV9yZXN2X2l0ZXJfaXNfZXhjbHVzaXZlLCBhZGQgZG1hX3Jlc3ZfaXRlcl9iZWdp
bi9lbmQKPj4KPj4gU2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtv
ZW5pZ0BhbWQuY29tPgo+PiAtLS0KPj4gICBkcml2ZXJzL2RtYS1idWYvZG1hLXJlc3YuYyB8IDYx
ICsrKysrKysrKysrKysrKysrKysrKysrKysrKwo+PiAgIGluY2x1ZGUvbGludXgvZG1hLXJlc3Yu
aCAgIHwgODQgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKPj4gICAyIGZp
bGVzIGNoYW5nZWQsIDE0NSBpbnNlcnRpb25zKCspCj4+Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2RtYS1idWYvZG1hLXJlc3YuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi5jCj4+IGluZGV4
IDg0ZmJlNjA2MjllMy4uM2U3N2NhZDJjOWQ0IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2RtYS1i
dWYvZG1hLXJlc3YuYwo+PiArKysgYi9kcml2ZXJzL2RtYS1idWYvZG1hLXJlc3YuYwo+PiBAQCAt
MzIzLDYgKzMyMyw2NyBAQCB2b2lkIGRtYV9yZXN2X2FkZF9leGNsX2ZlbmNlKHN0cnVjdCBkbWFf
cmVzdiAqb2JqLCBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKPj4gICB9Cj4+ICAgRVhQT1JUX1NZ
TUJPTChkbWFfcmVzdl9hZGRfZXhjbF9mZW5jZSk7Cj4+ICAgCj4+ICsvKioKPj4gKyAqIGRtYV9y
ZXN2X2l0ZXJfd2Fsa191bmxvY2tlZCAtIHdhbGsgb3ZlciBmZW5jZXMgaW4gYSBkbWFfcmVzdiBv
YmoKPj4gKyAqIEBjdXJzb3I6IGN1cnNvciB0byByZWNvcmQgdGhlIGN1cnJlbnQgcG9zaXRpb24K
Pj4gKyAqIEBmaXJzdDogaWYgd2Ugc2hvdWxkIHN0YXJ0IG92ZXIKPj4gKyAqCj4+ICsgKiBSZXR1
cm4gYWxsIHRoZSBmZW5jZXMgaW4gdGhlIGRtYV9yZXN2IG9iamVjdCB3aGljaCBhcmUgbm90IHll
dCBzaWduYWxlZC4KPj4gKyAqIFRoZSByZXR1cm5lZCBmZW5jZSBoYXMgYW4gZXh0cmEgbG9jYWwg
cmVmZXJlbmNlIHNvIHdpbGwgc3RheSBhbGl2ZS4KPj4gKyAqIElmIGEgY29uY3VycmVudCBtb2Rp
ZnkgaXMgZGV0ZWN0ZWQgdGhlIHdob2xlIGl0ZXJyYXRpb24gaXMgc3RhcnRlZCBvdmVyIGFnYWlu
Lgo+PiArICovCj4+ICtzdHJ1Y3QgZG1hX2ZlbmNlICpkbWFfcmVzdl9pdGVyX3dhbGtfdW5sb2Nr
ZWQoc3RydWN0IGRtYV9yZXN2X2l0ZXIgKmN1cnNvciwKPiAKPiBCaXQgb2NkLCBidXQgSSdkIHN0
aWxsIGp1c3QgY2FsbCB0aGF0IGl0ZXJfbmV4dC4KPiAKPj4gKwkJCQkJICAgICAgYm9vbCBmaXJz
dCkKPiAKPiBIbSBJJ2QgcHV0IGFsbCB0aGUgaW5pdCBjb2RlIGludG8gaXRlcl9iZWdpbiAuLi4K
CkBDaHJpc3RpYW46CgpDb3VsZCB5b3UgZW5naW5lZXIgc29tZXRoaW5nIGluIGhlcmUgd2hpY2gg
d291bGQsIGF0IGxlYXN0IGluIGRlYnVnIApidWlsZHMsIGNhdGNoIGZhaWx1cmVzIHRvIGNhbGwg
Iml0ZXIgYmVnaW4iIGJlZm9yZSB1c2luZyB0aGUgaXRlcmF0b3IgbWFjcm8/Cgo+IAo+PiArewo+
PiArCXN0cnVjdCBkbWFfcmVzdiAqb2JqID0gY3Vyc29yLT5vYmo7Cj4gCj4gQXJlbid0IHdlIG1p
c3NpbmcgcmN1X3JlYWRfbG9jaygpIGFyb3VuZCB0aGUgZW50aXJlIHRoaW5nIGhlcmU/Cj4gCj4+
ICsKPj4gKwlmaXJzdCB8PSByZWFkX3NlcWNvdW50X3JldHJ5KCZvYmotPnNlcSwgY3Vyc29yLT5z
ZXEpOwo+PiArCWRvIHsKPj4gKwkJLyogRHJvcCB0aGUgcmVmZXJlbmNlIGZyb20gdGhlIHByZXZp
b3VzIHJvdW5kICovCj4+ICsJCWRtYV9mZW5jZV9wdXQoY3Vyc29yLT5mZW5jZSk7Cj4+ICsKPj4g
KwkJY3Vyc29yLT5pc19maXJzdCA9IGZpcnN0Owo+PiArCQlpZiAoZmlyc3QpIHsKPj4gKwkJCWN1
cnNvci0+c2VxID0gcmVhZF9zZXFjb3VudF9iZWdpbigmb2JqLT5zZXEpOwo+PiArCQkJY3Vyc29y
LT5pbmRleCA9IC0xOwo+PiArCQkJY3Vyc29yLT5mZW5jZXMgPSBkbWFfcmVzdl9zaGFyZWRfbGlz
dChvYmopOwo+IAo+IEFuZCB0aGVuIGFsc28gY2FsbCBpdGVyX2JlZ2luIGZyb20gaGVyZS4gVGhh
dCB3YXkgd2UgZ3VhcmFudGVlIHRoYXQKPiByZWFkX3NlcWNvdW50X2JlZ2luIGlzIGFsd2F5cyBj
YWxsZWQgYmVmb3JlIF9yZXRyeSgpLiBJdCdzIG5vdCBhIHByb2JsZW0KPiB3aXRoIHRoZSBzZXFj
b3VudCBpbXBsZW1lbnRhdGlvbiAoSSB0aGluayBhdCBsZWFzdCksIGJ1dCBpdCBkZWZpbml0ZWx5
Cj4gbG9va3MgZnVubnkuCj4gCj4gQ2FsbGluZyBpdGVyX2JlZ2luIGhlcmUgYWxzbyBtYWtlcyBp
dCBjbGVhciB0aGF0IHdlJ3JlIGVzc2VudGlhbGx5Cj4gcmVzdGFydGluZy4KPiAKPj4gKwo+PiAr
CQkJY3Vyc29yLT5mZW5jZSA9IGRtYV9yZXN2X2V4Y2xfZmVuY2Uob2JqKTsKPj4gKwkJCWlmIChj
dXJzb3ItPmZlbmNlICYmCj4+ICsJCQkgICAgdGVzdF9iaXQoRE1BX0ZFTkNFX0ZMQUdfU0lHTkFM
RURfQklULAo+IAo+IFBsZWFzZSB1c2UgdGhlIHJpZ2h0IGRtYV9mZW5jZSB3cmFwcGVyIGhlcmUg
Zm9yIHRoaXMgYW5kIGRvbid0IGxvb2sgYXQgdGhlCj4gYml0cy9mbGFncyBvdXRzaWRlIG9mIGRt
YV9mZW5jZS5baGNdIGNvZGUuIEkganVzdCByZWFsaXplZCB0aGF0IHdlIGRvbid0Cj4gaGF2ZSB0
aGUgcmlnaHQgYW1vdW50IG9mIGJhcnJpZXJzIGluIHRoZXJlIGZvciB0aGUgZmFzdHBhdGgsIGku
ZS4gaWYgd2UKPiBoYXZlOgo+IAo+IHggPSAwOyAvKiBzdGF0aWMgaW5pdGlhbGl6ZXIgKi8KPiAK
PiB0aHJlYWQgYQo+IAl4ID0gMTsKPiAJZG1hX2ZlbmNlX3NpZ25hbChmZW5jZSk7Cj4gCj4gCj4g
dGhyZWFkIGI7Cj4gCWlmIChkbWFfZmVuY2VfaXNfc2lnbmFsbGVkKGZlbmNlKSkKPiAJCXByaW50
aygiJWlcbiIsIHgpOwo+IAo+IFRoZW4geW91IG1pZ2h0IGFjdHVhbGx5IGJlIGFibGUgdG8gb2Jz
ZXJ2ZSB4ID09IDAgaW4gdGhyZWFkIGIuIFdoaWNoIGlzCj4gbm90IHdoYXQgd2Ugd2FudCBhdCBh
bGwuCgpARGFuaWVsOgoKV2hhdCBkbyB5b3UgbWVhbiBoZXJlIC0gaW4gdGVybXMgb2YgaWYgJ3gn
IGlzICJleHRlcm5hbCIgKG5vdCBwYXJ0IG9mIApkbWEtZmVuY2UpLCB0aGVuIGFyZSB5b3Ugc3Vn
Z2VzdGluZyBkbWEtZmVuY2UgY29kZSBzaG91bGQgc2VyaWFsaXNlIGl0IApieSB1c2luZyBiYXJy
aWVycz8KClRoYXQgd291bGQgc291bmQgaW5jb3JyZWN0IHRvIG1lLCBvciBpbiBvdGhlciB3b3Jk
cywgSSB0aGluayBpdCdzIGZpbmUgCmlmIHggPT0gMCBpcyBvYnNlcnZlZCBpbiB5b3VyIGV4YW1w
bGUgdGhyZWFkIEIgc2luY2UgdGhhdCBjb2RlIGlzIG1peGluZyAKZXh0ZXJuYWwgZGF0YSB3aXRo
IGRtYS1mZW5jZS4KCkhtIGFsc28sIHRoZXJlIGlzIHRoYXQgYW5ub3lpbmcgYml0IHdoZXJlIGJ5
IHVzaW5nIGRtYV9mZW5jZV9pc19zaWduYWxlZCAKYW55IGNvZGUgYmVjb21lcyBhIGZlbmNlIHNp
Z25hbGluZyBjcml0aWNhbCBwYXRoLCB3aGljaCBJIG5ldmVyIGJvdWdodCAKaW50by4gVGhlcmUg
c2hvdWxkIGJlIGEgd2F5IHRvIHRlc3QgdGhlIHNpZ25hbGVkIHN0YXR1cyB3aXRob3V0IGFjdHVh
bGx5IApkb2luZyB0aGUgc2lnbmFsaW5nLiBPciBJIGFtIG1pc3VuZGVyc3RhbmRpbmcgc29tZXRo
aW5nIHNvIGJhZGx5IHRoYXQgaXMgCnJlYWxseSByZWFsbHkgaGFzIHRvIGJlIGxpa2UgdGhpcz8K
Cj4gU28gbm8gb3Blbi1jb2Rpbmcgb2YgZG1hX2ZlbmNlIGZsYWcgYml0cyBjb2RlIG91dHNpZGUg
b2YgZHJtX2ZlbmNlLltoY10KPiBwbGVhc2UuIEFuZCB5ZXMgaTkxNS1nZW0gY29kZSBpcyB1bmZv
cnR1bmF0ZWx5IGEgZGlzYXN0ZXIuCgpEb24ndCBldmVuIG1pc3MgYW4gb3Bwb3J0dW5pdHkgZm9y
IHNvbWUgZ29vZCB0cmFzaGluZyBubz8gOkQKCkJ1dCB5ZXMsIGRlY29uc3RydWN0ZWQgZG1hX2Zl
bmNlX3NpZ25hbCBJIHRob3VnaHQgd2Ugd2VyZSBzdXBwb3NlZCB0byAKYWRkIHRvIGNvcmUuIE9y
IGF0IGxlYXN0IHByb3Bvc2UsIGRvbid0IGV4YWN0bHkgcmVtZW1iZXIgaG93IHRoYXQgd2VudC4K
Cj4gCj4+ICsJCQkJICAgICAmY3Vyc29yLT5mZW5jZS0+ZmxhZ3MpKQo+PiArCQkJCWN1cnNvci0+
ZmVuY2UgPSBOVUxMOwo+PiArCQl9IGVsc2Ugewo+PiArCQkJY3Vyc29yLT5mZW5jZSA9IE5VTEw7
Cj4+ICsJCX0KPj4gKwo+PiArCQlpZiAoY3Vyc29yLT5mZW5jZSkgewo+PiArCQkJY3Vyc29yLT5m
ZW5jZSA9IGRtYV9mZW5jZV9nZXRfcmN1KGN1cnNvci0+ZmVuY2UpOwo+PiArCQl9IGVsc2UgaWYg
KGN1cnNvci0+YWxsX2ZlbmNlcyAmJiBjdXJzb3ItPmZlbmNlcykgewo+PiArCQkJc3RydWN0IGRt
YV9yZXN2X2xpc3QgKmZlbmNlcyA9IGN1cnNvci0+ZmVuY2VzOwo+PiArCj4+ICsJCQl3aGlsZSAo
KytjdXJzb3ItPmluZGV4IDwgZmVuY2VzLT5zaGFyZWRfY291bnQpIHsKPj4gKwkJCQljdXJzb3It
PmZlbmNlID0gcmN1X2RlcmVmZXJlbmNlKAo+PiArCQkJCQlmZW5jZXMtPnNoYXJlZFtjdXJzb3It
PmluZGV4XSk7Cj4+ICsJCQkJaWYgKCF0ZXN0X2JpdChETUFfRkVOQ0VfRkxBR19TSUdOQUxFRF9C
SVQsCj4+ICsJCQkJCSAgICAgICZjdXJzb3ItPmZlbmNlLT5mbGFncykpCj4+ICsJCQkJCWJyZWFr
Owo+PiArCQkJfQo+PiArCQkJaWYgKGN1cnNvci0+aW5kZXggPCBmZW5jZXMtPnNoYXJlZF9jb3Vu
dCkKPj4gKwkJCQljdXJzb3ItPmZlbmNlID0KPj4gKwkJCQkJZG1hX2ZlbmNlX2dldF9yY3UoY3Vy
c29yLT5mZW5jZSk7Cj4+ICsJCQllbHNlCj4+ICsJCQkJY3Vyc29yLT5mZW5jZSA9IE5VTEw7Cj4+
ICsJCX0KPiAKPiBUaGUgY29udHJvbCBmbG93IGhlcmUgaXMgdmVyeSBoYWlyeSwgYnV0IEknbSBu
b3Qgc3VyZSBob3cgdG8gYmVzdCBkbyB0aGlzLgo+IFdpdGggbXkgc3VnZ2VzdGlvbiB0byBtb3Zl
IHRoZSByZWFkX3NlcWNvdW50X2JlZ2luIGludG8gaXRlcl9iZWdpbiBtYXliZQo+IHNvbWV0aGlu
ZyBsaWtlIHRoaXM6Cj4gCj4gaXRlcl9uZXh0KCkKPiB7Cj4gCWRvIHsKPiAJCWRtYV9mZW5jZV9w
dXQoY3Vyc29yLT5mZW5jZSkKPiAJCWN1cnNvci0+ZmVuY2UgPSBOVUxMOwo+IAo+IAkJaWYgKGN1
cnNvci0+aW5kZXggPT0gLTEpIHsgLyogcmVzZXQgYnkgaXRlcl9iZWdpbigpCj4gCQkJY3Vyc29y
LT5mZW5jZSA9IGdldF9leGNsdXNpdmUoKTsKPiAJCQljdXNvci0+aW5kZXgrKzsKPiAJCX0gZWxz
ZSB7Cj4gCQkJY3Vyc29yLT5mZW5jZSA9IHNoYXJlZF9mZW5jZXNbKytjdXJzb3ItPmluZGV4XQo+
IAkJfQo+IAo+IAkJaWYgKCFkbWFfZmVuY2VfaXNfc2lnbmFsbGVkKGN1cnNvci0+ZmVuY2UpKQo+
IAkJCWNvbnRpbnVlOyAvKiBqdXN0IGdyYWIgdGhlIG5leHQgZmVuY2UuICovCj4gCj4gCQljdXJz
b3ItPmZlbmNlID0gIGRtYV9mZW5jZV9nZXRfcmN1KGN1cnNvci0+ZmVuY2UpOwo+IAo+IAkJaWYg
KCFjdXJzb3ItPmZlbmNlIHx8IHJlYWRfc2VxY291bnRfcmV0cnkoKSkgewo+IAkJCS8qIHdlIGxv
c3QgdGhlIHJhY2UsIHJlc3RhcnQgY29tcGxldGVseSAqLwo+IAkJCWl0ZXJfYmVnaW4oKTsgLyog
LT5mZW5jZSB3aWxsIGJlIGNsZWFuZWQgdXAgYXQgYmVnaW5uaW5nIG9mIHRoZSBsb29wICovCj4g
CQkJY29udGludWU7Cj4gCQl9Cj4gCj4gCQlyZXR1cm4gY3Vyc29yLT5mZW5jZTsKPiAJfSB3aGls
ZSAodHJ1ZSk7Cj4gfQo+IAo+IE1heWJlIEkgbWlzc2VkIHNvbWV0aGluZywgYnV0IHRoYXQgYXZv
aWRzIHRoZSBkdXBsaWNhdGlvbiBvZiBhbGwgdGhlCj4gdHJpY2t5IGNvZGUsIGkuZS4gY2hlY2tp
bmcgZm9yIHNpZ25hbGxpbmcsIHJjdSBwcm90ZWN0ZWQgY29uZGl0aW9uYWwKPiBmZW5jZV9nZXQs
IGFuZCB0aGUgcmV0cnkgaXMgYWxzbyBuaWNlbHkgYXQgdGhlIGVuZC4KPj4gKwo+PiArCQkvKiBG
b3IgdGhlIGV2ZW50dWFsbHkgbmV4dCByb3VuZCAqLwo+PiArCQlmaXJzdCA9IHRydWU7Cj4+ICsJ
fSB3aGlsZSAocmVhZF9zZXFjb3VudF9yZXRyeSgmb2JqLT5zZXEsIGN1cnNvci0+c2VxKSk7Cj4+
ICsKPj4gKwlyZXR1cm4gY3Vyc29yLT5mZW5jZTsKPj4gK30KPj4gK0VYUE9SVF9TWU1CT0xfR1BM
KGRtYV9yZXN2X2l0ZXJfd2Fsa191bmxvY2tlZCk7Cj4+ICsKPj4gICAvKioKPj4gICAgKiBkbWFf
cmVzdl9jb3B5X2ZlbmNlcyAtIENvcHkgYWxsIGZlbmNlcyBmcm9tIHNyYyB0byBkc3QuCj4+ICAg
ICogQGRzdDogdGhlIGRlc3RpbmF0aW9uIHJlc2VydmF0aW9uIG9iamVjdAo+PiBkaWZmIC0tZ2l0
IGEvaW5jbHVkZS9saW51eC9kbWEtcmVzdi5oIGIvaW5jbHVkZS9saW51eC9kbWEtcmVzdi5oCj4+
IGluZGV4IDkxMDBkZDNkYzIxZi4uNjkzZDE2MTE3MTUzIDEwMDY0NAo+PiAtLS0gYS9pbmNsdWRl
L2xpbnV4L2RtYS1yZXN2LmgKPj4gKysrIGIvaW5jbHVkZS9saW51eC9kbWEtcmVzdi5oCj4+IEBA
IC0xNDksNiArMTQ5LDkwIEBAIHN0cnVjdCBkbWFfcmVzdiB7Cj4+ICAgCXN0cnVjdCBkbWFfcmVz
dl9saXN0IF9fcmN1ICpmZW5jZTsKPj4gICB9Owo+PiAgIAo+PiArLyoqCj4+ICsgKiBzdHJ1Y3Qg
ZG1hX3Jlc3ZfaXRlciAtIGN1cnJlbnQgcG9zaXRpb24gaW50byB0aGUgZG1hX3Jlc3YgZmVuY2Vz
Cj4+ICsgKgo+PiArICogRG9uJ3QgdG91Y2ggdGhpcyBkaXJlY3RseSBpbiB0aGUgZHJpdmVyLCB1
c2UgdGhlIGFjY2Vzc29yIGZ1bmN0aW9uIGluc3RlYWQuCj4+ICsgKi8KPj4gK3N0cnVjdCBkbWFf
cmVzdl9pdGVyIHsKPj4gKwkvKiogQG9iajogVGhlIGRtYV9yZXN2IG9iamVjdCB3ZSBpdGVyYXRl
IG92ZXIgKi8KPj4gKwlzdHJ1Y3QgZG1hX3Jlc3YgKm9iajsKPj4gKwo+PiArCS8qKiBAYWxsX2Zl
bmNlczogSWYgYWxsIGZlbmNlcyBzaG91bGQgYmUgcmV0dXJuZWQgKi8KPj4gKwlib29sIGFsbF9m
ZW5jZXM7Cj4+ICsKPj4gKwkvKiogQGZlbmNlOiB0aGUgY3VycmVudGx5IGhhbmRsZWQgZmVuY2Ug
Ki8KPj4gKwlzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZTsKPj4gKwo+PiArCS8qKiBAc2VxOiBzZXF1
ZW5jZSBudW1iZXIgdG8gY2hlY2sgZm9yIG1vZGlmaWNhdGlvbnMgKi8KPj4gKwl1bnNpZ25lZCBp
bnQgc2VxOwo+PiArCj4+ICsJLyoqIEBpbmRleDogaW5kZXggaW50byB0aGUgc2hhcmVkIGZlbmNl
cyAqLwo+IAo+IElmIHlvdSBnbyB3aXRoIG15IHN1Z2dlc3Rpb24gKGFzc3VtaW5nIGl0IHdvcmtz
KTogUGxlYXNlIGFkZCAiLTEgaW5kaWNhdGVzCj4gdG8gcGljayB0aGUgZXhjbHVzaXZlIGZlbmNl
IGluc3RlYWQuIgo+IAo+PiArCXVuc2lnbmVkIGludCBpbmRleDsKPj4gKwo+PiArCS8qKiBAZmVu
Y2VzOiB0aGUgc2hhcmVkIGZlbmNlcyAqLwo+PiArCXN0cnVjdCBkbWFfcmVzdl9saXN0ICpmZW5j
ZXM7Cj4+ICsKPj4gKwkvKiogQGlzX2ZpcnN0OiB0cnVlIGlmIHRoaXMgaXMgdGhlIGZpcnN0IHJl
dHVybmVkIGZlbmNlICovCj4+ICsJYm9vbCBpc19maXJzdDsKPiAKPiBJIHRoaW5rIGlmIHdlIGp1
c3QgcmVseSBvbiAtMSA9PSBleGNsdXNpdmUgZmVuY2UvaXNfZmlyc3Qgd2UgZG9uJ3QgbmVlZAo+
IHRoaXMgb25lIGhlcmU/Cj4gCj4+ICt9Owo+PiArCj4+ICtzdHJ1Y3QgZG1hX2ZlbmNlICpkbWFf
cmVzdl9pdGVyX3dhbGtfdW5sb2NrZWQoc3RydWN0IGRtYV9yZXN2X2l0ZXIgKmN1cnNvciwKPj4g
KwkJCQkJICAgICAgYm9vbCBmaXJzdCk7Cj4+ICsKPj4gKy8qKgo+PiArICogZG1hX3Jlc3ZfaXRl
cl9iZWdpbiAtIGluaXRpYWxpemUgYSBkbWFfcmVzdl9pdGVyIG9iamVjdAo+PiArICogQGN1cnNv
cjogVGhlIGRtYV9yZXN2X2l0ZXIgb2JqZWN0IHRvIGluaXRpYWxpemUKPj4gKyAqIEBvYmo6IFRo
ZSBkbWFfcmVzdiBvYmplY3Qgd2hpY2ggd2Ugd2FudCB0byBpdGVyYXRvciBvdmVyCj4+ICsgKiBA
YWxsX2ZlbmNlczogSWYgYWxsIGZlbmNlcyBzaG91bGQgYmUgcmV0dXJuZWQgb3IganVzdCB0aGUg
ZXhjbHVzaXZlIG9uZQo+IAo+IFBsZWFzZSBhZGQ6ICJDYWxsZXJzIG11c3QgY2xlYW4gdXAgdGhl
IGl0ZXJhdG9yIHdpdGggZG1hX3Jlc3ZfaXRlcl9lbmQoKS4iCj4gCj4+ICsgKi8KPj4gK3N0YXRp
YyBpbmxpbmUgdm9pZCBkbWFfcmVzdl9pdGVyX2JlZ2luKHN0cnVjdCBkbWFfcmVzdl9pdGVyICpj
dXJzb3IsCj4+ICsJCQkJCXN0cnVjdCBkbWFfcmVzdiAqb2JqLAo+PiArCQkJCQlib29sIGFsbF9m
ZW5jZXMpCj4+ICt7Cj4+ICsJY3Vyc29yLT5vYmogPSBvYmo7Cj4+ICsJY3Vyc29yLT5hbGxfZmVu
Y2VzID0gYWxsX2ZlbmNlczsKPj4gKwljdXJzb3ItPmZlbmNlID0gTlVMTDsKPj4gK30KPj4gKwo+
PiArLyoqCj4+ICsgKiBkbWFfcmVzdl9pdGVyX2VuZCAtIGNsZWFudXAgYSBkbWFfcmVzdl9pdGVy
IG9iamVjdAo+PiArICogQGN1cnNvcjogdGhlIGRtYV9yZXN2X2l0ZXIgb2JqZWN0IHdoaWNoIHNo
b3VsZCBiZSBjbGVhbmVkIHVwCj4+ICsgKgo+PiArICogTWFrZSBzdXJlIHRoYXQgdGhlIHJlZmVy
ZW5jZSB0byB0aGUgZmVuY2UgaW4gdGhlIGN1cnNvciBpcyBwcm9wZXJseQo+PiArICogZHJvcHBl
ZC4KPiAKPiBQbGVhc2UgYWRkOgo+IAo+ICJUaGlzIGZ1bmN0aW9uIG11c3QgYmUgY2FsbGVkIGV2
ZXJ5IHRpbWUgZG1hX3Jlc3ZfaXRlcl9iZWdpbigpIHdhcyBjYWxsZWQKPiB0byBjbGVhbiB1cCBh
bnkgcmVmZXJlbmNlcy4iCj4+ICsgKi8KPj4gK3N0YXRpYyBpbmxpbmUgdm9pZCBkbWFfcmVzdl9p
dGVyX2VuZChzdHJ1Y3QgZG1hX3Jlc3ZfaXRlciAqY3Vyc29yKQo+PiArewo+PiArCWRtYV9mZW5j
ZV9wdXQoY3Vyc29yLT5mZW5jZSk7Cj4+ICt9Cj4+ICsKPj4gKy8qKgo+PiArICogZG1hX3Jlc3Zf
aXRlcl9pc19leGNsdXNpdmUgLSB0ZXN0IGlmIHRoZSBjdXJyZW50IGZlbmNlIGlzIHRoZSBleGNs
dXNpdmUgb25lCj4+ICsgKiBAY3Vyc29yOiB0aGUgY3Vyc29yIG9mIHRoZSBjdXJyZW50IHBvc2l0
aW9uCj4+ICsgKgo+PiArICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50bHkgcmV0dXJuZWQg
ZmVuY2UgaXMgdGhlIGV4Y2x1c2l2ZSBvbmUuCj4+ICsgKi8KPj4gK3N0YXRpYyBpbmxpbmUgYm9v
bCBkbWFfcmVzdl9pdGVyX2lzX2V4Y2x1c2l2ZShzdHJ1Y3QgZG1hX3Jlc3ZfaXRlciAqY3Vyc29y
KQo+PiArewo+PiArCXJldHVybiBjdXJzb3ItPmluZGV4ID09IC0xOwo+PiArfQo+PiArCj4+ICsv
KioKPj4gKyAqIGRtYV9yZXN2X2Zvcl9lYWNoX2ZlbmNlX3VubG9ja2VkIC0gdW5sb2NrZWQgZmVu
Y2UgaXRlcmF0b3IKPj4gKyAqIEBjdXJzb3I6IGEgc3RydWN0IGRtYV9yZXN2X2l0ZXIgcG9pbnRl
cgo+PiArICogQGZlbmNlOiB0aGUgY3VycmVudCBmZW5jZQo+PiArICoKPj4gKyAqIEl0ZXJhdGUg
b3ZlciB0aGUgZmVuY2VzIGluIGEgc3RydWN0IGRtYV9yZXN2IG9iamVjdCB3aXRob3V0IGhvbGRp
bmcgdGhlCj4+ICsgKiBkbWFfcmVzdjo6bG9jay4gVGhlIFJDVSByZWFkIHNpZGUgbG9jayBtdXN0
IGJlIGhvbGQgd2hlbiB1c2luZyB0aGlzLCBidXQgY2FuCj4+ICsgKiBiZSBkcm9wcGVkIGFuZCBy
ZS10YWtlbiBhcyBuZWNlc3NhcnkgaW5zaWRlIHRoZSBsb29wLiBUaGUgY3Vyc29yIG5lZWRzIHRv
IGJlCj4+ICsgKiBpbml0aWFsaXplZCB3aXRoIGRtYV9yZXN2X2l0ZXJfYmVnaW5fdW5sb2NrZWQo
KSBhbmQgY2xlYW5lZCB1cCB3aXRoCj4gCj4gV2UgZG9uJ3QgaGF2ZSBhbiBfdW5sb2NrZWQgdmVy
c2lvbj8KCkBDaHJpc3RpYW46CgpJJ2QgYWxzbyBtZW50aW9uIHRoYXQgdGhlIGZlbmNlIHJlZmVy
ZW5jZSBpcyBoZWxkIGR1cmluZyB0aGUgd2FsayBzbyAKc29tZW9uZSBpcyBsZXNzIGxpa2VseSB0
byBncmFiIGV4dHJhIG9uZXMuCgo+IAo+PiArICogZG1hX3Jlc3ZfaXRlcl9lbmRfdW5sb2NrZWQo
KS4KPj4gKyAqLwo+PiArI2RlZmluZSBkbWFfcmVzdl9mb3JfZWFjaF9mZW5jZV91bmxvY2tlZChj
dXJzb3IsIGZlbmNlKQkJCVwKPj4gKwlmb3IgKGZlbmNlID0gZG1hX3Jlc3ZfaXRlcl93YWxrX3Vu
bG9ja2VkKGN1cnNvciwgdHJ1ZSk7CQlcCj4+ICsJICAgICBmZW5jZTsgZmVuY2UgPSBkbWFfcmVz
dl9pdGVyX3dhbGtfdW5sb2NrZWQoY3Vyc29yLCBmYWxzZSkpCj4+ICsKPj4gICAjZGVmaW5lIGRt
YV9yZXN2X2hlbGQob2JqKSBsb2NrZGVwX2lzX2hlbGQoJihvYmopLT5sb2NrLmJhc2UpCj4+ICAg
I2RlZmluZSBkbWFfcmVzdl9hc3NlcnRfaGVsZChvYmopIGxvY2tkZXBfYXNzZXJ0X2hlbGQoJihv
YmopLT5sb2NrLmJhc2UpCj4+ICAgCj4+IC0tIAo+PiAyLjI1LjEKPj4KPiAKClJlZ2FyZHMsCgpU
dnJ0a28KCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkxp
bmFyby1tbS1zaWcgbWFpbGluZyBsaXN0CkxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9yZwpo
dHRwczovL2xpc3RzLmxpbmFyby5vcmcvbWFpbG1hbi9saXN0aW5mby9saW5hcm8tbW0tc2lnCg==
