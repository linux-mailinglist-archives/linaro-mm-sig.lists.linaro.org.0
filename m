Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id 0447D58D873
	for <lists+linaro-mm-sig@lfdr.de>; Tue,  9 Aug 2022 13:57:07 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 38BEF3F452
	for <lists+linaro-mm-sig@lfdr.de>; Tue,  9 Aug 2022 11:57:06 +0000 (UTC)
Received: from mail-ej1-f50.google.com (mail-ej1-f50.google.com [209.85.218.50])
	by lists.linaro.org (Postfix) with ESMTPS id B1F323ED9E
	for <linaro-mm-sig@lists.linaro.org>; Tue,  9 Aug 2022 11:57:02 +0000 (UTC)
Received: by mail-ej1-f50.google.com with SMTP id a7so21791772ejp.2
        for <linaro-mm-sig@lists.linaro.org>; Tue, 09 Aug 2022 04:57:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20210112;
        h=content-transfer-encoding:in-reply-to:from:references:cc:to
         :content-language:subject:user-agent:mime-version:date:message-id
         :from:to:cc;
        bh=/fKdhm2CzHsWYI9bFcof8nvFAnjIunrFr8NVTBfCJfY=;
        b=hoTduEQLhhOmTAejHFzHdmb4xcrLUfGvRNZd4JugAX4D+nJW3YenwDCwdxZI7XK2HF
         699KD8BszfLxUE7G5BzcMFU4MyOZ/w9B87mpKhSLJbCzSrwp4GvbKwuZqdsgXJ+H9pq0
         4rl1V5/Jsf7bAIr4asLt2+GLWCUvIL/3pNpDlE0vFEbyTd27c1j4qrxAW/zOh3OLkuyz
         ExJjYgfMSXtwjEw8JmF2SiwNCN1bNTLpjV2w9nIQ13G/+5aQ2Kqs5Tvd+Y3HMzWPVRh8
         HhAg7iMDEiXwtLXVGkPAY9P0h6dcraW+dfNznIn5MTCwSQ+X7hyttP61DvFHd9yPMXbq
         h27w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=content-transfer-encoding:in-reply-to:from:references:cc:to
         :content-language:subject:user-agent:mime-version:date:message-id
         :x-gm-message-state:from:to:cc;
        bh=/fKdhm2CzHsWYI9bFcof8nvFAnjIunrFr8NVTBfCJfY=;
        b=kfoRologBJ0UiGXAqezq6TH7uvk2SpgJHdXJxaz2BG2CsNR44/uSQTcQZHwQALZsMB
         FNbaV0JtnjNcu/6WPHRToNrAQyI/oBXYFkuWRs9Rfrx9RmtjaYvQIgN6q02ST0p0ztZY
         Ar4Wk/vEi+lMkFTmbdG0YFHQ31hnJpL3c3e3cVrGlvO1Gmo8yUrty5GX5NZ8KxNHbe/G
         dFuQI3XpX7vUZ5e72hfZiKdS9NiLzfxh1WHKx7mvSHGhnDDCqXRxYcnVPGPxt4L0AVjn
         P6cqVUsljKcxR5HYCpT7FFzPn35RUhFAddSiwxRfKMbZXKej75zjHVIDU8JKM3VfIeVy
         Eb4Q==
X-Gm-Message-State: ACgBeo0JMk4oK/TckfsRIg+P44xllGZun3+eOhTcCcL7xVZackuWQ3Bt
	XsoaPTx73GP030v+1i+vMc8=
X-Google-Smtp-Source: AA6agR7qcWdtlztjhrDqaJ8BncVmhFmWqRB23XlMO+W7Qt8cufcs8lsLylHTJoA0L8jBooiL4MEWlw==
X-Received: by 2002:a17:907:6d16:b0:731:17b5:699 with SMTP id sa22-20020a1709076d1600b0073117b50699mr12323457ejc.23.1660046221164;
        Tue, 09 Aug 2022 04:57:01 -0700 (PDT)
Received: from [192.168.178.21] (p57b0bd9f.dip0.t-ipconnect.de. [87.176.189.159])
        by smtp.gmail.com with ESMTPSA id e4-20020a170906314400b007309a570bacsm1029758eje.176.2022.08.09.04.56.54
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Tue, 09 Aug 2022 04:57:00 -0700 (PDT)
Message-ID: <d556c893-e31b-9e5d-09c2-abb0a3ab649f@gmail.com>
Date: Tue, 9 Aug 2022 13:56:53 +0200
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:91.0) Gecko/20100101
 Thunderbird/91.11.0
Content-Language: en-US
To: Dmitry Osipenko <dmitry.osipenko@collabora.com>,
 David Airlie <airlied@linux.ie>, Gerd Hoffmann <kraxel@redhat.com>,
 Gurchetan Singh <gurchetansingh@chromium.org>, Chia-I Wu
 <olvaffe@gmail.com>, Daniel Vetter <daniel@ffwll.ch>,
 Daniel Almeida <daniel.almeida@collabora.com>,
 Gert Wollny <gert.wollny@collabora.com>,
 Gustavo Padovan <gustavo.padovan@collabora.com>,
 Daniel Stone <daniel@fooishbar.org>,
 Tomeu Vizoso <tomeu.vizoso@collabora.com>,
 Maarten Lankhorst <maarten.lankhorst@linux.intel.com>,
 Maxime Ripard <mripard@kernel.org>, Thomas Zimmermann <tzimmermann@suse.de>,
 Rob Clark <robdclark@gmail.com>, Sumit Semwal <sumit.semwal@linaro.org>,
 =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>,
 "Pan, Xinhui" <Xinhui.Pan@amd.com>, Thierry Reding
 <thierry.reding@gmail.com>, Tomasz Figa <tfiga@chromium.org>,
 Marek Szyprowski <m.szyprowski@samsung.com>,
 Mauro Carvalho Chehab <mchehab@kernel.org>,
 Alex Deucher <alexander.deucher@amd.com>,
 Jani Nikula <jani.nikula@linux.intel.com>,
 Joonas Lahtinen <joonas.lahtinen@linux.intel.com>,
 Rodrigo Vivi <rodrigo.vivi@intel.com>,
 Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 =?UTF-8?Q?Thomas_Hellstr=c3=b6m?= <thomas_os@shipmail.org>
References: <20220725151839.31622-1-dmitry.osipenko@collabora.com>
 <20220725151839.31622-2-dmitry.osipenko@collabora.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
In-Reply-To: <20220725151839.31622-2-dmitry.osipenko@collabora.com>
Message-ID-Hash: VWWUOZ2SMOROTQ363NEHYYR54XCC2PIH
X-Message-ID-Hash: VWWUOZ2SMOROTQ363NEHYYR54XCC2PIH
X-MailFrom: ckoenig.leichtzumerken@gmail.com
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org, Dmitry Osipenko <digetx@gmail.com>, linux-media@vger.kernel.org, linaro-mm-sig@lists.linaro.org, amd-gfx@lists.freedesktop.org, intel-gfx@lists.freedesktop.org, kernel@collabora.com, virtualization@lists.linux-foundation.org, spice-devel@lists.freedesktop.org, linux-rdma@vger.kernel.org, linux-arm-msm@vger.kernel.org
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Re: [PATCH v2 1/5] dma-buf: Add _unlocked postfix to function names
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/VWWUOZ2SMOROTQ363NEHYYR54XCC2PIH/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"; format="flowed"
Content-Transfer-Encoding: base64

QW0gMjUuMDcuMjIgdW0gMTc6MTggc2NocmllYiBEbWl0cnkgT3NpcGVua286DQo+IEFkZCBfdW5s
b2NrZWQgcG9zdGZpeCB0byB0aGUgZG1hLWJ1ZiBBUEkgZnVuY3Rpb24gbmFtZXMgaW4gYSBwcmVw
YXJhdGlvbg0KPiB0byBtb3ZlIGFsbCBub24tZHluYW1pYyBkbWEtYnVmIHVzZXJzIG92ZXIgdG8g
dGhlIGR5bmFtaWMgbG9ja2luZw0KPiBzcGVjaWZpY2F0aW9uLiBUaGlzIHBhdGNoIG9ubHkgcmVu
YW1lcyBBUEkgZnVuY3Rpb25zLCBwcmVwYXJpbmcgZHJpdmVycw0KPiB0byB0aGUgY29tbW9uIGxv
Y2tpbmcgY29udmVudGlvbi4gTGF0ZXIgb24gd2Ugd2lsbCBtYWtlIHRoZSAidW5sb2NrZWQiDQo+
IGZ1bmN0aW9ucyB0byB0YWtlIHRoZSByZXNlcnZhdGlvbiBsb2NrLg0KPg0KPiBTdWdnZXN0ZWQt
Ynk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4NCj4gU2lnbmVk
LW9mZi1ieTogRG1pdHJ5IE9zaXBlbmtvIDxkbWl0cnkub3NpcGVua29AY29sbGFib3JhLmNvbT4N
Cg0KQ291bGQgYmUgdGhhdCB3ZSBsYXRlciBzYXkgd2Ugd2lsbCByZW1vdmUgdGhlIHByZWZpeCBh
Z2FpbiBiZWNhdXNlIHNvbWUgDQpmdW5jdGlvbnMgc2hvdWxkIHN0YXkgdW5sb2NrZWQsIGJ1dCBm
b3Igbm93IGl0IG1ha2VzIGl0IG11Y2ggY2xlYXJlciANCndoYXQgaGFwcGVucyBoZXJlLg0KDQpU
aGlzIHBhdGNoIGlzIEFja2VkLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmln
QGFtZC5jb20+DQoNCj4gLS0tDQo+ICAgZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYyAgICAgICAg
ICAgICAgICAgICAgIHwgNzYgKysrKysrKysrKy0tLS0tLS0tLQ0KPiAgIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9kbWFfYnVmLmMgICB8ICA0ICstDQo+ICAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jICAgICAgIHwgIDQgKy0NCj4gICBkcml2ZXJzL2dw
dS9kcm0vYXJtYWRhL2FybWFkYV9nZW0uYyAgICAgICAgICAgfCAxNCArKy0tDQo+ICAgZHJpdmVy
cy9ncHUvZHJtL2RybV9nZW1fY21hX2hlbHBlci5jICAgICAgICAgIHwgIDYgKy0NCj4gICBkcml2
ZXJzL2dwdS9kcm0vZHJtX2dlbV9zaG1lbV9oZWxwZXIuYyAgICAgICAgfCAgNiArLQ0KPiAgIGRy
aXZlcnMvZ3B1L2RybS9kcm1fcHJpbWUuYyAgICAgICAgICAgICAgICAgICB8IDEyICstLQ0KPiAg
IGRyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZ2VtX3ByaW1lLmMgICB8ICA2ICstDQo+
ICAgZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2dlbS5jICAgICAgIHwgIDIgKy0N
Cj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZG1hYnVmLmMgICAgfCAxMiAr
LS0NCj4gICAuLi4vZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9kbWFidWYuYyAgfCAy
MCArKy0tLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBfZ2VtX2RtYWJ1Zi5jICAg
ICB8ICA4ICstDQo+ICAgZHJpdmVycy9ncHUvZHJtL3RlZ3JhL2dlbS5jICAgICAgICAgICAgICAg
ICAgIHwgMjcgKysrLS0tLQ0KPiAgIGRyaXZlcnMvaW5maW5pYmFuZC9jb3JlL3VtZW1fZG1hYnVm
LmMgICAgICAgICB8IDExICstLQ0KPiAgIC4uLi9jb21tb24vdmlkZW9idWYyL3ZpZGVvYnVmMi1k
bWEtY29udGlnLmMgICB8IDE1ICsrLS0NCj4gICAuLi4vbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92
aWRlb2J1ZjItZG1hLXNnLmMgfCAxMiArLS0NCj4gICAuLi4vY29tbW9uL3ZpZGVvYnVmMi92aWRl
b2J1ZjItdm1hbGxvYy5jICAgICAgfCAgNiArLQ0KPiAgIC4uLi9wbGF0Zm9ybS9udmlkaWEvdGVn
cmEtdmRlL2RtYWJ1Zi1jYWNoZS5jICB8IDEyICstLQ0KPiAgIGRyaXZlcnMvbWlzYy9mYXN0cnBj
LmMgICAgICAgICAgICAgICAgICAgICAgICB8IDEyICstLQ0KPiAgIGRyaXZlcnMveGVuL2dudGRl
di1kbWFidWYuYyAgICAgICAgICAgICAgICAgICB8IDE0ICsrLS0NCj4gICBpbmNsdWRlL2xpbnV4
L2RtYS1idWYuaCAgICAgICAgICAgICAgICAgICAgICAgfCAzNCArKysrKy0tLS0NCj4gICAyMSBm
aWxlcyBjaGFuZ2VkLCAxNjEgaW5zZXJ0aW9ucygrKSwgMTUyIGRlbGV0aW9ucygtKQ0KPg0KPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9k
bWEtYnVmLmMNCj4gaW5kZXggNDQ1NzRmYmU3NDgyLi5kMTYyMzdhNmZmYWEgMTAwNjQ0DQo+IC0t
LSBhL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtYnVmLmMNCj4gKysrIGIvZHJpdmVycy9kbWEtYnVmL2Rt
YS1idWYuYw0KPiBAQCAtNzk1LDcgKzc5NSw3IEBAIHN0YXRpYyBzdHJ1Y3Qgc2dfdGFibGUgKiBf
X21hcF9kbWFfYnVmKHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCwNCj4gICB9DQo+
ICAgDQo+ICAgLyoqDQo+IC0gKiBkbWFfYnVmX2R5bmFtaWNfYXR0YWNoIC0gQWRkIHRoZSBkZXZp
Y2UgdG8gZG1hX2J1ZidzIGF0dGFjaG1lbnRzIGxpc3QNCj4gKyAqIGRtYV9idWZfZHluYW1pY19h
dHRhY2hfdW5sb2NrZWQgLSBBZGQgdGhlIGRldmljZSB0byBkbWFfYnVmJ3MgYXR0YWNobWVudHMg
bGlzdA0KPiAgICAqIEBkbWFidWY6CQlbaW5dCWJ1ZmZlciB0byBhdHRhY2ggZGV2aWNlIHRvLg0K
PiAgICAqIEBkZXY6CQlbaW5dCWRldmljZSB0byBiZSBhdHRhY2hlZC4NCj4gICAgKiBAaW1wb3J0
ZXJfb3BzOglbaW5dCWltcG9ydGVyIG9wZXJhdGlvbnMgZm9yIHRoZSBhdHRhY2htZW50DQo+IEBA
IC04MTcsOSArODE3LDkgQEAgc3RhdGljIHN0cnVjdCBzZ190YWJsZSAqIF9fbWFwX2RtYV9idWYo
c3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoLA0KPiAgICAqIGluZGljYXRlZCB3aXRo
IHRoZSBlcnJvciBjb2RlIC1FQlVTWS4NCj4gICAgKi8NCj4gICBzdHJ1Y3QgZG1hX2J1Zl9hdHRh
Y2htZW50ICoNCj4gLWRtYV9idWZfZHluYW1pY19hdHRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1
Ziwgc3RydWN0IGRldmljZSAqZGV2LA0KPiAtCQkgICAgICAgY29uc3Qgc3RydWN0IGRtYV9idWZf
YXR0YWNoX29wcyAqaW1wb3J0ZXJfb3BzLA0KPiAtCQkgICAgICAgdm9pZCAqaW1wb3J0ZXJfcHJp
dikNCj4gK2RtYV9idWZfZHluYW1pY19hdHRhY2hfdW5sb2NrZWQoc3RydWN0IGRtYV9idWYgKmRt
YWJ1Ziwgc3RydWN0IGRldmljZSAqZGV2LA0KPiArCQkJCWNvbnN0IHN0cnVjdCBkbWFfYnVmX2F0
dGFjaF9vcHMgKmltcG9ydGVyX29wcywNCj4gKwkJCQl2b2lkICppbXBvcnRlcl9wcml2KQ0KPiAg
IHsNCj4gICAJc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoOw0KPiAgIAlpbnQgcmV0
Ow0KPiBAQCAtODkyLDI1ICs4OTIsMjUgQEAgZG1hX2J1Zl9keW5hbWljX2F0dGFjaChzdHJ1Y3Qg
ZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ICAgCWlmIChkbWFfYnVmX2lz
X2R5bmFtaWMoYXR0YWNoLT5kbWFidWYpKQ0KPiAgIAkJZG1hX3Jlc3ZfdW5sb2NrKGF0dGFjaC0+
ZG1hYnVmLT5yZXN2KTsNCj4gICANCj4gLQlkbWFfYnVmX2RldGFjaChkbWFidWYsIGF0dGFjaCk7
DQo+ICsJZG1hX2J1Zl9kZXRhY2hfdW5sb2NrZWQoZG1hYnVmLCBhdHRhY2gpOw0KPiAgIAlyZXR1
cm4gRVJSX1BUUihyZXQpOw0KPiAgIH0NCj4gLUVYUE9SVF9TWU1CT0xfTlNfR1BMKGRtYV9idWZf
ZHluYW1pY19hdHRhY2gsIERNQV9CVUYpOw0KPiArRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1hX2J1
Zl9keW5hbWljX2F0dGFjaF91bmxvY2tlZCwgRE1BX0JVRik7DQo+ICAgDQo+ICAgLyoqDQo+IC0g
KiBkbWFfYnVmX2F0dGFjaCAtIFdyYXBwZXIgZm9yIGRtYV9idWZfZHluYW1pY19hdHRhY2gNCj4g
KyAqIGRtYV9idWZfYXR0YWNoX3VubG9ja2VkIC0gV3JhcHBlciBmb3IgZG1hX2J1Zl9keW5hbWlj
X2F0dGFjaA0KPiAgICAqIEBkbWFidWY6CVtpbl0JYnVmZmVyIHRvIGF0dGFjaCBkZXZpY2UgdG8u
DQo+ICAgICogQGRldjoJW2luXQlkZXZpY2UgdG8gYmUgYXR0YWNoZWQuDQo+ICAgICoNCj4gLSAq
IFdyYXBwZXIgdG8gY2FsbCBkbWFfYnVmX2R5bmFtaWNfYXR0YWNoKCkgZm9yIGRyaXZlcnMgd2hp
Y2ggc3RpbGwgdXNlIGEgc3RhdGljDQo+IC0gKiBtYXBwaW5nLg0KPiArICogV3JhcHBlciB0byBj
YWxsIGRtYV9idWZfZHluYW1pY19hdHRhY2hfdW5sb2NrZWQoKSBmb3IgZHJpdmVycyB3aGljaCBz
dGlsbA0KPiArICogdXNlIGEgc3RhdGljIG1hcHBpbmcuDQo+ICAgICovDQo+IC1zdHJ1Y3QgZG1h
X2J1Zl9hdHRhY2htZW50ICpkbWFfYnVmX2F0dGFjaChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLA0K
PiAtCQkJCQkgIHN0cnVjdCBkZXZpY2UgKmRldikNCj4gK3N0cnVjdCBkbWFfYnVmX2F0dGFjaG1l
bnQgKmRtYV9idWZfYXR0YWNoX3VubG9ja2VkKHN0cnVjdCBkbWFfYnVmICpkbWFidWYsDQo+ICsJ
CQkJCQkgICBzdHJ1Y3QgZGV2aWNlICpkZXYpDQo+ICAgew0KPiAtCXJldHVybiBkbWFfYnVmX2R5
bmFtaWNfYXR0YWNoKGRtYWJ1ZiwgZGV2LCBOVUxMLCBOVUxMKTsNCj4gKwlyZXR1cm4gZG1hX2J1
Zl9keW5hbWljX2F0dGFjaF91bmxvY2tlZChkbWFidWYsIGRldiwgTlVMTCwgTlVMTCk7DQo+ICAg
fQ0KPiAtRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1hX2J1Zl9hdHRhY2gsIERNQV9CVUYpOw0KPiAr
RVhQT1JUX1NZTUJPTF9OU19HUEwoZG1hX2J1Zl9hdHRhY2hfdW5sb2NrZWQsIERNQV9CVUYpOw0K
PiAgIA0KPiAgIHN0YXRpYyB2b2lkIF9fdW5tYXBfZG1hX2J1ZihzdHJ1Y3QgZG1hX2J1Zl9hdHRh
Y2htZW50ICphdHRhY2gsDQo+ICAgCQkJICAgIHN0cnVjdCBzZ190YWJsZSAqc2dfdGFibGUsDQo+
IEBAIC05MjMsNyArOTIzLDcgQEAgc3RhdGljIHZvaWQgX191bm1hcF9kbWFfYnVmKHN0cnVjdCBk
bWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCwNCj4gICB9DQo+ICAgDQo+ICAgLyoqDQo+IC0gKiBk
bWFfYnVmX2RldGFjaCAtIFJlbW92ZSB0aGUgZ2l2ZW4gYXR0YWNobWVudCBmcm9tIGRtYWJ1Zidz
IGF0dGFjaG1lbnRzIGxpc3QNCj4gKyAqIGRtYV9idWZfZGV0YWNoX3VubG9ja2VkIC0gUmVtb3Zl
IHRoZSBnaXZlbiBhdHRhY2htZW50IGZyb20gZG1hYnVmJ3MgYXR0YWNobWVudHMgbGlzdA0KPiAg
ICAqIEBkbWFidWY6CVtpbl0JYnVmZmVyIHRvIGRldGFjaCBmcm9tLg0KPiAgICAqIEBhdHRhY2g6
CVtpbl0JYXR0YWNobWVudCB0byBiZSBkZXRhY2hlZDsgaXMgZnJlZSdkIGFmdGVyIHRoaXMgY2Fs
bC4NCj4gICAgKg0KPiBAQCAtOTMxLDcgKzkzMSw4IEBAIHN0YXRpYyB2b2lkIF9fdW5tYXBfZG1h
X2J1ZihzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gsDQo+ICAgICoNCj4gICAgKiBP
cHRpb25hbGx5IHRoaXMgY2FsbHMgJmRtYV9idWZfb3BzLmRldGFjaCBmb3IgZGV2aWNlLXNwZWNp
ZmljIGRldGFjaC4NCj4gICAgKi8NCj4gLXZvaWQgZG1hX2J1Zl9kZXRhY2goc3RydWN0IGRtYV9i
dWYgKmRtYWJ1Ziwgc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoKQ0KPiArdm9pZCBk
bWFfYnVmX2RldGFjaF91bmxvY2tlZChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLA0KPiArCQkJICAg
ICBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gpDQo+ICAgew0KPiAgIAlpZiAoV0FS
Tl9PTighZG1hYnVmIHx8ICFhdHRhY2gpKQ0KPiAgIAkJcmV0dXJuOw0KPiBAQCAtOTU2LDE0ICs5
NTcsMTQgQEAgdm9pZCBkbWFfYnVmX2RldGFjaChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1
Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gpDQo+ICAgDQo+ICAgCWtmcmVlKGF0dGFjaCk7
DQo+ICAgfQ0KPiAtRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1hX2J1Zl9kZXRhY2gsIERNQV9CVUYp
Ow0KPiArRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1hX2J1Zl9kZXRhY2hfdW5sb2NrZWQsIERNQV9C
VUYpOw0KPiAgIA0KPiAgIC8qKg0KPiAgICAqIGRtYV9idWZfcGluIC0gTG9jayBkb3duIHRoZSBE
TUEtYnVmDQo+ICAgICogQGF0dGFjaDoJW2luXQlhdHRhY2htZW50IHdoaWNoIHNob3VsZCBiZSBw
aW5uZWQNCj4gICAgKg0KPiAtICogT25seSBkeW5hbWljIGltcG9ydGVycyAod2hvIHNldCB1cCBA
YXR0YWNoIHdpdGggZG1hX2J1Zl9keW5hbWljX2F0dGFjaCgpKSBtYXkNCj4gLSAqIGNhbGwgdGhp
cywgYW5kIG9ubHkgZm9yIGxpbWl0ZWQgdXNlIGNhc2VzIGxpa2Ugc2Nhbm91dCBhbmQgbm90IGZv
ciB0ZW1wb3JhcnkNCj4gKyAqIE9ubHkgZHluYW1pYyBpbXBvcnRlcnMgKHdobyBzZXQgdXAgQGF0
dGFjaCB3aXRoIGRtYV9idWZfZHluYW1pY19hdHRhY2hfdW5sb2NrZWQoKSkNCj4gKyAqIG1heSBj
YWxsIHRoaXMsIGFuZCBvbmx5IGZvciBsaW1pdGVkIHVzZSBjYXNlcyBsaWtlIHNjYW5vdXQgYW5k
IG5vdCBmb3IgdGVtcG9yYXJ5DQo+ICAgICogcGluIG9wZXJhdGlvbnMuIEl0IGlzIG5vdCBwZXJt
aXR0ZWQgdG8gYWxsb3cgdXNlcnNwYWNlIHRvIHBpbiBhcmJpdHJhcnkNCj4gICAgKiBhbW91bnRz
IG9mIGJ1ZmZlcnMgdGhyb3VnaCB0aGlzIGludGVyZmFjZS4NCj4gICAgKg0KPiBAQCAtMTAxMCw3
ICsxMDExLDcgQEAgdm9pZCBkbWFfYnVmX3VucGluKHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQg
KmF0dGFjaCkNCj4gICBFWFBPUlRfU1lNQk9MX05TX0dQTChkbWFfYnVmX3VucGluLCBETUFfQlVG
KTsNCj4gICANCj4gICAvKioNCj4gLSAqIGRtYV9idWZfbWFwX2F0dGFjaG1lbnQgLSBSZXR1cm5z
IHRoZSBzY2F0dGVybGlzdCB0YWJsZSBvZiB0aGUgYXR0YWNobWVudDsNCj4gKyAqIGRtYV9idWZf
bWFwX2F0dGFjaG1lbnRfbG9ja2VkIC0gUmV0dXJucyB0aGUgc2NhdHRlcmxpc3QgdGFibGUgb2Yg
dGhlIGF0dGFjaG1lbnQ7DQo+ICAgICogbWFwcGVkIGludG8gX2RldmljZV8gYWRkcmVzcyBzcGFj
ZS4gSXMgYSB3cmFwcGVyIGZvciBtYXBfZG1hX2J1ZigpIG9mIHRoZQ0KPiAgICAqIGRtYV9idWZf
b3BzLg0KPiAgICAqIEBhdHRhY2g6CVtpbl0JYXR0YWNobWVudCB3aG9zZSBzY2F0dGVybGlzdCBp
cyB0byBiZSByZXR1cm5lZA0KPiBAQCAtMTAzMCw4ICsxMDMxLDkgQEAgRVhQT1JUX1NZTUJPTF9O
U19HUEwoZG1hX2J1Zl91bnBpbiwgRE1BX0JVRik7DQo+ICAgICogSW1wb3J0YW50OiBEeW5hbWlj
IGltcG9ydGVycyBtdXN0IHdhaXQgZm9yIHRoZSBleGNsdXNpdmUgZmVuY2Ugb2YgdGhlIHN0cnVj
dA0KPiAgICAqIGRtYV9yZXN2IGF0dGFjaGVkIHRvIHRoZSBETUEtQlVGIGZpcnN0Lg0KPiAgICAq
Lw0KPiAtc3RydWN0IHNnX3RhYmxlICpkbWFfYnVmX21hcF9hdHRhY2htZW50KHN0cnVjdCBkbWFf
YnVmX2F0dGFjaG1lbnQgKmF0dGFjaCwNCj4gLQkJCQkJZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24g
ZGlyZWN0aW9uKQ0KPiArc3RydWN0IHNnX3RhYmxlICoNCj4gK2RtYV9idWZfbWFwX2F0dGFjaG1l
bnRfdW5sb2NrZWQoc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoLA0KPiArCQkJCWVu
dW0gZG1hX2RhdGFfZGlyZWN0aW9uIGRpcmVjdGlvbikNCj4gICB7DQo+ICAgCXN0cnVjdCBzZ190
YWJsZSAqc2dfdGFibGU7DQo+ICAgCWludCByOw0KPiBAQCAtMTA5NywxMCArMTA5OSwxMCBAQCBz
dHJ1Y3Qgc2dfdGFibGUgKmRtYV9idWZfbWFwX2F0dGFjaG1lbnQoc3RydWN0IGRtYV9idWZfYXR0
YWNobWVudCAqYXR0YWNoLA0KPiAgICNlbmRpZiAvKiBDT05GSUdfRE1BX0FQSV9ERUJVRyAqLw0K
PiAgIAlyZXR1cm4gc2dfdGFibGU7DQo+ICAgfQ0KPiAtRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1h
X2J1Zl9tYXBfYXR0YWNobWVudCwgRE1BX0JVRik7DQo+ICtFWFBPUlRfU1lNQk9MX05TX0dQTChk
bWFfYnVmX21hcF9hdHRhY2htZW50X3VubG9ja2VkLCBETUFfQlVGKTsNCj4gICANCj4gICAvKioN
Cj4gLSAqIGRtYV9idWZfdW5tYXBfYXR0YWNobWVudCAtIHVubWFwcyBhbmQgZGVjcmVhc2VzIHVz
ZWNvdW50IG9mIHRoZSBidWZmZXI7bWlnaHQNCj4gKyAqIGRtYV9idWZfdW5tYXBfYXR0YWNobWVu
dF91bmxvY2tlZCAtIHVubWFwcyBhbmQgZGVjcmVhc2VzIHVzZWNvdW50IG9mIHRoZSBidWZmZXI7
bWlnaHQNCj4gICAgKiBkZWFsbG9jYXRlIHRoZSBzY2F0dGVybGlzdCBhc3NvY2lhdGVkLiBJcyBh
IHdyYXBwZXIgZm9yIHVubWFwX2RtYV9idWYoKSBvZg0KPiAgICAqIGRtYV9idWZfb3BzLg0KPiAg
ICAqIEBhdHRhY2g6CVtpbl0JYXR0YWNobWVudCB0byB1bm1hcCBidWZmZXIgZnJvbQ0KPiBAQCAt
MTEwOSw5ICsxMTExLDkgQEAgRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1hX2J1Zl9tYXBfYXR0YWNo
bWVudCwgRE1BX0JVRik7DQo+ICAgICoNCj4gICAgKiBUaGlzIHVubWFwcyBhIERNQSBtYXBwaW5n
IGZvciBAYXR0YWNoZWQgb2J0YWluZWQgYnkgZG1hX2J1Zl9tYXBfYXR0YWNobWVudCgpLg0KPiAg
ICAqLw0KPiAtdm9pZCBkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnQoc3RydWN0IGRtYV9idWZfYXR0
YWNobWVudCAqYXR0YWNoLA0KPiAtCQkJCXN0cnVjdCBzZ190YWJsZSAqc2dfdGFibGUsDQo+IC0J
CQkJZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyZWN0aW9uKQ0KPiArdm9pZCBkbWFfYnVmX3Vu
bWFwX2F0dGFjaG1lbnRfdW5sb2NrZWQoc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNo
LA0KPiArCQkJCSAgICAgICBzdHJ1Y3Qgc2dfdGFibGUgKnNnX3RhYmxlLA0KPiArCQkJCSAgICAg
ICBlbnVtIGRtYV9kYXRhX2RpcmVjdGlvbiBkaXJlY3Rpb24pDQo+ICAgew0KPiAgIAltaWdodF9z
bGVlcCgpOw0KPiAgIA0KPiBAQCAtMTEzMyw3ICsxMTM1LDcgQEAgdm9pZCBkbWFfYnVmX3VubWFw
X2F0dGFjaG1lbnQoc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoLA0KPiAgIAkgICAg
IUlTX0VOQUJMRUQoQ09ORklHX0RNQUJVRl9NT1ZFX05PVElGWSkpDQo+ICAgCQlkbWFfYnVmX3Vu
cGluKGF0dGFjaCk7DQo+ICAgfQ0KPiAtRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1hX2J1Zl91bm1h
cF9hdHRhY2htZW50LCBETUFfQlVGKTsNCj4gK0VYUE9SVF9TWU1CT0xfTlNfR1BMKGRtYV9idWZf
dW5tYXBfYXR0YWNobWVudF91bmxvY2tlZCwgRE1BX0JVRik7DQo+ICAgDQo+ICAgLyoqDQo+ICAg
ICogZG1hX2J1Zl9tb3ZlX25vdGlmeSAtIG5vdGlmeSBhdHRhY2htZW50cyB0aGF0IERNQS1idWYg
aXMgbW92aW5nDQo+IEBAIC0xMzMwLDcgKzEzMzIsNyBAQCBFWFBPUlRfU1lNQk9MX05TX0dQTChk
bWFfYnVmX2VuZF9jcHVfYWNjZXNzLCBETUFfQlVGKTsNCj4gICANCj4gICANCj4gICAvKioNCj4g
LSAqIGRtYV9idWZfbW1hcCAtIFNldHVwIHVwIGEgdXNlcnNwYWNlIG1tYXAgd2l0aCB0aGUgZ2l2
ZW4gdm1hDQo+ICsgKiBkbWFfYnVmX21tYXBfdW5sb2NrZWQgLSBTZXR1cCB1cCBhIHVzZXJzcGFj
ZSBtbWFwIHdpdGggdGhlIGdpdmVuIHZtYQ0KPiAgICAqIEBkbWFidWY6CVtpbl0JYnVmZmVyIHRo
YXQgc2hvdWxkIGJhY2sgdGhlIHZtYQ0KPiAgICAqIEB2bWE6CVtpbl0Jdm1hIGZvciB0aGUgbW1h
cA0KPiAgICAqIEBwZ29mZjoJW2luXQlvZmZzZXQgaW4gcGFnZXMgd2hlcmUgdGhpcyBtbWFwIHNo
b3VsZCBzdGFydCB3aXRoaW4gdGhlDQo+IEBAIC0xMzQzLDggKzEzNDUsOCBAQCBFWFBPUlRfU1lN
Qk9MX05TX0dQTChkbWFfYnVmX2VuZF9jcHVfYWNjZXNzLCBETUFfQlVGKTsNCj4gICAgKg0KPiAg
ICAqIENhbiByZXR1cm4gbmVnYXRpdmUgZXJyb3IgdmFsdWVzLCByZXR1cm5zIDAgb24gc3VjY2Vz
cy4NCj4gICAgKi8NCj4gLWludCBkbWFfYnVmX21tYXAoc3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwg
c3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEsDQo+IC0JCSB1bnNpZ25lZCBsb25nIHBnb2ZmKQ0K
PiAraW50IGRtYV9idWZfbW1hcF91bmxvY2tlZChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1
Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSwNCj4gKwkJCSAgdW5zaWduZWQgbG9uZyBwZ29mZikNCj4g
ICB7DQo+ICAgCWlmIChXQVJOX09OKCFkbWFidWYgfHwgIXZtYSkpDQo+ICAgCQlyZXR1cm4gLUVJ
TlZBTDsNCj4gQEAgLTEzNjgsMTAgKzEzNzAsMTAgQEAgaW50IGRtYV9idWZfbW1hcChzdHJ1Y3Qg
ZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSwNCj4gICANCj4gICAJ
cmV0dXJuIGRtYWJ1Zi0+b3BzLT5tbWFwKGRtYWJ1Ziwgdm1hKTsNCj4gICB9DQo+IC1FWFBPUlRf
U1lNQk9MX05TX0dQTChkbWFfYnVmX21tYXAsIERNQV9CVUYpOw0KPiArRVhQT1JUX1NZTUJPTF9O
U19HUEwoZG1hX2J1Zl9tbWFwX3VubG9ja2VkLCBETUFfQlVGKTsNCj4gICANCj4gICAvKioNCj4g
LSAqIGRtYV9idWZfdm1hcCAtIENyZWF0ZSB2aXJ0dWFsIG1hcHBpbmcgZm9yIHRoZSBidWZmZXIg
b2JqZWN0IGludG8ga2VybmVsDQo+ICsgKiBkbWFfYnVmX3ZtYXBfdW5sb2NrZWQgLSBDcmVhdGUg
dmlydHVhbCBtYXBwaW5nIGZvciB0aGUgYnVmZmVyIG9iamVjdCBpbnRvIGtlcm5lbA0KPiAgICAq
IGFkZHJlc3Mgc3BhY2UuIFNhbWUgcmVzdHJpY3Rpb25zIGFzIGZvciB2bWFwIGFuZCBmcmllbmRz
IGFwcGx5Lg0KPiAgICAqIEBkbWFidWY6CVtpbl0JYnVmZmVyIHRvIHZtYXANCj4gICAgKiBAbWFw
Oglbb3V0XQlyZXR1cm5zIHRoZSB2bWFwIHBvaW50ZXINCj4gQEAgLTEzODYsNyArMTM4OCw3IEBA
IEVYUE9SVF9TWU1CT0xfTlNfR1BMKGRtYV9idWZfbW1hcCwgRE1BX0JVRik7DQo+ICAgICoNCj4g
ICAgKiBSZXR1cm5zIDAgb24gc3VjY2Vzcywgb3IgYSBuZWdhdGl2ZSBlcnJubyBjb2RlIG90aGVy
d2lzZS4NCj4gICAgKi8NCj4gLWludCBkbWFfYnVmX3ZtYXAoc3RydWN0IGRtYV9idWYgKmRtYWJ1
Ziwgc3RydWN0IGlvc3lzX21hcCAqbWFwKQ0KPiAraW50IGRtYV9idWZfdm1hcF91bmxvY2tlZChz
dHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1Y3QgaW9zeXNfbWFwICptYXApDQo+ICAgew0KPiAg
IAlzdHJ1Y3QgaW9zeXNfbWFwIHB0cjsNCj4gICAJaW50IHJldCA9IDA7DQo+IEBAIC0xNDIyLDE0
ICsxNDI0LDE0IEBAIGludCBkbWFfYnVmX3ZtYXAoc3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwgc3Ry
dWN0IGlvc3lzX21hcCAqbWFwKQ0KPiAgIAltdXRleF91bmxvY2soJmRtYWJ1Zi0+bG9jayk7DQo+
ICAgCXJldHVybiByZXQ7DQo+ICAgfQ0KPiAtRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1hX2J1Zl92
bWFwLCBETUFfQlVGKTsNCj4gK0VYUE9SVF9TWU1CT0xfTlNfR1BMKGRtYV9idWZfdm1hcF91bmxv
Y2tlZCwgRE1BX0JVRik7DQo+ICAgDQo+ICAgLyoqDQo+IC0gKiBkbWFfYnVmX3Z1bm1hcCAtIFVu
bWFwIGEgdm1hcCBvYnRhaW5lZCBieSBkbWFfYnVmX3ZtYXAuDQo+ICsgKiBkbWFfYnVmX3Z1bm1h
cF91bmxvY2tlZCAtIFVubWFwIGEgdm1hcCBvYnRhaW5lZCBieSBkbWFfYnVmX3ZtYXAuDQo+ICAg
ICogQGRtYWJ1ZjoJW2luXQlidWZmZXIgdG8gdnVubWFwDQo+ICAgICogQG1hcDoJW2luXQl2bWFw
IHBvaW50ZXIgdG8gdnVubWFwDQo+ICAgICovDQo+IC12b2lkIGRtYV9idWZfdnVubWFwKHN0cnVj
dCBkbWFfYnVmICpkbWFidWYsIHN0cnVjdCBpb3N5c19tYXAgKm1hcCkNCj4gK3ZvaWQgZG1hX2J1
Zl92dW5tYXBfdW5sb2NrZWQoc3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwgc3RydWN0IGlvc3lzX21h
cCAqbWFwKQ0KPiAgIHsNCj4gICAJaWYgKFdBUk5fT04oIWRtYWJ1ZikpDQo+ICAgCQlyZXR1cm47
DQo+IEBAIC0xNDQ2LDcgKzE0NDgsNyBAQCB2b2lkIGRtYV9idWZfdnVubWFwKHN0cnVjdCBkbWFf
YnVmICpkbWFidWYsIHN0cnVjdCBpb3N5c19tYXAgKm1hcCkNCj4gICAJfQ0KPiAgIAltdXRleF91
bmxvY2soJmRtYWJ1Zi0+bG9jayk7DQo+ICAgfQ0KPiAtRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1h
X2J1Zl92dW5tYXAsIERNQV9CVUYpOw0KPiArRVhQT1JUX1NZTUJPTF9OU19HUEwoZG1hX2J1Zl92
dW5tYXBfdW5sb2NrZWQsIERNQV9CVUYpOw0KPiAgIA0KPiAgICNpZmRlZiBDT05GSUdfREVCVUdf
RlMNCj4gICBzdGF0aWMgaW50IGRtYV9idWZfZGVidWdfc2hvdyhzdHJ1Y3Qgc2VxX2ZpbGUgKnMs
IHZvaWQgKnVudXNlZCkNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9kbWFfYnVmLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZG1h
X2J1Zi5jDQo+IGluZGV4IDc4MmNiY2EzNzUzOC4uZDllZDVhNGZiYzZmIDEwMDY0NA0KPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZG1hX2J1Zi5jDQo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kbWFfYnVmLmMNCj4gQEAgLTQ0OSw4ICs0
NDksOCBAQCBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmFtZGdwdV9nZW1fcHJpbWVfaW1wb3J0KHN0
cnVjdCBkcm1fZGV2aWNlICpkZXYsDQo+ICAgCWlmIChJU19FUlIob2JqKSkNCj4gICAJCXJldHVy
biBvYmo7DQo+ICAgDQo+IC0JYXR0YWNoID0gZG1hX2J1Zl9keW5hbWljX2F0dGFjaChkbWFfYnVm
LCBkZXYtPmRldiwNCj4gLQkJCQkJJmFtZGdwdV9kbWFfYnVmX2F0dGFjaF9vcHMsIG9iaik7DQo+
ICsJYXR0YWNoID0gZG1hX2J1Zl9keW5hbWljX2F0dGFjaF91bmxvY2tlZChkbWFfYnVmLCBkZXYt
PmRldiwNCj4gKwkJCQkJCSAmYW1kZ3B1X2RtYV9idWZfYXR0YWNoX29wcywgb2JqKTsNCj4gICAJ
aWYgKElTX0VSUihhdHRhY2gpKSB7DQo+ICAgCQlkcm1fZ2VtX29iamVjdF9wdXQob2JqKTsNCj4g
ICAJCXJldHVybiBFUlJfQ0FTVChhdHRhY2gpOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3R0bS5jDQo+IGluZGV4IDNiNGMxOTQxMjYyNS4uZGQ2YWMxNjA2MzE2IDEwMDY0NA0K
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMNCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jDQo+IEBAIC04ODIsNyArODgy
LDcgQEAgc3RhdGljIGludCBhbWRncHVfdHRtX2JhY2tlbmRfYmluZChzdHJ1Y3QgdHRtX2Rldmlj
ZSAqYmRldiwNCj4gICAJCQlzdHJ1Y3Qgc2dfdGFibGUgKnNndDsNCj4gICANCj4gICAJCQlhdHRh
Y2ggPSBndHQtPmdvYmotPmltcG9ydF9hdHRhY2g7DQo+IC0JCQlzZ3QgPSBkbWFfYnVmX21hcF9h
dHRhY2htZW50KGF0dGFjaCwgRE1BX0JJRElSRUNUSU9OQUwpOw0KPiArCQkJc2d0ID0gZG1hX2J1
Zl9tYXBfYXR0YWNobWVudF91bmxvY2tlZChhdHRhY2gsIERNQV9CSURJUkVDVElPTkFMKTsNCj4g
ICAJCQlpZiAoSVNfRVJSKHNndCkpDQo+ICAgCQkJCXJldHVybiBQVFJfRVJSKHNndCk7DQo+ICAg
DQo+IEBAIC0xMDA3LDcgKzEwMDcsNyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfdHRtX2JhY2tlbmRf
dW5iaW5kKHN0cnVjdCB0dG1fZGV2aWNlICpiZGV2LA0KPiAgIAkJc3RydWN0IGRtYV9idWZfYXR0
YWNobWVudCAqYXR0YWNoOw0KPiAgIA0KPiAgIAkJYXR0YWNoID0gZ3R0LT5nb2JqLT5pbXBvcnRf
YXR0YWNoOw0KPiAtCQlkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnQoYXR0YWNoLCB0dG0tPnNnLCBE
TUFfQklESVJFQ1RJT05BTCk7DQo+ICsJCWRtYV9idWZfdW5tYXBfYXR0YWNobWVudF91bmxvY2tl
ZChhdHRhY2gsIHR0bS0+c2csIERNQV9CSURJUkVDVElPTkFMKTsNCj4gICAJCXR0bS0+c2cgPSBO
VUxMOw0KPiAgIAl9DQo+ICAgDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYXJtYWRh
L2FybWFkYV9nZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hcm1hZGEvYXJtYWRhX2dlbS5jDQo+IGlu
ZGV4IDE0N2FiZjFhMzk2OC4uZjcxZjNiMmQyMGUzIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYXJtYWRhL2FybWFkYV9nZW0uYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYXJtYWRh
L2FybWFkYV9nZW0uYw0KPiBAQCAtNjYsOCArNjYsOCBAQCB2b2lkIGFybWFkYV9nZW1fZnJlZV9v
YmplY3Qoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmopDQo+ICAgCWlmIChkb2JqLT5vYmouaW1w
b3J0X2F0dGFjaCkgew0KPiAgIAkJLyogV2Ugb25seSBldmVyIGRpc3BsYXkgaW1wb3J0ZWQgZGF0
YSAqLw0KPiAgIAkJaWYgKGRvYmotPnNndCkNCj4gLQkJCWRtYV9idWZfdW5tYXBfYXR0YWNobWVu
dChkb2JqLT5vYmouaW1wb3J0X2F0dGFjaCwNCj4gLQkJCQkJCSBkb2JqLT5zZ3QsIERNQV9UT19E
RVZJQ0UpOw0KPiArCQkJZG1hX2J1Zl91bm1hcF9hdHRhY2htZW50X3VubG9ja2VkKGRvYmotPm9i
ai5pbXBvcnRfYXR0YWNoLA0KPiArCQkJCQkJCSAgZG9iai0+c2d0LCBETUFfVE9fREVWSUNFKTsN
Cj4gICAJCWRybV9wcmltZV9nZW1fZGVzdHJveSgmZG9iai0+b2JqLCBOVUxMKTsNCj4gICAJfQ0K
PiAgIA0KPiBAQCAtMzY0LDcgKzM2NCw3IEBAIGludCBhcm1hZGFfZ2VtX3B3cml0ZV9pb2N0bChz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLA0KPiAgIA0KPiAgIAlpZiAoYXJncy0+
b2Zmc2V0ID4gZG9iai0+b2JqLnNpemUgfHwNCj4gICAJICAgIGFyZ3MtPnNpemUgPiBkb2JqLT5v
Ymouc2l6ZSAtIGFyZ3MtPm9mZnNldCkgew0KPiAtCQlEUk1fRVJST1IoImludmFsaWQgc2l6ZTog
b2JqZWN0IHNpemUgJXVcbiIsIGRvYmotPm9iai5zaXplKTsNCj4gKwkJRFJNX0VSUk9SKCJpbnZh
bGlkIHNpemU6IG9iamVjdCBzaXplICV6dVxuIiwgZG9iai0+b2JqLnNpemUpOw0KPiAgIAkJcmV0
ID0gLUVJTlZBTDsNCj4gICAJCWdvdG8gdW5yZWY7DQo+ICAgCX0NCj4gQEAgLTUxNCwxMyArNTE0
LDEzIEBAIGFybWFkYV9nZW1fcHJpbWVfaW1wb3J0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0
cnVjdCBkbWFfYnVmICpidWYpDQo+ICAgCQl9DQo+ICAgCX0NCj4gICANCj4gLQlhdHRhY2ggPSBk
bWFfYnVmX2F0dGFjaChidWYsIGRldi0+ZGV2KTsNCj4gKwlhdHRhY2ggPSBkbWFfYnVmX2F0dGFj
aF91bmxvY2tlZChidWYsIGRldi0+ZGV2KTsNCj4gICAJaWYgKElTX0VSUihhdHRhY2gpKQ0KPiAg
IAkJcmV0dXJuIEVSUl9DQVNUKGF0dGFjaCk7DQo+ICAgDQo+ICAgCWRvYmogPSBhcm1hZGFfZ2Vt
X2FsbG9jX3ByaXZhdGVfb2JqZWN0KGRldiwgYnVmLT5zaXplKTsNCj4gICAJaWYgKCFkb2JqKSB7
DQo+IC0JCWRtYV9idWZfZGV0YWNoKGJ1ZiwgYXR0YWNoKTsNCj4gKwkJZG1hX2J1Zl9kZXRhY2hf
dW5sb2NrZWQoYnVmLCBhdHRhY2gpOw0KPiAgIAkJcmV0dXJuIEVSUl9QVFIoLUVOT01FTSk7DQo+
ICAgCX0NCj4gICANCj4gQEAgLTUzOSw4ICs1MzksOCBAQCBpbnQgYXJtYWRhX2dlbV9tYXBfaW1w
b3J0KHN0cnVjdCBhcm1hZGFfZ2VtX29iamVjdCAqZG9iaikNCj4gICB7DQo+ICAgCWludCByZXQ7
DQo+ICAgDQo+IC0JZG9iai0+c2d0ID0gZG1hX2J1Zl9tYXBfYXR0YWNobWVudChkb2JqLT5vYmou
aW1wb3J0X2F0dGFjaCwNCj4gLQkJCQkJICAgRE1BX1RPX0RFVklDRSk7DQo+ICsJZG9iai0+c2d0
ID0gZG1hX2J1Zl9tYXBfYXR0YWNobWVudF91bmxvY2tlZChkb2JqLT5vYmouaW1wb3J0X2F0dGFj
aCwNCj4gKwkJCQkJCSAgICBETUFfVE9fREVWSUNFKTsNCj4gICAJaWYgKElTX0VSUihkb2JqLT5z
Z3QpKSB7DQo+ICAgCQlyZXQgPSBQVFJfRVJSKGRvYmotPnNndCk7DQo+ICAgCQlkb2JqLT5zZ3Qg
PSBOVUxMOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fY21hX2hlbHBl
ci5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fY21hX2hlbHBlci5jDQo+IGluZGV4IDQyYWJl
ZTlhMGY0Zi4uZWUzMzMzZjM0NmI3IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJt
X2dlbV9jbWFfaGVscGVyLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1fY21hX2hl
bHBlci5jDQo+IEBAIC0yMzIsNyArMjMyLDcgQEAgdm9pZCBkcm1fZ2VtX2NtYV9mcmVlKHN0cnVj
dCBkcm1fZ2VtX2NtYV9vYmplY3QgKmNtYV9vYmopDQo+ICAgDQo+ICAgCWlmIChnZW1fb2JqLT5p
bXBvcnRfYXR0YWNoKSB7DQo+ICAgCQlpZiAoY21hX29iai0+dmFkZHIpDQo+IC0JCQlkbWFfYnVm
X3Z1bm1hcChnZW1fb2JqLT5pbXBvcnRfYXR0YWNoLT5kbWFidWYsICZtYXApOw0KPiArCQkJZG1h
X2J1Zl92dW5tYXBfdW5sb2NrZWQoZ2VtX29iai0+aW1wb3J0X2F0dGFjaC0+ZG1hYnVmLCAmbWFw
KTsNCj4gICAJCWRybV9wcmltZV9nZW1fZGVzdHJveShnZW1fb2JqLCBjbWFfb2JqLT5zZ3QpOw0K
PiAgIAl9IGVsc2UgaWYgKGNtYV9vYmotPnZhZGRyKSB7DQo+ICAgCQlpZiAoY21hX29iai0+bWFw
X25vbmNvaGVyZW50KQ0KPiBAQCAtNTgxLDcgKzU4MSw3IEBAIGRybV9nZW1fY21hX3ByaW1lX2lt
cG9ydF9zZ190YWJsZV92bWFwKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsDQo+ICAgCXN0cnVjdCBp
b3N5c19tYXAgbWFwOw0KPiAgIAlpbnQgcmV0Ow0KPiAgIA0KPiAtCXJldCA9IGRtYV9idWZfdm1h
cChhdHRhY2gtPmRtYWJ1ZiwgJm1hcCk7DQo+ICsJcmV0ID0gZG1hX2J1Zl92bWFwX3VubG9ja2Vk
KGF0dGFjaC0+ZG1hYnVmLCAmbWFwKTsNCj4gICAJaWYgKHJldCkgew0KPiAgIAkJRFJNX0VSUk9S
KCJGYWlsZWQgdG8gdm1hcCBQUklNRSBidWZmZXJcbiIpOw0KPiAgIAkJcmV0dXJuIEVSUl9QVFIo
cmV0KTsNCj4gQEAgLTU4OSw3ICs1ODksNyBAQCBkcm1fZ2VtX2NtYV9wcmltZV9pbXBvcnRfc2df
dGFibGVfdm1hcChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LA0KPiAgIA0KPiAgIAlvYmogPSBkcm1f
Z2VtX2NtYV9wcmltZV9pbXBvcnRfc2dfdGFibGUoZGV2LCBhdHRhY2gsIHNndCk7DQo+ICAgCWlm
IChJU19FUlIob2JqKSkgew0KPiAtCQlkbWFfYnVmX3Z1bm1hcChhdHRhY2gtPmRtYWJ1ZiwgJm1h
cCk7DQo+ICsJCWRtYV9idWZfdnVubWFwX3VubG9ja2VkKGF0dGFjaC0+ZG1hYnVmLCAmbWFwKTsN
Cj4gICAJCXJldHVybiBvYmo7DQo+ICAgCX0NCj4gICANCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9kcm1fZ2VtX3NobWVtX2hlbHBlci5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9nZW1f
c2htZW1faGVscGVyLmMNCj4gaW5kZXggOGFkMGUwMjk5MWNhLi5jNWU3YTg0ZWFkMDYgMTAwNjQ0
DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3NobWVtX2hlbHBlci5jDQo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9kcm1fZ2VtX3NobWVtX2hlbHBlci5jDQo+IEBAIC0yOTksNyArMjk5
LDcgQEAgc3RhdGljIGludCBkcm1fZ2VtX3NobWVtX3ZtYXBfbG9ja2VkKHN0cnVjdCBkcm1fZ2Vt
X3NobWVtX29iamVjdCAqc2htZW0sDQo+ICAgCX0NCj4gICANCj4gICAJaWYgKG9iai0+aW1wb3J0
X2F0dGFjaCkgew0KPiAtCQlyZXQgPSBkbWFfYnVmX3ZtYXAob2JqLT5pbXBvcnRfYXR0YWNoLT5k
bWFidWYsIG1hcCk7DQo+ICsJCXJldCA9IGRtYV9idWZfdm1hcF91bmxvY2tlZChvYmotPmltcG9y
dF9hdHRhY2gtPmRtYWJ1ZiwgbWFwKTsNCj4gICAJCWlmICghcmV0KSB7DQo+ICAgCQkJaWYgKFdB
Uk5fT04obWFwLT5pc19pb21lbSkpIHsNCj4gICAJCQkJcmV0ID0gLUVJTzsNCj4gQEAgLTM4Miw3
ICszODIsNyBAQCBzdGF0aWMgdm9pZCBkcm1fZ2VtX3NobWVtX3Z1bm1hcF9sb2NrZWQoc3RydWN0
IGRybV9nZW1fc2htZW1fb2JqZWN0ICpzaG1lbSwNCj4gICAJCXJldHVybjsNCj4gICANCj4gICAJ
aWYgKG9iai0+aW1wb3J0X2F0dGFjaCkgew0KPiAtCQlkbWFfYnVmX3Z1bm1hcChvYmotPmltcG9y
dF9hdHRhY2gtPmRtYWJ1ZiwgbWFwKTsNCj4gKwkJZG1hX2J1Zl92dW5tYXBfdW5sb2NrZWQob2Jq
LT5pbXBvcnRfYXR0YWNoLT5kbWFidWYsIG1hcCk7DQo+ICAgCX0gZWxzZSB7DQo+ICAgCQl2dW5t
YXAoc2htZW0tPnZhZGRyKTsNCj4gICAJCWRybV9nZW1fc2htZW1fcHV0X3BhZ2VzKHNobWVtKTsN
Cj4gQEAgLTYxNyw3ICs2MTcsNyBAQCBpbnQgZHJtX2dlbV9zaG1lbV9tbWFwKHN0cnVjdCBkcm1f
Z2VtX3NobWVtX29iamVjdCAqc2htZW0sIHN0cnVjdCB2bV9hcmVhX3N0cnVjdA0KPiAgIAkJZHJt
X2dlbV9vYmplY3RfcHV0KG9iaik7DQo+ICAgCQl2bWEtPnZtX3ByaXZhdGVfZGF0YSA9IE5VTEw7
DQo+ICAgDQo+IC0JCXJldHVybiBkbWFfYnVmX21tYXAob2JqLT5kbWFfYnVmLCB2bWEsIDApOw0K
PiArCQlyZXR1cm4gZG1hX2J1Zl9tbWFwX3VubG9ja2VkKG9iai0+ZG1hX2J1Ziwgdm1hLCAwKTsN
Cj4gICAJfQ0KPiAgIA0KPiAgIAlyZXQgPSBkcm1fZ2VtX3NobWVtX2dldF9wYWdlcyhzaG1lbSk7
DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX3ByaW1lLmMgYi9kcml2ZXJzL2dw
dS9kcm0vZHJtX3ByaW1lLmMNCj4gaW5kZXggYTNmMTgwNjUzYjhiLi5iNzVlZjE3NTY4NzMgMTAw
NjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fcHJpbWUuYw0KPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vZHJtX3ByaW1lLmMNCj4gQEAgLTkzMCwxMyArOTMwLDEzIEBAIHN0cnVjdCBkcm1f
Z2VtX29iamVjdCAqZHJtX2dlbV9wcmltZV9pbXBvcnRfZGV2KHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYsDQo+ICAgCWlmICghZGV2LT5kcml2ZXItPmdlbV9wcmltZV9pbXBvcnRfc2dfdGFibGUpDQo+
ICAgCQlyZXR1cm4gRVJSX1BUUigtRUlOVkFMKTsNCj4gICANCj4gLQlhdHRhY2ggPSBkbWFfYnVm
X2F0dGFjaChkbWFfYnVmLCBhdHRhY2hfZGV2KTsNCj4gKwlhdHRhY2ggPSBkbWFfYnVmX2F0dGFj
aF91bmxvY2tlZChkbWFfYnVmLCBhdHRhY2hfZGV2KTsNCj4gICAJaWYgKElTX0VSUihhdHRhY2gp
KQ0KPiAgIAkJcmV0dXJuIEVSUl9DQVNUKGF0dGFjaCk7DQo+ICAgDQo+ICAgCWdldF9kbWFfYnVm
KGRtYV9idWYpOw0KPiAgIA0KPiAtCXNndCA9IGRtYV9idWZfbWFwX2F0dGFjaG1lbnQoYXR0YWNo
LCBETUFfQklESVJFQ1RJT05BTCk7DQo+ICsJc2d0ID0gZG1hX2J1Zl9tYXBfYXR0YWNobWVudF91
bmxvY2tlZChhdHRhY2gsIERNQV9CSURJUkVDVElPTkFMKTsNCj4gICAJaWYgKElTX0VSUihzZ3Qp
KSB7DQo+ICAgCQlyZXQgPSBQVFJfRVJSKHNndCk7DQo+ICAgCQlnb3RvIGZhaWxfZGV0YWNoOw0K
PiBAQCAtOTU0LDkgKzk1NCw5IEBAIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqZHJtX2dlbV9wcmlt
ZV9pbXBvcnRfZGV2KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsDQo+ICAgCXJldHVybiBvYmo7DQo+
ICAgDQo+ICAgZmFpbF91bm1hcDoNCj4gLQlkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnQoYXR0YWNo
LCBzZ3QsIERNQV9CSURJUkVDVElPTkFMKTsNCj4gKwlkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnRf
dW5sb2NrZWQoYXR0YWNoLCBzZ3QsIERNQV9CSURJUkVDVElPTkFMKTsNCj4gICBmYWlsX2RldGFj
aDoNCj4gLQlkbWFfYnVmX2RldGFjaChkbWFfYnVmLCBhdHRhY2gpOw0KPiArCWRtYV9idWZfZGV0
YWNoX3VubG9ja2VkKGRtYV9idWYsIGF0dGFjaCk7DQo+ICAgCWRtYV9idWZfcHV0KGRtYV9idWYp
Ow0KPiAgIA0KPiAgIAlyZXR1cm4gRVJSX1BUUihyZXQpOw0KPiBAQCAtMTA1Miw5ICsxMDUyLDkg
QEAgdm9pZCBkcm1fcHJpbWVfZ2VtX2Rlc3Ryb3koc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmos
IHN0cnVjdCBzZ190YWJsZSAqc2cpDQo+ICAgDQo+ICAgCWF0dGFjaCA9IG9iai0+aW1wb3J0X2F0
dGFjaDsNCj4gICAJaWYgKHNnKQ0KPiAtCQlkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnQoYXR0YWNo
LCBzZywgRE1BX0JJRElSRUNUSU9OQUwpOw0KPiArCQlkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnRf
dW5sb2NrZWQoYXR0YWNoLCBzZywgRE1BX0JJRElSRUNUSU9OQUwpOw0KPiAgIAlkbWFfYnVmID0g
YXR0YWNoLT5kbWFidWY7DQo+IC0JZG1hX2J1Zl9kZXRhY2goYXR0YWNoLT5kbWFidWYsIGF0dGFj
aCk7DQo+ICsJZG1hX2J1Zl9kZXRhY2hfdW5sb2NrZWQoYXR0YWNoLT5kbWFidWYsIGF0dGFjaCk7
DQo+ICAgCS8qIHJlbW92ZSB0aGUgcmVmZXJlbmNlICovDQo+ICAgCWRtYV9idWZfcHV0KGRtYV9i
dWYpOw0KPiAgIH0NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2
aXZfZ2VtX3ByaW1lLmMgYi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dlbV9wcmlt
ZS5jDQo+IGluZGV4IDNmYTJkYTE0OTYzOS4uYWU2YzFlZGEwYTcyIDEwMDY0NA0KPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dlbV9wcmltZS5jDQo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZ2VtX3ByaW1lLmMNCj4gQEAgLTY1LDcgKzY1LDcg
QEAgc3RhdGljIHZvaWQgZXRuYXZpdl9nZW1fcHJpbWVfcmVsZWFzZShzdHJ1Y3QgZXRuYXZpdl9n
ZW1fb2JqZWN0ICpldG5hdml2X29iaikNCj4gICAJc3RydWN0IGlvc3lzX21hcCBtYXAgPSBJT1NZ
U19NQVBfSU5JVF9WQUREUihldG5hdml2X29iai0+dmFkZHIpOw0KPiAgIA0KPiAgIAlpZiAoZXRu
YXZpdl9vYmotPnZhZGRyKQ0KPiAtCQlkbWFfYnVmX3Z1bm1hcChldG5hdml2X29iai0+YmFzZS5p
bXBvcnRfYXR0YWNoLT5kbWFidWYsICZtYXApOw0KPiArCQlkbWFfYnVmX3Z1bm1hcF91bmxvY2tl
ZChldG5hdml2X29iai0+YmFzZS5pbXBvcnRfYXR0YWNoLT5kbWFidWYsICZtYXApOw0KPiAgIA0K
PiAgIAkvKiBEb24ndCBkcm9wIHRoZSBwYWdlcyBmb3IgaW1wb3J0ZWQgZG1hYnVmLCBhcyB0aGV5
IGFyZSBub3QNCj4gICAJICogb3VycywganVzdCBmcmVlIHRoZSBhcnJheSB3ZSBhbGxvY2F0ZWQ6
DQo+IEBAIC04Miw3ICs4Miw3IEBAIHN0YXRpYyB2b2lkICpldG5hdml2X2dlbV9wcmltZV92bWFw
X2ltcGwoc3RydWN0IGV0bmF2aXZfZ2VtX29iamVjdCAqZXRuYXZpdl9vYmopDQo+ICAgDQo+ICAg
CWxvY2tkZXBfYXNzZXJ0X2hlbGQoJmV0bmF2aXZfb2JqLT5sb2NrKTsNCj4gICANCj4gLQlyZXQg
PSBkbWFfYnVmX3ZtYXAoZXRuYXZpdl9vYmotPmJhc2UuaW1wb3J0X2F0dGFjaC0+ZG1hYnVmLCAm
bWFwKTsNCj4gKwlyZXQgPSBkbWFfYnVmX3ZtYXBfdW5sb2NrZWQoZXRuYXZpdl9vYmotPmJhc2Uu
aW1wb3J0X2F0dGFjaC0+ZG1hYnVmLCAmbWFwKTsNCj4gICAJaWYgKHJldCkNCj4gICAJCXJldHVy
biBOVUxMOw0KPiAgIAlyZXR1cm4gbWFwLnZhZGRyOw0KPiBAQCAtOTEsNyArOTEsNyBAQCBzdGF0
aWMgdm9pZCAqZXRuYXZpdl9nZW1fcHJpbWVfdm1hcF9pbXBsKHN0cnVjdCBldG5hdml2X2dlbV9v
YmplY3QgKmV0bmF2aXZfb2JqKQ0KPiAgIHN0YXRpYyBpbnQgZXRuYXZpdl9nZW1fcHJpbWVfbW1h
cF9vYmooc3RydWN0IGV0bmF2aXZfZ2VtX29iamVjdCAqZXRuYXZpdl9vYmosDQo+ICAgCQlzdHJ1
Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSkNCj4gICB7DQo+IC0JcmV0dXJuIGRtYV9idWZfbW1hcChl
dG5hdml2X29iai0+YmFzZS5kbWFfYnVmLCB2bWEsIDApOw0KPiArCXJldHVybiBkbWFfYnVmX21t
YXBfdW5sb2NrZWQoZXRuYXZpdl9vYmotPmJhc2UuZG1hX2J1Ziwgdm1hLCAwKTsNCj4gICB9DQo+
ICAgDQo+ICAgc3RhdGljIGNvbnN0IHN0cnVjdCBldG5hdml2X2dlbV9vcHMgZXRuYXZpdl9nZW1f
cHJpbWVfb3BzID0gew0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlu
b3NfZHJtX2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL2V4eW5vcy9leHlub3NfZHJtX2dlbS5jDQo+
IGluZGV4IDNlNDkzZjQ4ZTBkNC4uOGU5NWEzYzVjYWY4IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vZXh5bm9zL2V4eW5vc19kcm1fZ2VtLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2V4eW5vcy9leHlub3NfZHJtX2dlbS5jDQo+IEBAIC0zNjYsNyArMzY2LDcgQEAgc3RhdGljIGlu
dCBleHlub3NfZHJtX2dlbV9tbWFwKHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqb2JqLCBzdHJ1Y3Qg
dm1fYXJlYV9zdHJ1Y3QNCj4gICAJaW50IHJldDsNCj4gICANCj4gICAJaWYgKG9iai0+aW1wb3J0
X2F0dGFjaCkNCj4gLQkJcmV0dXJuIGRtYV9idWZfbW1hcChvYmotPmRtYV9idWYsIHZtYSwgMCk7
DQo+ICsJCXJldHVybiBkbWFfYnVmX21tYXBfdW5sb2NrZWQob2JqLT5kbWFfYnVmLCB2bWEsIDAp
Ow0KPiAgIA0KPiAgIAl2bWEtPnZtX2ZsYWdzIHw9IFZNX0lPIHwgVk1fRE9OVEVYUEFORCB8IFZN
X0RPTlREVU1QOw0KPiAgIA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX2RtYWJ1Zi5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2Rt
YWJ1Zi5jDQo+IGluZGV4IGY1MDYyZDBjNjMzMy4uNWVjZWE3ZGY5OGIxIDEwMDY0NA0KPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZG1hYnVmLmMNCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2RtYWJ1Zi5jDQo+IEBAIC0yNDEsOCArMjQx
LDggQEAgc3RhdGljIGludCBpOTE1X2dlbV9vYmplY3RfZ2V0X3BhZ2VzX2RtYWJ1ZihzdHJ1Y3Qg
ZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQ0KPiAgIA0KPiAgIAlhc3NlcnRfb2JqZWN0X2hlbGQo
b2JqKTsNCj4gICANCj4gLQlwYWdlcyA9IGRtYV9idWZfbWFwX2F0dGFjaG1lbnQob2JqLT5iYXNl
LmltcG9ydF9hdHRhY2gsDQo+IC0JCQkJICAgICAgIERNQV9CSURJUkVDVElPTkFMKTsNCj4gKwlw
YWdlcyA9IGRtYV9idWZfbWFwX2F0dGFjaG1lbnRfdW5sb2NrZWQob2JqLT5iYXNlLmltcG9ydF9h
dHRhY2gsDQo+ICsJCQkJCQlETUFfQklESVJFQ1RJT05BTCk7DQo+ICAgCWlmIChJU19FUlIocGFn
ZXMpKQ0KPiAgIAkJcmV0dXJuIFBUUl9FUlIocGFnZXMpOw0KPiAgIA0KPiBAQCAtMjcwLDggKzI3
MCw4IEBAIHN0YXRpYyBpbnQgaTkxNV9nZW1fb2JqZWN0X2dldF9wYWdlc19kbWFidWYoc3RydWN0
IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikNCj4gICBzdGF0aWMgdm9pZCBpOTE1X2dlbV9vYmpl
Y3RfcHV0X3BhZ2VzX2RtYWJ1ZihzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLA0KPiAg
IAkJCQkJICAgICBzdHJ1Y3Qgc2dfdGFibGUgKnBhZ2VzKQ0KPiAgIHsNCj4gLQlkbWFfYnVmX3Vu
bWFwX2F0dGFjaG1lbnQob2JqLT5iYXNlLmltcG9ydF9hdHRhY2gsIHBhZ2VzLA0KPiAtCQkJCSBE
TUFfQklESVJFQ1RJT05BTCk7DQo+ICsJZG1hX2J1Zl91bm1hcF9hdHRhY2htZW50X3VubG9ja2Vk
KG9iai0+YmFzZS5pbXBvcnRfYXR0YWNoLCBwYWdlcywNCj4gKwkJCQkJICBETUFfQklESVJFQ1RJ
T05BTCk7DQo+ICAgfQ0KPiAgIA0KPiAgIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfZ2Vt
X29iamVjdF9vcHMgaTkxNV9nZW1fb2JqZWN0X2RtYWJ1Zl9vcHMgPSB7DQo+IEBAIC0zMDYsNyAr
MzA2LDcgQEAgc3RydWN0IGRybV9nZW1fb2JqZWN0ICppOTE1X2dlbV9wcmltZV9pbXBvcnQoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwNCj4gICAJCXJldHVybiBFUlJfUFRSKC1FMkJJRyk7DQo+ICAg
DQo+ICAgCS8qIG5lZWQgdG8gYXR0YWNoICovDQo+IC0JYXR0YWNoID0gZG1hX2J1Zl9hdHRhY2go
ZG1hX2J1ZiwgZGV2LT5kZXYpOw0KPiArCWF0dGFjaCA9IGRtYV9idWZfYXR0YWNoX3VubG9ja2Vk
KGRtYV9idWYsIGRldi0+ZGV2KTsNCj4gICAJaWYgKElTX0VSUihhdHRhY2gpKQ0KPiAgIAkJcmV0
dXJuIEVSUl9DQVNUKGF0dGFjaCk7DQo+ICAgDQo+IEBAIC0zMzcsNyArMzM3LDcgQEAgc3RydWN0
IGRybV9nZW1fb2JqZWN0ICppOTE1X2dlbV9wcmltZV9pbXBvcnQoc3RydWN0IGRybV9kZXZpY2Ug
KmRldiwNCj4gICAJcmV0dXJuICZvYmotPmJhc2U7DQo+ICAgDQo+ICAgZmFpbF9kZXRhY2g6DQo+
IC0JZG1hX2J1Zl9kZXRhY2goZG1hX2J1ZiwgYXR0YWNoKTsNCj4gKwlkbWFfYnVmX2RldGFjaF91
bmxvY2tlZChkbWFfYnVmLCBhdHRhY2gpOw0KPiAgIAlkbWFfYnVmX3B1dChkbWFfYnVmKTsNCj4g
ICANCj4gICAJcmV0dXJuIEVSUl9QVFIocmV0KTsNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fZG1hYnVmLmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX2RtYWJ1Zi5jDQo+IGluZGV4IDYyYzYxYWY3
N2E0Mi4uNjA1M2FmOTIwYTIyIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX2RtYWJ1Zi5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fZG1hYnVmLmMNCj4gQEAgLTIwNywxMyArMjA3LDEz
IEBAIHN0YXRpYyBpbnQgaWd0X2RtYWJ1Zl9pbXBvcnRfc2FtZV9kcml2ZXIoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUsDQo+ICAgCWk5MTVfZ2VtX29iamVjdF91bmxvY2soaW1wb3J0X29i
aik7DQo+ICAgDQo+ICAgCS8qIE5vdyB0cnkgYSBmYWtlIGFuIGltcG9ydGVyICovDQo+IC0JaW1w
b3J0X2F0dGFjaCA9IGRtYV9idWZfYXR0YWNoKGRtYWJ1Ziwgb2JqLT5iYXNlLmRldi0+ZGV2KTsN
Cj4gKwlpbXBvcnRfYXR0YWNoID0gZG1hX2J1Zl9hdHRhY2hfdW5sb2NrZWQoZG1hYnVmLCBvYmot
PmJhc2UuZGV2LT5kZXYpOw0KPiAgIAlpZiAoSVNfRVJSKGltcG9ydF9hdHRhY2gpKSB7DQo+ICAg
CQllcnIgPSBQVFJfRVJSKGltcG9ydF9hdHRhY2gpOw0KPiAgIAkJZ290byBvdXRfaW1wb3J0Ow0K
PiAgIAl9DQo+ICAgDQo+IC0Jc3QgPSBkbWFfYnVmX21hcF9hdHRhY2htZW50KGltcG9ydF9hdHRh
Y2gsIERNQV9CSURJUkVDVElPTkFMKTsNCj4gKwlzdCA9IGRtYV9idWZfbWFwX2F0dGFjaG1lbnRf
dW5sb2NrZWQoaW1wb3J0X2F0dGFjaCwgRE1BX0JJRElSRUNUSU9OQUwpOw0KPiAgIAlpZiAoSVNf
RVJSKHN0KSkgew0KPiAgIAkJZXJyID0gUFRSX0VSUihzdCk7DQo+ICAgCQlnb3RvIG91dF9kZXRh
Y2g7DQo+IEBAIC0yMjYsOSArMjI2LDkgQEAgc3RhdGljIGludCBpZ3RfZG1hYnVmX2ltcG9ydF9z
YW1lX2RyaXZlcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwNCj4gICAJCXRpbWVvdXQg
PSAtRVRJTUU7DQo+ICAgCX0NCj4gICAJZXJyID0gdGltZW91dCA+IDAgPyAwIDogdGltZW91dDsN
Cj4gLQlkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnQoaW1wb3J0X2F0dGFjaCwgc3QsIERNQV9CSURJ
UkVDVElPTkFMKTsNCj4gKwlkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnRfdW5sb2NrZWQoaW1wb3J0
X2F0dGFjaCwgc3QsIERNQV9CSURJUkVDVElPTkFMKTsNCj4gICBvdXRfZGV0YWNoOg0KPiAtCWRt
YV9idWZfZGV0YWNoKGRtYWJ1ZiwgaW1wb3J0X2F0dGFjaCk7DQo+ICsJZG1hX2J1Zl9kZXRhY2hf
dW5sb2NrZWQoZG1hYnVmLCBpbXBvcnRfYXR0YWNoKTsNCj4gICBvdXRfaW1wb3J0Og0KPiAgIAlp
OTE1X2dlbV9vYmplY3RfcHV0KGltcG9ydF9vYmopOw0KPiAgIG91dF9kbWFidWY6DQo+IEBAIC0y
OTYsNyArMjk2LDcgQEAgc3RhdGljIGludCBpZ3RfZG1hYnVmX2ltcG9ydCh2b2lkICphcmcpDQo+
ICAgCQlnb3RvIG91dF9vYmo7DQo+ICAgCX0NCj4gICANCj4gLQllcnIgPSBkbWFfYnVmX3ZtYXAo
ZG1hYnVmLCAmbWFwKTsNCj4gKwllcnIgPSBkbWFfYnVmX3ZtYXBfdW5sb2NrZWQoZG1hYnVmLCAm
bWFwKTsNCj4gICAJZG1hX21hcCA9IGVyciA/IE5VTEwgOiBtYXAudmFkZHI7DQo+ICAgCWlmICgh
ZG1hX21hcCkgew0KPiAgIAkJcHJfZXJyKCJkbWFfYnVmX3ZtYXAgZmFpbGVkXG4iKTsNCj4gQEAg
LTMzNyw3ICszMzcsNyBAQCBzdGF0aWMgaW50IGlndF9kbWFidWZfaW1wb3J0KHZvaWQgKmFyZykN
Cj4gICANCj4gICAJZXJyID0gMDsNCj4gICBvdXRfZG1hX21hcDoNCj4gLQlkbWFfYnVmX3Z1bm1h
cChkbWFidWYsICZtYXApOw0KPiArCWRtYV9idWZfdnVubWFwX3VubG9ja2VkKGRtYWJ1ZiwgJm1h
cCk7DQo+ICAgb3V0X29iajoNCj4gICAJaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOw0KPiAgIG91
dF9kbWFidWY6DQo+IEBAIC0zNTgsNyArMzU4LDcgQEAgc3RhdGljIGludCBpZ3RfZG1hYnVmX2lt
cG9ydF9vd25lcnNoaXAodm9pZCAqYXJnKQ0KPiAgIAlpZiAoSVNfRVJSKGRtYWJ1ZikpDQo+ICAg
CQlyZXR1cm4gUFRSX0VSUihkbWFidWYpOw0KPiAgIA0KPiAtCWVyciA9IGRtYV9idWZfdm1hcChk
bWFidWYsICZtYXApOw0KPiArCWVyciA9IGRtYV9idWZfdm1hcF91bmxvY2tlZChkbWFidWYsICZt
YXApOw0KPiAgIAlwdHIgPSBlcnIgPyBOVUxMIDogbWFwLnZhZGRyOw0KPiAgIAlpZiAoIXB0cikg
ew0KPiAgIAkJcHJfZXJyKCJkbWFfYnVmX3ZtYXAgZmFpbGVkXG4iKTsNCj4gQEAgLTM2Nyw3ICsz
NjcsNyBAQCBzdGF0aWMgaW50IGlndF9kbWFidWZfaW1wb3J0X293bmVyc2hpcCh2b2lkICphcmcp
DQo+ICAgCX0NCj4gICANCj4gICAJbWVtc2V0KHB0ciwgMHhjNSwgUEFHRV9TSVpFKTsNCj4gLQlk
bWFfYnVmX3Z1bm1hcChkbWFidWYsICZtYXApOw0KPiArCWRtYV9idWZfdnVubWFwX3VubG9ja2Vk
KGRtYWJ1ZiwgJm1hcCk7DQo+ICAgDQo+ICAgCW9iaiA9IHRvX2ludGVsX2JvKGk5MTVfZ2VtX3By
aW1lX2ltcG9ydCgmaTkxNS0+ZHJtLCBkbWFidWYpKTsNCj4gICAJaWYgKElTX0VSUihvYmopKSB7
DQo+IEBAIC00MTgsNyArNDE4LDcgQEAgc3RhdGljIGludCBpZ3RfZG1hYnVmX2V4cG9ydF92bWFw
KHZvaWQgKmFyZykNCj4gICAJfQ0KPiAgIAlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7DQo+ICAg
DQo+IC0JZXJyID0gZG1hX2J1Zl92bWFwKGRtYWJ1ZiwgJm1hcCk7DQo+ICsJZXJyID0gZG1hX2J1
Zl92bWFwX3VubG9ja2VkKGRtYWJ1ZiwgJm1hcCk7DQo+ICAgCXB0ciA9IGVyciA/IE5VTEwgOiBt
YXAudmFkZHI7DQo+ICAgCWlmICghcHRyKSB7DQo+ICAgCQlwcl9lcnIoImRtYV9idWZfdm1hcCBm
YWlsZWRcbiIpOw0KPiBAQCAtNDM1LDcgKzQzNSw3IEBAIHN0YXRpYyBpbnQgaWd0X2RtYWJ1Zl9l
eHBvcnRfdm1hcCh2b2lkICphcmcpDQo+ICAgCW1lbXNldChwdHIsIDB4YzUsIGRtYWJ1Zi0+c2l6
ZSk7DQo+ICAgDQo+ICAgCWVyciA9IDA7DQo+IC0JZG1hX2J1Zl92dW5tYXAoZG1hYnVmLCAmbWFw
KTsNCj4gKwlkbWFfYnVmX3Z1bm1hcF91bmxvY2tlZChkbWFidWYsICZtYXApOw0KPiAgIG91dDoN
Cj4gICAJZG1hX2J1Zl9wdXQoZG1hYnVmKTsNCj4gICAJcmV0dXJuIGVycjsNCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBfZ2VtX2RtYWJ1Zi5jIGIvZHJpdmVycy9n
cHUvZHJtL29tYXBkcm0vb21hcF9nZW1fZG1hYnVmLmMNCj4gaW5kZXggMzkzZjgyZTI2OTI3Li5h
NzI1YTkxYzJmZjkgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBf
Z2VtX2RtYWJ1Zi5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9vbWFwZHJtL29tYXBfZ2VtX2Rt
YWJ1Zi5jDQo+IEBAIC0xMTksMTMgKzExOSwxMyBAQCBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9t
YXBfZ2VtX3ByaW1lX2ltcG9ydChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LA0KPiAgIAkJfQ0KPiAg
IAl9DQo+ICAgDQo+IC0JYXR0YWNoID0gZG1hX2J1Zl9hdHRhY2goZG1hX2J1ZiwgZGV2LT5kZXYp
Ow0KPiArCWF0dGFjaCA9IGRtYV9idWZfYXR0YWNoX3VubG9ja2VkKGRtYV9idWYsIGRldi0+ZGV2
KTsNCj4gICAJaWYgKElTX0VSUihhdHRhY2gpKQ0KPiAgIAkJcmV0dXJuIEVSUl9DQVNUKGF0dGFj
aCk7DQo+ICAgDQo+ICAgCWdldF9kbWFfYnVmKGRtYV9idWYpOw0KPiAgIA0KPiAtCXNndCA9IGRt
YV9idWZfbWFwX2F0dGFjaG1lbnQoYXR0YWNoLCBETUFfVE9fREVWSUNFKTsNCj4gKwlzZ3QgPSBk
bWFfYnVmX21hcF9hdHRhY2htZW50X3VubG9ja2VkKGF0dGFjaCwgRE1BX1RPX0RFVklDRSk7DQo+
ICAgCWlmIChJU19FUlIoc2d0KSkgew0KPiAgIAkJcmV0ID0gUFRSX0VSUihzZ3QpOw0KPiAgIAkJ
Z290byBmYWlsX2RldGFjaDsNCj4gQEAgLTE0Miw5ICsxNDIsOSBAQCBzdHJ1Y3QgZHJtX2dlbV9v
YmplY3QgKm9tYXBfZ2VtX3ByaW1lX2ltcG9ydChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LA0KPiAg
IAlyZXR1cm4gb2JqOw0KPiAgIA0KPiAgIGZhaWxfdW5tYXA6DQo+IC0JZG1hX2J1Zl91bm1hcF9h
dHRhY2htZW50KGF0dGFjaCwgc2d0LCBETUFfVE9fREVWSUNFKTsNCj4gKwlkbWFfYnVmX3VubWFw
X2F0dGFjaG1lbnRfdW5sb2NrZWQoYXR0YWNoLCBzZ3QsIERNQV9UT19ERVZJQ0UpOw0KPiAgIGZh
aWxfZGV0YWNoOg0KPiAtCWRtYV9idWZfZGV0YWNoKGRtYV9idWYsIGF0dGFjaCk7DQo+ICsJZG1h
X2J1Zl9kZXRhY2hfdW5sb2NrZWQoZG1hX2J1ZiwgYXR0YWNoKTsNCj4gICAJZG1hX2J1Zl9wdXQo
ZG1hX2J1Zik7DQo+ICAgDQo+ICAgCXJldHVybiBFUlJfUFRSKHJldCk7DQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vdGVncmEvZ2Vt
LmMNCj4gaW5kZXggODE5OTEwOTBhZGNjLi5iYmZlMTk2ZmY2ZjYgMTAwNjQ0DQo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS90ZWdyYS9nZW0uYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdGVncmEv
Z2VtLmMNCj4gQEAgLTc4LDE1ICs3OCwxNSBAQCBzdGF0aWMgc3RydWN0IGhvc3QxeF9ib19tYXBw
aW5nICp0ZWdyYV9ib19waW4oc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgaG9zdDF4Xw0KPiAg
IAlpZiAoZ2VtLT5pbXBvcnRfYXR0YWNoKSB7DQo+ICAgCQlzdHJ1Y3QgZG1hX2J1ZiAqYnVmID0g
Z2VtLT5pbXBvcnRfYXR0YWNoLT5kbWFidWY7DQo+ICAgDQo+IC0JCW1hcC0+YXR0YWNoID0gZG1h
X2J1Zl9hdHRhY2goYnVmLCBkZXYpOw0KPiArCQltYXAtPmF0dGFjaCA9IGRtYV9idWZfYXR0YWNo
X3VubG9ja2VkKGJ1ZiwgZGV2KTsNCj4gICAJCWlmIChJU19FUlIobWFwLT5hdHRhY2gpKSB7DQo+
ICAgCQkJZXJyID0gUFRSX0VSUihtYXAtPmF0dGFjaCk7DQo+ICAgCQkJZ290byBmcmVlOw0KPiAg
IAkJfQ0KPiAgIA0KPiAtCQltYXAtPnNndCA9IGRtYV9idWZfbWFwX2F0dGFjaG1lbnQobWFwLT5h
dHRhY2gsIGRpcmVjdGlvbik7DQo+ICsJCW1hcC0+c2d0ID0gZG1hX2J1Zl9tYXBfYXR0YWNobWVu
dF91bmxvY2tlZChtYXAtPmF0dGFjaCwgZGlyZWN0aW9uKTsNCj4gICAJCWlmIChJU19FUlIobWFw
LT5zZ3QpKSB7DQo+IC0JCQlkbWFfYnVmX2RldGFjaChidWYsIG1hcC0+YXR0YWNoKTsNCj4gKwkJ
CWRtYV9idWZfZGV0YWNoX3VubG9ja2VkKGJ1ZiwgbWFwLT5hdHRhY2gpOw0KPiAgIAkJCWVyciA9
IFBUUl9FUlIobWFwLT5zZ3QpOw0KPiAgIAkJCW1hcC0+c2d0ID0gTlVMTDsNCj4gICAJCQlnb3Rv
IGZyZWU7DQo+IEBAIC0xNjAsOCArMTYwLDkgQEAgc3RhdGljIHN0cnVjdCBob3N0MXhfYm9fbWFw
cGluZyAqdGVncmFfYm9fcGluKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGhvc3QxeF8NCj4g
ICBzdGF0aWMgdm9pZCB0ZWdyYV9ib191bnBpbihzdHJ1Y3QgaG9zdDF4X2JvX21hcHBpbmcgKm1h
cCkNCj4gICB7DQo+ICAgCWlmIChtYXAtPmF0dGFjaCkgew0KPiAtCQlkbWFfYnVmX3VubWFwX2F0
dGFjaG1lbnQobWFwLT5hdHRhY2gsIG1hcC0+c2d0LCBtYXAtPmRpcmVjdGlvbik7DQo+IC0JCWRt
YV9idWZfZGV0YWNoKG1hcC0+YXR0YWNoLT5kbWFidWYsIG1hcC0+YXR0YWNoKTsNCj4gKwkJZG1h
X2J1Zl91bm1hcF9hdHRhY2htZW50X3VubG9ja2VkKG1hcC0+YXR0YWNoLCBtYXAtPnNndCwNCj4g
KwkJCQkJCSAgbWFwLT5kaXJlY3Rpb24pOw0KPiArCQlkbWFfYnVmX2RldGFjaF91bmxvY2tlZCht
YXAtPmF0dGFjaC0+ZG1hYnVmLCBtYXAtPmF0dGFjaCk7DQo+ICAgCX0gZWxzZSB7DQo+ICAgCQlk
bWFfdW5tYXBfc2d0YWJsZShtYXAtPmRldiwgbWFwLT5zZ3QsIG1hcC0+ZGlyZWN0aW9uLCAwKTsN
Cj4gICAJCXNnX2ZyZWVfdGFibGUobWFwLT5zZ3QpOw0KPiBAQCAtMTgxLDcgKzE4Miw3IEBAIHN0
YXRpYyB2b2lkICp0ZWdyYV9ib19tbWFwKHN0cnVjdCBob3N0MXhfYm8gKmJvKQ0KPiAgIAlpZiAo
b2JqLT52YWRkcikgew0KPiAgIAkJcmV0dXJuIG9iai0+dmFkZHI7DQo+ICAgCX0gZWxzZSBpZiAo
b2JqLT5nZW0uaW1wb3J0X2F0dGFjaCkgew0KPiAtCQlyZXQgPSBkbWFfYnVmX3ZtYXAob2JqLT5n
ZW0uaW1wb3J0X2F0dGFjaC0+ZG1hYnVmLCAmbWFwKTsNCj4gKwkJcmV0ID0gZG1hX2J1Zl92bWFw
X3VubG9ja2VkKG9iai0+Z2VtLmltcG9ydF9hdHRhY2gtPmRtYWJ1ZiwgJm1hcCk7DQo+ICAgCQly
ZXR1cm4gcmV0ID8gTlVMTCA6IG1hcC52YWRkcjsNCj4gICAJfSBlbHNlIHsNCj4gICAJCXJldHVy
biB2bWFwKG9iai0+cGFnZXMsIG9iai0+bnVtX3BhZ2VzLCBWTV9NQVAsDQo+IEBAIC0xOTcsNyAr
MTk4LDcgQEAgc3RhdGljIHZvaWQgdGVncmFfYm9fbXVubWFwKHN0cnVjdCBob3N0MXhfYm8gKmJv
LCB2b2lkICphZGRyKQ0KPiAgIAlpZiAob2JqLT52YWRkcikNCj4gICAJCXJldHVybjsNCj4gICAJ
ZWxzZSBpZiAob2JqLT5nZW0uaW1wb3J0X2F0dGFjaCkNCj4gLQkJZG1hX2J1Zl92dW5tYXAob2Jq
LT5nZW0uaW1wb3J0X2F0dGFjaC0+ZG1hYnVmLCAmbWFwKTsNCj4gKwkJZG1hX2J1Zl92dW5tYXBf
dW5sb2NrZWQob2JqLT5nZW0uaW1wb3J0X2F0dGFjaC0+ZG1hYnVmLCAmbWFwKTsNCj4gICAJZWxz
ZQ0KPiAgIAkJdnVubWFwKGFkZHIpOw0KPiAgIH0NCj4gQEAgLTQ1Myw3ICs0NTQsNyBAQCBzdGF0
aWMgc3RydWN0IHRlZ3JhX2JvICp0ZWdyYV9ib19pbXBvcnQoc3RydWN0IGRybV9kZXZpY2UgKmRy
bSwNCj4gICAJaWYgKElTX0VSUihibykpDQo+ICAgCQlyZXR1cm4gYm87DQo+ICAgDQo+IC0JYXR0
YWNoID0gZG1hX2J1Zl9hdHRhY2goYnVmLCBkcm0tPmRldik7DQo+ICsJYXR0YWNoID0gZG1hX2J1
Zl9hdHRhY2hfdW5sb2NrZWQoYnVmLCBkcm0tPmRldik7DQo+ICAgCWlmIChJU19FUlIoYXR0YWNo
KSkgew0KPiAgIAkJZXJyID0gUFRSX0VSUihhdHRhY2gpOw0KPiAgIAkJZ290byBmcmVlOw0KPiBA
QCAtNDYxLDcgKzQ2Miw3IEBAIHN0YXRpYyBzdHJ1Y3QgdGVncmFfYm8gKnRlZ3JhX2JvX2ltcG9y
dChzdHJ1Y3QgZHJtX2RldmljZSAqZHJtLA0KPiAgIA0KPiAgIAlnZXRfZG1hX2J1ZihidWYpOw0K
PiAgIA0KPiAtCWJvLT5zZ3QgPSBkbWFfYnVmX21hcF9hdHRhY2htZW50KGF0dGFjaCwgRE1BX1RP
X0RFVklDRSk7DQo+ICsJYm8tPnNndCA9IGRtYV9idWZfbWFwX2F0dGFjaG1lbnRfdW5sb2NrZWQo
YXR0YWNoLCBETUFfVE9fREVWSUNFKTsNCj4gICAJaWYgKElTX0VSUihiby0+c2d0KSkgew0KPiAg
IAkJZXJyID0gUFRSX0VSUihiby0+c2d0KTsNCj4gICAJCWdvdG8gZGV0YWNoOw0KPiBAQCAtNDc5
LDkgKzQ4MCw5IEBAIHN0YXRpYyBzdHJ1Y3QgdGVncmFfYm8gKnRlZ3JhX2JvX2ltcG9ydChzdHJ1
Y3QgZHJtX2RldmljZSAqZHJtLA0KPiAgIA0KPiAgIGRldGFjaDoNCj4gICAJaWYgKCFJU19FUlJf
T1JfTlVMTChiby0+c2d0KSkNCj4gLQkJZG1hX2J1Zl91bm1hcF9hdHRhY2htZW50KGF0dGFjaCwg
Ym8tPnNndCwgRE1BX1RPX0RFVklDRSk7DQo+ICsJCWRtYV9idWZfdW5tYXBfYXR0YWNobWVudF91
bmxvY2tlZChhdHRhY2gsIGJvLT5zZ3QsIERNQV9UT19ERVZJQ0UpOw0KPiAgIA0KPiAtCWRtYV9i
dWZfZGV0YWNoKGJ1ZiwgYXR0YWNoKTsNCj4gKwlkbWFfYnVmX2RldGFjaF91bmxvY2tlZChidWYs
IGF0dGFjaCk7DQo+ICAgCWRtYV9idWZfcHV0KGJ1Zik7DQo+ICAgZnJlZToNCj4gICAJZHJtX2dl
bV9vYmplY3RfcmVsZWFzZSgmYm8tPmdlbSk7DQo+IEBAIC01MDgsOCArNTA5LDggQEAgdm9pZCB0
ZWdyYV9ib19mcmVlX29iamVjdChzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmdlbSkNCj4gICAJCXRl
Z3JhX2JvX2lvbW11X3VubWFwKHRlZ3JhLCBibyk7DQo+ICAgDQo+ICAgCWlmIChnZW0tPmltcG9y
dF9hdHRhY2gpIHsNCj4gLQkJZG1hX2J1Zl91bm1hcF9hdHRhY2htZW50KGdlbS0+aW1wb3J0X2F0
dGFjaCwgYm8tPnNndCwNCj4gLQkJCQkJIERNQV9UT19ERVZJQ0UpOw0KPiArCQlkbWFfYnVmX3Vu
bWFwX2F0dGFjaG1lbnRfdW5sb2NrZWQoZ2VtLT5pbXBvcnRfYXR0YWNoLCBiby0+c2d0LA0KPiAr
CQkJCQkJICBETUFfVE9fREVWSUNFKTsNCj4gICAJCWRybV9wcmltZV9nZW1fZGVzdHJveShnZW0s
IE5VTEwpOw0KPiAgIAl9IGVsc2Ugew0KPiAgIAkJdGVncmFfYm9fZnJlZShnZW0tPmRldiwgYm8p
Ow0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9pbmZpbmliYW5kL2NvcmUvdW1lbV9kbWFidWYuYyBi
L2RyaXZlcnMvaW5maW5pYmFuZC9jb3JlL3VtZW1fZG1hYnVmLmMNCj4gaW5kZXggZmNlODBhNGE1
MTQ3Li4xMmI3M2U2YWQwNTQgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvaW5maW5pYmFuZC9jb3Jl
L3VtZW1fZG1hYnVmLmMNCj4gKysrIGIvZHJpdmVycy9pbmZpbmliYW5kL2NvcmUvdW1lbV9kbWFi
dWYuYw0KPiBAQCAtMjUsNyArMjUsOCBAQCBpbnQgaWJfdW1lbV9kbWFidWZfbWFwX3BhZ2VzKHN0
cnVjdCBpYl91bWVtX2RtYWJ1ZiAqdW1lbV9kbWFidWYpDQo+ICAgCWlmICh1bWVtX2RtYWJ1Zi0+
c2d0KQ0KPiAgIAkJZ290byB3YWl0X2ZlbmNlOw0KPiAgIA0KPiAtCXNndCA9IGRtYV9idWZfbWFw
X2F0dGFjaG1lbnQodW1lbV9kbWFidWYtPmF0dGFjaCwgRE1BX0JJRElSRUNUSU9OQUwpOw0KPiAr
CXNndCA9IGRtYV9idWZfbWFwX2F0dGFjaG1lbnRfdW5sb2NrZWQodW1lbV9kbWFidWYtPmF0dGFj
aCwNCj4gKwkJCQkJICAgICAgRE1BX0JJRElSRUNUSU9OQUwpOw0KPiAgIAlpZiAoSVNfRVJSKHNn
dCkpDQo+ICAgCQlyZXR1cm4gUFRSX0VSUihzZ3QpOw0KPiAgIA0KPiBAQCAtOTYsOCArOTcsOCBA
QCB2b2lkIGliX3VtZW1fZG1hYnVmX3VubWFwX3BhZ2VzKHN0cnVjdCBpYl91bWVtX2RtYWJ1ZiAq
dW1lbV9kbWFidWYpDQo+ICAgCQl1bWVtX2RtYWJ1Zi0+bGFzdF9zZ190cmltID0gMDsNCj4gICAJ
fQ0KPiAgIA0KPiAtCWRtYV9idWZfdW5tYXBfYXR0YWNobWVudCh1bWVtX2RtYWJ1Zi0+YXR0YWNo
LCB1bWVtX2RtYWJ1Zi0+c2d0LA0KPiAtCQkJCSBETUFfQklESVJFQ1RJT05BTCk7DQo+ICsJZG1h
X2J1Zl91bm1hcF9hdHRhY2htZW50X3VubG9ja2VkKHVtZW1fZG1hYnVmLT5hdHRhY2gsIHVtZW1f
ZG1hYnVmLT5zZ3QsDQo+ICsJCQkJCSAgRE1BX0JJRElSRUNUSU9OQUwpOw0KPiAgIA0KPiAgIAl1
bWVtX2RtYWJ1Zi0+c2d0ID0gTlVMTDsNCj4gICB9DQo+IEBAIC0xNDMsNyArMTQ0LDcgQEAgc3Ry
dWN0IGliX3VtZW1fZG1hYnVmICppYl91bWVtX2RtYWJ1Zl9nZXQoc3RydWN0IGliX2RldmljZSAq
ZGV2aWNlLA0KPiAgIAlpZiAoIWliX3VtZW1fbnVtX3BhZ2VzKHVtZW0pKQ0KPiAgIAkJZ290byBv
dXRfZnJlZV91bWVtOw0KPiAgIA0KPiAtCXVtZW1fZG1hYnVmLT5hdHRhY2ggPSBkbWFfYnVmX2R5
bmFtaWNfYXR0YWNoKA0KPiArCXVtZW1fZG1hYnVmLT5hdHRhY2ggPSBkbWFfYnVmX2R5bmFtaWNf
YXR0YWNoX3VubG9ja2VkKA0KPiAgIAkJCQkJZG1hYnVmLA0KPiAgIAkJCQkJZGV2aWNlLT5kbWFf
ZGV2aWNlLA0KPiAgIAkJCQkJb3BzLA0KPiBAQCAtMjIyLDcgKzIyMyw3IEBAIHZvaWQgaWJfdW1l
bV9kbWFidWZfcmVsZWFzZShzdHJ1Y3QgaWJfdW1lbV9kbWFidWYgKnVtZW1fZG1hYnVmKQ0KPiAg
IAkJZG1hX2J1Zl91bnBpbih1bWVtX2RtYWJ1Zi0+YXR0YWNoKTsNCj4gICAJZG1hX3Jlc3ZfdW5s
b2NrKGRtYWJ1Zi0+cmVzdik7DQo+ICAgDQo+IC0JZG1hX2J1Zl9kZXRhY2goZG1hYnVmLCB1bWVt
X2RtYWJ1Zi0+YXR0YWNoKTsNCj4gKwlkbWFfYnVmX2RldGFjaF91bmxvY2tlZChkbWFidWYsIHVt
ZW1fZG1hYnVmLT5hdHRhY2gpOw0KPiAgIAlkbWFfYnVmX3B1dChkbWFidWYpOw0KPiAgIAlrZnJl
ZSh1bWVtX2RtYWJ1Zik7DQo+ICAgfQ0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZWRpYS9jb21t
b24vdmlkZW9idWYyL3ZpZGVvYnVmMi1kbWEtY29udGlnLmMgYi9kcml2ZXJzL21lZGlhL2NvbW1v
bi92aWRlb2J1ZjIvdmlkZW9idWYyLWRtYS1jb250aWcuYw0KPiBpbmRleCA2NzhiMzU5NzE3YzQu
LmRlNzYyZGJkYWY3OCAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9tZWRpYS9jb21tb24vdmlkZW9i
dWYyL3ZpZGVvYnVmMi1kbWEtY29udGlnLmMNCj4gKysrIGIvZHJpdmVycy9tZWRpYS9jb21tb24v
dmlkZW9idWYyL3ZpZGVvYnVmMi1kbWEtY29udGlnLmMNCj4gQEAgLTEwMSw3ICsxMDEsNyBAQCBz
dGF0aWMgdm9pZCAqdmIyX2RjX3ZhZGRyKHN0cnVjdCB2YjJfYnVmZmVyICp2Yiwgdm9pZCAqYnVm
X3ByaXYpDQo+ICAgCWlmIChidWYtPmRiX2F0dGFjaCkgew0KPiAgIAkJc3RydWN0IGlvc3lzX21h
cCBtYXA7DQo+ICAgDQo+IC0JCWlmICghZG1hX2J1Zl92bWFwKGJ1Zi0+ZGJfYXR0YWNoLT5kbWFi
dWYsICZtYXApKQ0KPiArCQlpZiAoIWRtYV9idWZfdm1hcF91bmxvY2tlZChidWYtPmRiX2F0dGFj
aC0+ZG1hYnVmLCAmbWFwKSkNCj4gICAJCQlidWYtPnZhZGRyID0gbWFwLnZhZGRyOw0KPiAgIA0K
PiAgIAkJcmV0dXJuIGJ1Zi0+dmFkZHI7DQo+IEBAIC03MTEsNyArNzExLDcgQEAgc3RhdGljIGlu
dCB2YjJfZGNfbWFwX2RtYWJ1Zih2b2lkICptZW1fcHJpdikNCj4gICAJfQ0KPiAgIA0KPiAgIAkv
KiBnZXQgdGhlIGFzc29jaWF0ZWQgc2NhdHRlcmxpc3QgZm9yIHRoaXMgYnVmZmVyICovDQo+IC0J
c2d0ID0gZG1hX2J1Zl9tYXBfYXR0YWNobWVudChidWYtPmRiX2F0dGFjaCwgYnVmLT5kbWFfZGly
KTsNCj4gKwlzZ3QgPSBkbWFfYnVmX21hcF9hdHRhY2htZW50X3VubG9ja2VkKGJ1Zi0+ZGJfYXR0
YWNoLCBidWYtPmRtYV9kaXIpOw0KPiAgIAlpZiAoSVNfRVJSKHNndCkpIHsNCj4gICAJCXByX2Vy
cigiRXJyb3IgZ2V0dGluZyBkbWFidWYgc2NhdHRlcmxpc3RcbiIpOw0KPiAgIAkJcmV0dXJuIC1F
SU5WQUw7DQo+IEBAIC03MjIsNyArNzIyLDggQEAgc3RhdGljIGludCB2YjJfZGNfbWFwX2RtYWJ1
Zih2b2lkICptZW1fcHJpdikNCj4gICAJaWYgKGNvbnRpZ19zaXplIDwgYnVmLT5zaXplKSB7DQo+
ICAgCQlwcl9lcnIoImNvbnRpZ3VvdXMgY2h1bmsgaXMgdG9vIHNtYWxsICVsdS8lbHVcbiIsDQo+
ICAgCQkgICAgICAgY29udGlnX3NpemUsIGJ1Zi0+c2l6ZSk7DQo+IC0JCWRtYV9idWZfdW5tYXBf
YXR0YWNobWVudChidWYtPmRiX2F0dGFjaCwgc2d0LCBidWYtPmRtYV9kaXIpOw0KPiArCQlkbWFf
YnVmX3VubWFwX2F0dGFjaG1lbnRfdW5sb2NrZWQoYnVmLT5kYl9hdHRhY2gsIHNndCwNCj4gKwkJ
CQkJCSAgYnVmLT5kbWFfZGlyKTsNCj4gICAJCXJldHVybiAtRUZBVUxUOw0KPiAgIAl9DQo+ICAg
DQo+IEBAIC03NTAsMTAgKzc1MSwxMCBAQCBzdGF0aWMgdm9pZCB2YjJfZGNfdW5tYXBfZG1hYnVm
KHZvaWQgKm1lbV9wcml2KQ0KPiAgIAl9DQo+ICAgDQo+ICAgCWlmIChidWYtPnZhZGRyKSB7DQo+
IC0JCWRtYV9idWZfdnVubWFwKGJ1Zi0+ZGJfYXR0YWNoLT5kbWFidWYsICZtYXApOw0KPiArCQlk
bWFfYnVmX3Z1bm1hcF91bmxvY2tlZChidWYtPmRiX2F0dGFjaC0+ZG1hYnVmLCAmbWFwKTsNCj4g
ICAJCWJ1Zi0+dmFkZHIgPSBOVUxMOw0KPiAgIAl9DQo+IC0JZG1hX2J1Zl91bm1hcF9hdHRhY2ht
ZW50KGJ1Zi0+ZGJfYXR0YWNoLCBzZ3QsIGJ1Zi0+ZG1hX2Rpcik7DQo+ICsJZG1hX2J1Zl91bm1h
cF9hdHRhY2htZW50X3VubG9ja2VkKGJ1Zi0+ZGJfYXR0YWNoLCBzZ3QsIGJ1Zi0+ZG1hX2Rpcik7
DQo+ICAgDQo+ICAgCWJ1Zi0+ZG1hX2FkZHIgPSAwOw0KPiAgIAlidWYtPmRtYV9zZ3QgPSBOVUxM
Ow0KPiBAQCAtNzY4LDcgKzc2OSw3IEBAIHN0YXRpYyB2b2lkIHZiMl9kY19kZXRhY2hfZG1hYnVm
KHZvaWQgKm1lbV9wcml2KQ0KPiAgIAkJdmIyX2RjX3VubWFwX2RtYWJ1ZihidWYpOw0KPiAgIA0K
PiAgIAkvKiBkZXRhY2ggdGhpcyBhdHRhY2htZW50ICovDQo+IC0JZG1hX2J1Zl9kZXRhY2goYnVm
LT5kYl9hdHRhY2gtPmRtYWJ1ZiwgYnVmLT5kYl9hdHRhY2gpOw0KPiArCWRtYV9idWZfZGV0YWNo
X3VubG9ja2VkKGJ1Zi0+ZGJfYXR0YWNoLT5kbWFidWYsIGJ1Zi0+ZGJfYXR0YWNoKTsNCj4gICAJ
a2ZyZWUoYnVmKTsNCj4gICB9DQo+ICAgDQo+IEBAIC03OTIsNyArNzkzLDcgQEAgc3RhdGljIHZv
aWQgKnZiMl9kY19hdHRhY2hfZG1hYnVmKHN0cnVjdCB2YjJfYnVmZmVyICp2Yiwgc3RydWN0IGRl
dmljZSAqZGV2LA0KPiAgIAlidWYtPnZiID0gdmI7DQo+ICAgDQo+ICAgCS8qIGNyZWF0ZSBhdHRh
Y2htZW50IGZvciB0aGUgZG1hYnVmIHdpdGggdGhlIHVzZXIgZGV2aWNlICovDQo+IC0JZGJhID0g
ZG1hX2J1Zl9hdHRhY2goZGJ1ZiwgYnVmLT5kZXYpOw0KPiArCWRiYSA9IGRtYV9idWZfYXR0YWNo
X3VubG9ja2VkKGRidWYsIGJ1Zi0+ZGV2KTsNCj4gICAJaWYgKElTX0VSUihkYmEpKSB7DQo+ICAg
CQlwcl9lcnIoImZhaWxlZCB0byBhdHRhY2ggZG1hYnVmXG4iKTsNCj4gICAJCWtmcmVlKGJ1Zik7
DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYy
LWRtYS1zZy5jIGIvZHJpdmVycy9tZWRpYS9jb21tb24vdmlkZW9idWYyL3ZpZGVvYnVmMi1kbWEt
c2cuYw0KPiBpbmRleCBmYTY5MTU4YTY1YjEuLjM5ZTExNjAwMzA0YSAxMDA2NDQNCj4gLS0tIGEv
ZHJpdmVycy9tZWRpYS9jb21tb24vdmlkZW9idWYyL3ZpZGVvYnVmMi1kbWEtc2cuYw0KPiArKysg
Yi9kcml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLWRtYS1zZy5jDQo+IEBA
IC0zMDksNyArMzA5LDcgQEAgc3RhdGljIHZvaWQgKnZiMl9kbWFfc2dfdmFkZHIoc3RydWN0IHZi
Ml9idWZmZXIgKnZiLCB2b2lkICpidWZfcHJpdikNCj4gICANCj4gICAJaWYgKCFidWYtPnZhZGRy
KSB7DQo+ICAgCQlpZiAoYnVmLT5kYl9hdHRhY2gpIHsNCj4gLQkJCXJldCA9IGRtYV9idWZfdm1h
cChidWYtPmRiX2F0dGFjaC0+ZG1hYnVmLCAmbWFwKTsNCj4gKwkJCXJldCA9IGRtYV9idWZfdm1h
cF91bmxvY2tlZChidWYtPmRiX2F0dGFjaC0+ZG1hYnVmLCAmbWFwKTsNCj4gICAJCQlidWYtPnZh
ZGRyID0gcmV0ID8gTlVMTCA6IG1hcC52YWRkcjsNCj4gICAJCX0gZWxzZSB7DQo+ICAgCQkJYnVm
LT52YWRkciA9IHZtX21hcF9yYW0oYnVmLT5wYWdlcywgYnVmLT5udW1fcGFnZXMsIC0xKTsNCj4g
QEAgLTU2NSw3ICs1NjUsNyBAQCBzdGF0aWMgaW50IHZiMl9kbWFfc2dfbWFwX2RtYWJ1Zih2b2lk
ICptZW1fcHJpdikNCj4gICAJfQ0KPiAgIA0KPiAgIAkvKiBnZXQgdGhlIGFzc29jaWF0ZWQgc2Nh
dHRlcmxpc3QgZm9yIHRoaXMgYnVmZmVyICovDQo+IC0Jc2d0ID0gZG1hX2J1Zl9tYXBfYXR0YWNo
bWVudChidWYtPmRiX2F0dGFjaCwgYnVmLT5kbWFfZGlyKTsNCj4gKwlzZ3QgPSBkbWFfYnVmX21h
cF9hdHRhY2htZW50X3VubG9ja2VkKGJ1Zi0+ZGJfYXR0YWNoLCBidWYtPmRtYV9kaXIpOw0KPiAg
IAlpZiAoSVNfRVJSKHNndCkpIHsNCj4gICAJCXByX2VycigiRXJyb3IgZ2V0dGluZyBkbWFidWYg
c2NhdHRlcmxpc3RcbiIpOw0KPiAgIAkJcmV0dXJuIC1FSU5WQUw7DQo+IEBAIC01OTQsMTAgKzU5
NCwxMCBAQCBzdGF0aWMgdm9pZCB2YjJfZG1hX3NnX3VubWFwX2RtYWJ1Zih2b2lkICptZW1fcHJp
dikNCj4gICAJfQ0KPiAgIA0KPiAgIAlpZiAoYnVmLT52YWRkcikgew0KPiAtCQlkbWFfYnVmX3Z1
bm1hcChidWYtPmRiX2F0dGFjaC0+ZG1hYnVmLCAmbWFwKTsNCj4gKwkJZG1hX2J1Zl92dW5tYXBf
dW5sb2NrZWQoYnVmLT5kYl9hdHRhY2gtPmRtYWJ1ZiwgJm1hcCk7DQo+ICAgCQlidWYtPnZhZGRy
ID0gTlVMTDsNCj4gICAJfQ0KPiAtCWRtYV9idWZfdW5tYXBfYXR0YWNobWVudChidWYtPmRiX2F0
dGFjaCwgc2d0LCBidWYtPmRtYV9kaXIpOw0KPiArCWRtYV9idWZfdW5tYXBfYXR0YWNobWVudF91
bmxvY2tlZChidWYtPmRiX2F0dGFjaCwgc2d0LCBidWYtPmRtYV9kaXIpOw0KPiAgIA0KPiAgIAli
dWYtPmRtYV9zZ3QgPSBOVUxMOw0KPiAgIH0NCj4gQEAgLTYxMSw3ICs2MTEsNyBAQCBzdGF0aWMg
dm9pZCB2YjJfZG1hX3NnX2RldGFjaF9kbWFidWYodm9pZCAqbWVtX3ByaXYpDQo+ICAgCQl2YjJf
ZG1hX3NnX3VubWFwX2RtYWJ1ZihidWYpOw0KPiAgIA0KPiAgIAkvKiBkZXRhY2ggdGhpcyBhdHRh
Y2htZW50ICovDQo+IC0JZG1hX2J1Zl9kZXRhY2goYnVmLT5kYl9hdHRhY2gtPmRtYWJ1ZiwgYnVm
LT5kYl9hdHRhY2gpOw0KPiArCWRtYV9idWZfZGV0YWNoX3VubG9ja2VkKGJ1Zi0+ZGJfYXR0YWNo
LT5kbWFidWYsIGJ1Zi0+ZGJfYXR0YWNoKTsNCj4gICAJa2ZyZWUoYnVmKTsNCj4gICB9DQo+ICAg
DQo+IEBAIC02MzMsNyArNjMzLDcgQEAgc3RhdGljIHZvaWQgKnZiMl9kbWFfc2dfYXR0YWNoX2Rt
YWJ1ZihzdHJ1Y3QgdmIyX2J1ZmZlciAqdmIsIHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gICANCj4g
ICAJYnVmLT5kZXYgPSBkZXY7DQo+ICAgCS8qIGNyZWF0ZSBhdHRhY2htZW50IGZvciB0aGUgZG1h
YnVmIHdpdGggdGhlIHVzZXIgZGV2aWNlICovDQo+IC0JZGJhID0gZG1hX2J1Zl9hdHRhY2goZGJ1
ZiwgYnVmLT5kZXYpOw0KPiArCWRiYSA9IGRtYV9idWZfYXR0YWNoX3VubG9ja2VkKGRidWYsIGJ1
Zi0+ZGV2KTsNCj4gICAJaWYgKElTX0VSUihkYmEpKSB7DQo+ICAgCQlwcl9lcnIoImZhaWxlZCB0
byBhdHRhY2ggZG1hYnVmXG4iKTsNCj4gICAJCWtmcmVlKGJ1Zik7DQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL21lZGlhL2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLXZtYWxsb2MuYyBiL2RyaXZl
cnMvbWVkaWEvY29tbW9uL3ZpZGVvYnVmMi92aWRlb2J1ZjItdm1hbGxvYy5jDQo+IGluZGV4IDk0
ODE1MmYxNTk2Yi4uNzgzMWJmNTQ1ODc0IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL21lZGlhL2Nv
bW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLXZtYWxsb2MuYw0KPiArKysgYi9kcml2ZXJzL21lZGlh
L2NvbW1vbi92aWRlb2J1ZjIvdmlkZW9idWYyLXZtYWxsb2MuYw0KPiBAQCAtMzc2LDcgKzM3Niw3
IEBAIHN0YXRpYyBpbnQgdmIyX3ZtYWxsb2NfbWFwX2RtYWJ1Zih2b2lkICptZW1fcHJpdikNCj4g
ICAJc3RydWN0IGlvc3lzX21hcCBtYXA7DQo+ICAgCWludCByZXQ7DQo+ICAgDQo+IC0JcmV0ID0g
ZG1hX2J1Zl92bWFwKGJ1Zi0+ZGJ1ZiwgJm1hcCk7DQo+ICsJcmV0ID0gZG1hX2J1Zl92bWFwX3Vu
bG9ja2VkKGJ1Zi0+ZGJ1ZiwgJm1hcCk7DQo+ICAgCWlmIChyZXQpDQo+ICAgCQlyZXR1cm4gLUVG
QVVMVDsNCj4gICAJYnVmLT52YWRkciA9IG1hcC52YWRkcjsNCj4gQEAgLTM4OSw3ICszODksNyBA
QCBzdGF0aWMgdm9pZCB2YjJfdm1hbGxvY191bm1hcF9kbWFidWYodm9pZCAqbWVtX3ByaXYpDQo+
ICAgCXN0cnVjdCB2YjJfdm1hbGxvY19idWYgKmJ1ZiA9IG1lbV9wcml2Ow0KPiAgIAlzdHJ1Y3Qg
aW9zeXNfbWFwIG1hcCA9IElPU1lTX01BUF9JTklUX1ZBRERSKGJ1Zi0+dmFkZHIpOw0KPiAgIA0K
PiAtCWRtYV9idWZfdnVubWFwKGJ1Zi0+ZGJ1ZiwgJm1hcCk7DQo+ICsJZG1hX2J1Zl92dW5tYXBf
dW5sb2NrZWQoYnVmLT5kYnVmLCAmbWFwKTsNCj4gICAJYnVmLT52YWRkciA9IE5VTEw7DQo+ICAg
fQ0KPiAgIA0KPiBAQCAtMzk5LDcgKzM5OSw3IEBAIHN0YXRpYyB2b2lkIHZiMl92bWFsbG9jX2Rl
dGFjaF9kbWFidWYodm9pZCAqbWVtX3ByaXYpDQo+ICAgCXN0cnVjdCBpb3N5c19tYXAgbWFwID0g
SU9TWVNfTUFQX0lOSVRfVkFERFIoYnVmLT52YWRkcik7DQo+ICAgDQo+ICAgCWlmIChidWYtPnZh
ZGRyKQ0KPiAtCQlkbWFfYnVmX3Z1bm1hcChidWYtPmRidWYsICZtYXApOw0KPiArCQlkbWFfYnVm
X3Z1bm1hcF91bmxvY2tlZChidWYtPmRidWYsICZtYXApOw0KPiAgIA0KPiAgIAlrZnJlZShidWYp
Ow0KPiAgIH0NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbnZpZGlhL3Rl
Z3JhLXZkZS9kbWFidWYtY2FjaGUuYyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbnZpZGlhL3Rl
Z3JhLXZkZS9kbWFidWYtY2FjaGUuYw0KPiBpbmRleCA2OWMzNDYxNDgwNzAuLjU4ZTQ1OTVmM2Ex
MCAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9tZWRpYS9wbGF0Zm9ybS9udmlkaWEvdGVncmEtdmRl
L2RtYWJ1Zi1jYWNoZS5jDQo+ICsrKyBiL2RyaXZlcnMvbWVkaWEvcGxhdGZvcm0vbnZpZGlhL3Rl
Z3JhLXZkZS9kbWFidWYtY2FjaGUuYw0KPiBAQCAtMzgsOCArMzgsOCBAQCBzdGF0aWMgdm9pZCB0
ZWdyYV92ZGVfcmVsZWFzZV9lbnRyeShzdHJ1Y3QgdGVncmFfdmRlX2NhY2hlX2VudHJ5ICplbnRy
eSkNCj4gICAJaWYgKGVudHJ5LT52ZGUtPmRvbWFpbikNCj4gICAJCXRlZ3JhX3ZkZV9pb21tdV91
bm1hcChlbnRyeS0+dmRlLCBlbnRyeS0+aW92YSk7DQo+ICAgDQo+IC0JZG1hX2J1Zl91bm1hcF9h
dHRhY2htZW50KGVudHJ5LT5hLCBlbnRyeS0+c2d0LCBlbnRyeS0+ZG1hX2Rpcik7DQo+IC0JZG1h
X2J1Zl9kZXRhY2goZG1hYnVmLCBlbnRyeS0+YSk7DQo+ICsJZG1hX2J1Zl91bm1hcF9hdHRhY2ht
ZW50X3VubG9ja2VkKGVudHJ5LT5hLCBlbnRyeS0+c2d0LCBlbnRyeS0+ZG1hX2Rpcik7DQo+ICsJ
ZG1hX2J1Zl9kZXRhY2hfdW5sb2NrZWQoZG1hYnVmLCBlbnRyeS0+YSk7DQo+ICAgCWRtYV9idWZf
cHV0KGRtYWJ1Zik7DQo+ICAgDQo+ICAgCWxpc3RfZGVsKCZlbnRyeS0+bGlzdCk7DQo+IEBAIC05
NSwxNCArOTUsMTQgQEAgaW50IHRlZ3JhX3ZkZV9kbWFidWZfY2FjaGVfbWFwKHN0cnVjdCB0ZWdy
YV92ZGUgKnZkZSwNCj4gICAJCWdvdG8gcmVmOw0KPiAgIAl9DQo+ICAgDQo+IC0JYXR0YWNobWVu
dCA9IGRtYV9idWZfYXR0YWNoKGRtYWJ1ZiwgZGV2KTsNCj4gKwlhdHRhY2htZW50ID0gZG1hX2J1
Zl9hdHRhY2hfdW5sb2NrZWQoZG1hYnVmLCBkZXYpOw0KPiAgIAlpZiAoSVNfRVJSKGF0dGFjaG1l
bnQpKSB7DQo+ICAgCQlkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBhdHRhY2ggZG1hYnVmXG4iKTsN
Cj4gICAJCWVyciA9IFBUUl9FUlIoYXR0YWNobWVudCk7DQo+ICAgCQlnb3RvIGVycl91bmxvY2s7
DQo+ICAgCX0NCj4gICANCj4gLQlzZ3QgPSBkbWFfYnVmX21hcF9hdHRhY2htZW50KGF0dGFjaG1l
bnQsIGRtYV9kaXIpOw0KPiArCXNndCA9IGRtYV9idWZfbWFwX2F0dGFjaG1lbnRfdW5sb2NrZWQo
YXR0YWNobWVudCwgZG1hX2Rpcik7DQo+ICAgCWlmIChJU19FUlIoc2d0KSkgew0KPiAgIAkJZGV2
X2VycihkZXYsICJGYWlsZWQgdG8gZ2V0IGRtYWJ1ZnMgc2dfdGFibGVcbiIpOw0KPiAgIAkJZXJy
ID0gUFRSX0VSUihzZ3QpOw0KPiBAQCAtMTUyLDkgKzE1Miw5IEBAIGludCB0ZWdyYV92ZGVfZG1h
YnVmX2NhY2hlX21hcChzdHJ1Y3QgdGVncmFfdmRlICp2ZGUsDQo+ICAgZXJyX2ZyZWU6DQo+ICAg
CWtmcmVlKGVudHJ5KTsNCj4gICBlcnJfdW5tYXA6DQo+IC0JZG1hX2J1Zl91bm1hcF9hdHRhY2ht
ZW50KGF0dGFjaG1lbnQsIHNndCwgZG1hX2Rpcik7DQo+ICsJZG1hX2J1Zl91bm1hcF9hdHRhY2ht
ZW50X3VubG9ja2VkKGF0dGFjaG1lbnQsIHNndCwgZG1hX2Rpcik7DQo+ICAgZXJyX2RldGFjaDoN
Cj4gLQlkbWFfYnVmX2RldGFjaChkbWFidWYsIGF0dGFjaG1lbnQpOw0KPiArCWRtYV9idWZfZGV0
YWNoX3VubG9ja2VkKGRtYWJ1ZiwgYXR0YWNobWVudCk7DQo+ICAgZXJyX3VubG9jazoNCj4gICAJ
bXV0ZXhfdW5sb2NrKCZ2ZGUtPm1hcF9sb2NrKTsNCj4gICANCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvbWlzYy9mYXN0cnBjLmMgYi9kcml2ZXJzL21pc2MvZmFzdHJwYy5jDQo+IGluZGV4IDkzZWJk
MTc0ZDg0OC4uNTU4ZTgwNTZlYjgwIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL21pc2MvZmFzdHJw
Yy5jDQo+ICsrKyBiL2RyaXZlcnMvbWlzYy9mYXN0cnBjLmMNCj4gQEAgLTMxMCw5ICszMTAsOSBA
QCBzdGF0aWMgdm9pZCBmYXN0cnBjX2ZyZWVfbWFwKHN0cnVjdCBrcmVmICpyZWYpDQo+ICAgCQkJ
CXJldHVybjsNCj4gICAJCQl9DQo+ICAgCQl9DQo+IC0JCWRtYV9idWZfdW5tYXBfYXR0YWNobWVu
dChtYXAtPmF0dGFjaCwgbWFwLT50YWJsZSwNCj4gLQkJCQkJIERNQV9CSURJUkVDVElPTkFMKTsN
Cj4gLQkJZG1hX2J1Zl9kZXRhY2gobWFwLT5idWYsIG1hcC0+YXR0YWNoKTsNCj4gKwkJZG1hX2J1
Zl91bm1hcF9hdHRhY2htZW50X3VubG9ja2VkKG1hcC0+YXR0YWNoLCBtYXAtPnRhYmxlLA0KPiAr
CQkJCQkJICBETUFfQklESVJFQ1RJT05BTCk7DQo+ICsJCWRtYV9idWZfZGV0YWNoX3VubG9ja2Vk
KG1hcC0+YnVmLCBtYXAtPmF0dGFjaCk7DQo+ICAgCQlkbWFfYnVmX3B1dChtYXAtPmJ1Zik7DQo+
ICAgCX0NCj4gICANCj4gQEAgLTcxOSwxNCArNzE5LDE0IEBAIHN0YXRpYyBpbnQgZmFzdHJwY19t
YXBfY3JlYXRlKHN0cnVjdCBmYXN0cnBjX3VzZXIgKmZsLCBpbnQgZmQsDQo+ICAgCQlnb3RvIGdl
dF9lcnI7DQo+ICAgCX0NCj4gICANCj4gLQltYXAtPmF0dGFjaCA9IGRtYV9idWZfYXR0YWNoKG1h
cC0+YnVmLCBzZXNzLT5kZXYpOw0KPiArCW1hcC0+YXR0YWNoID0gZG1hX2J1Zl9hdHRhY2hfdW5s
b2NrZWQobWFwLT5idWYsIHNlc3MtPmRldik7DQo+ICAgCWlmIChJU19FUlIobWFwLT5hdHRhY2gp
KSB7DQo+ICAgCQlkZXZfZXJyKHNlc3MtPmRldiwgIkZhaWxlZCB0byBhdHRhY2ggZG1hYnVmXG4i
KTsNCj4gICAJCWVyciA9IFBUUl9FUlIobWFwLT5hdHRhY2gpOw0KPiAgIAkJZ290byBhdHRhY2hf
ZXJyOw0KPiAgIAl9DQo+ICAgDQo+IC0JbWFwLT50YWJsZSA9IGRtYV9idWZfbWFwX2F0dGFjaG1l
bnQobWFwLT5hdHRhY2gsIERNQV9CSURJUkVDVElPTkFMKTsNCj4gKwltYXAtPnRhYmxlID0gZG1h
X2J1Zl9tYXBfYXR0YWNobWVudF91bmxvY2tlZChtYXAtPmF0dGFjaCwgRE1BX0JJRElSRUNUSU9O
QUwpOw0KPiAgIAlpZiAoSVNfRVJSKG1hcC0+dGFibGUpKSB7DQo+ICAgCQllcnIgPSBQVFJfRVJS
KG1hcC0+dGFibGUpOw0KPiAgIAkJZ290byBtYXBfZXJyOw0KPiBAQCAtNzYzLDcgKzc2Myw3IEBA
IHN0YXRpYyBpbnQgZmFzdHJwY19tYXBfY3JlYXRlKHN0cnVjdCBmYXN0cnBjX3VzZXIgKmZsLCBp
bnQgZmQsDQo+ICAgCXJldHVybiAwOw0KPiAgIA0KPiAgIG1hcF9lcnI6DQo+IC0JZG1hX2J1Zl9k
ZXRhY2gobWFwLT5idWYsIG1hcC0+YXR0YWNoKTsNCj4gKwlkbWFfYnVmX2RldGFjaF91bmxvY2tl
ZChtYXAtPmJ1ZiwgbWFwLT5hdHRhY2gpOw0KPiAgIGF0dGFjaF9lcnI6DQo+ICAgCWRtYV9idWZf
cHV0KG1hcC0+YnVmKTsNCj4gICBnZXRfZXJyOg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy94ZW4v
Z250ZGV2LWRtYWJ1Zi5jIGIvZHJpdmVycy94ZW4vZ250ZGV2LWRtYWJ1Zi5jDQo+IGluZGV4IDk0
MGU1ZTllOGE1NC4uNWE1MGUyNjk3ZTk1IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL3hlbi9nbnRk
ZXYtZG1hYnVmLmMNCj4gKysrIGIvZHJpdmVycy94ZW4vZ250ZGV2LWRtYWJ1Zi5jDQo+IEBAIC01
OTIsNyArNTkyLDcgQEAgZG1hYnVmX2ltcF90b19yZWZzKHN0cnVjdCBnbnRkZXZfZG1hYnVmX3By
aXYgKnByaXYsIHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gICAJZ250ZGV2X2RtYWJ1Zi0+cHJpdiA9
IHByaXY7DQo+ICAgCWdudGRldl9kbWFidWYtPmZkID0gZmQ7DQo+ICAgDQo+IC0JYXR0YWNoID0g
ZG1hX2J1Zl9hdHRhY2goZG1hX2J1ZiwgZGV2KTsNCj4gKwlhdHRhY2ggPSBkbWFfYnVmX2F0dGFj
aF91bmxvY2tlZChkbWFfYnVmLCBkZXYpOw0KPiAgIAlpZiAoSVNfRVJSKGF0dGFjaCkpIHsNCj4g
ICAJCXJldCA9IEVSUl9DQVNUKGF0dGFjaCk7DQo+ICAgCQlnb3RvIGZhaWxfZnJlZV9vYmo7DQo+
IEBAIC02MDAsNyArNjAwLDcgQEAgZG1hYnVmX2ltcF90b19yZWZzKHN0cnVjdCBnbnRkZXZfZG1h
YnVmX3ByaXYgKnByaXYsIHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gICANCj4gICAJZ250ZGV2X2Rt
YWJ1Zi0+dS5pbXAuYXR0YWNoID0gYXR0YWNoOw0KPiAgIA0KPiAtCXNndCA9IGRtYV9idWZfbWFw
X2F0dGFjaG1lbnQoYXR0YWNoLCBETUFfQklESVJFQ1RJT05BTCk7DQo+ICsJc2d0ID0gZG1hX2J1
Zl9tYXBfYXR0YWNobWVudF91bmxvY2tlZChhdHRhY2gsIERNQV9CSURJUkVDVElPTkFMKTsNCj4g
ICAJaWYgKElTX0VSUihzZ3QpKSB7DQo+ICAgCQlyZXQgPSBFUlJfQ0FTVChzZ3QpOw0KPiAgIAkJ
Z290byBmYWlsX2RldGFjaDsNCj4gQEAgLTY1OCw5ICs2NTgsOSBAQCBkbWFidWZfaW1wX3RvX3Jl
ZnMoc3RydWN0IGdudGRldl9kbWFidWZfcHJpdiAqcHJpdiwgc3RydWN0IGRldmljZSAqZGV2LA0K
PiAgIGZhaWxfZW5kX2FjY2VzczoNCj4gICAJZG1hYnVmX2ltcF9lbmRfZm9yZWlnbl9hY2Nlc3Mo
Z250ZGV2X2RtYWJ1Zi0+dS5pbXAucmVmcywgY291bnQpOw0KPiAgIGZhaWxfdW5tYXA6DQo+IC0J
ZG1hX2J1Zl91bm1hcF9hdHRhY2htZW50KGF0dGFjaCwgc2d0LCBETUFfQklESVJFQ1RJT05BTCk7
DQo+ICsJZG1hX2J1Zl91bm1hcF9hdHRhY2htZW50X3VubG9ja2VkKGF0dGFjaCwgc2d0LCBETUFf
QklESVJFQ1RJT05BTCk7DQo+ICAgZmFpbF9kZXRhY2g6DQo+IC0JZG1hX2J1Zl9kZXRhY2goZG1h
X2J1ZiwgYXR0YWNoKTsNCj4gKwlkbWFfYnVmX2RldGFjaF91bmxvY2tlZChkbWFfYnVmLCBhdHRh
Y2gpOw0KPiAgIGZhaWxfZnJlZV9vYmo6DQo+ICAgCWRtYWJ1Zl9pbXBfZnJlZV9zdG9yYWdlKGdu
dGRldl9kbWFidWYpOw0KPiAgIGZhaWxfcHV0Og0KPiBAQCAtNzA4LDEwICs3MDgsMTAgQEAgc3Rh
dGljIGludCBkbWFidWZfaW1wX3JlbGVhc2Uoc3RydWN0IGdudGRldl9kbWFidWZfcHJpdiAqcHJp
diwgdTMyIGZkKQ0KPiAgIAlhdHRhY2ggPSBnbnRkZXZfZG1hYnVmLT51LmltcC5hdHRhY2g7DQo+
ICAgDQo+ICAgCWlmIChnbnRkZXZfZG1hYnVmLT51LmltcC5zZ3QpDQo+IC0JCWRtYV9idWZfdW5t
YXBfYXR0YWNobWVudChhdHRhY2gsIGdudGRldl9kbWFidWYtPnUuaW1wLnNndCwNCj4gLQkJCQkJ
IERNQV9CSURJUkVDVElPTkFMKTsNCj4gKwkJZG1hX2J1Zl91bm1hcF9hdHRhY2htZW50X3VubG9j
a2VkKGF0dGFjaCwgZ250ZGV2X2RtYWJ1Zi0+dS5pbXAuc2d0LA0KPiArCQkJCQkJICBETUFfQklE
SVJFQ1RJT05BTCk7DQo+ICAgCWRtYV9idWYgPSBhdHRhY2gtPmRtYWJ1ZjsNCj4gLQlkbWFfYnVm
X2RldGFjaChhdHRhY2gtPmRtYWJ1ZiwgYXR0YWNoKTsNCj4gKwlkbWFfYnVmX2RldGFjaF91bmxv
Y2tlZChhdHRhY2gtPmRtYWJ1ZiwgYXR0YWNoKTsNCj4gICAJZG1hX2J1Zl9wdXQoZG1hX2J1Zik7
DQo+ICAgDQo+ICAgCWRtYWJ1Zl9pbXBfZnJlZV9zdG9yYWdlKGdudGRldl9kbWFidWYpOw0KPiBk
aWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9kbWEtYnVmLmggYi9pbmNsdWRlL2xpbnV4L2RtYS1i
dWYuaA0KPiBpbmRleCA3MTczMTc5NmM4YzMuLjlhYjA5NTY5ZGVjMSAxMDA2NDQNCj4gLS0tIGEv
aW5jbHVkZS9saW51eC9kbWEtYnVmLmgNCj4gKysrIGIvaW5jbHVkZS9saW51eC9kbWEtYnVmLmgN
Cj4gQEAgLTYwMSwxNCArNjAxLDE2IEBAIGRtYV9idWZfYXR0YWNobWVudF9pc19keW5hbWljKHN0
cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCkNCj4gICAJcmV0dXJuICEhYXR0YWNoLT5p
bXBvcnRlcl9vcHM7DQo+ICAgfQ0KPiAgIA0KPiAtc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAq
ZG1hX2J1Zl9hdHRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1ZiwNCj4gLQkJCQkJICBzdHJ1Y3Qg
ZGV2aWNlICpkZXYpOw0KPiArc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqZG1hX2J1Zl9hdHRh
Y2hfdW5sb2NrZWQoc3RydWN0IGRtYV9idWYgKmRtYWJ1ZiwNCj4gKwkJCQkJCSAgIHN0cnVjdCBk
ZXZpY2UgKmRldik7DQo+ICAgc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqDQo+IC1kbWFfYnVm
X2R5bmFtaWNfYXR0YWNoKHN0cnVjdCBkbWFfYnVmICpkbWFidWYsIHN0cnVjdCBkZXZpY2UgKmRl
diwNCj4gLQkJICAgICAgIGNvbnN0IHN0cnVjdCBkbWFfYnVmX2F0dGFjaF9vcHMgKmltcG9ydGVy
X29wcywNCj4gLQkJICAgICAgIHZvaWQgKmltcG9ydGVyX3ByaXYpOw0KPiAtdm9pZCBkbWFfYnVm
X2RldGFjaChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLA0KPiAtCQkgICAgc3RydWN0IGRtYV9idWZf
YXR0YWNobWVudCAqYXR0YWNoKTsNCj4gK2RtYV9idWZfZHluYW1pY19hdHRhY2hfdW5sb2NrZWQo
c3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwgc3RydWN0IGRldmljZSAqZGV2LA0KPiArCQkJCWNvbnN0
IHN0cnVjdCBkbWFfYnVmX2F0dGFjaF9vcHMgKmltcG9ydGVyX29wcywNCj4gKwkJCQl2b2lkICpp
bXBvcnRlcl9wcml2KTsNCj4gKw0KPiArdm9pZCBkbWFfYnVmX2RldGFjaF91bmxvY2tlZChzdHJ1
Y3QgZG1hX2J1ZiAqZG1hYnVmLA0KPiArCQkJICAgICBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50
ICphdHRhY2gpOw0KPiArDQo+ICAgaW50IGRtYV9idWZfcGluKHN0cnVjdCBkbWFfYnVmX2F0dGFj
aG1lbnQgKmF0dGFjaCk7DQo+ICAgdm9pZCBkbWFfYnVmX3VucGluKHN0cnVjdCBkbWFfYnVmX2F0
dGFjaG1lbnQgKmF0dGFjaCk7DQo+ICAgDQo+IEBAIC02MTgsMTggKzYyMCwyMCBAQCBpbnQgZG1h
X2J1Zl9mZChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLCBpbnQgZmxhZ3MpOw0KPiAgIHN0cnVjdCBk
bWFfYnVmICpkbWFfYnVmX2dldChpbnQgZmQpOw0KPiAgIHZvaWQgZG1hX2J1Zl9wdXQoc3RydWN0
IGRtYV9idWYgKmRtYWJ1Zik7DQo+ICAgDQo+IC1zdHJ1Y3Qgc2dfdGFibGUgKmRtYV9idWZfbWFw
X2F0dGFjaG1lbnQoc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqLA0KPiAtCQkJCQllbnVtIGRt
YV9kYXRhX2RpcmVjdGlvbik7DQo+IC12b2lkIGRtYV9idWZfdW5tYXBfYXR0YWNobWVudChzdHJ1
Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICosIHN0cnVjdCBzZ190YWJsZSAqLA0KPiAtCQkJCWVudW0g
ZG1hX2RhdGFfZGlyZWN0aW9uKTsNCj4gK3N0cnVjdCBzZ190YWJsZSAqZG1hX2J1Zl9tYXBfYXR0
YWNobWVudF91bmxvY2tlZChzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICosDQo+ICsJCQkJCQkg
ZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24pOw0KPiArdm9pZCBkbWFfYnVmX3VubWFwX2F0dGFjaG1l
bnRfdW5sb2NrZWQoc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqLA0KPiArCQkJCSAgICAgICBz
dHJ1Y3Qgc2dfdGFibGUgKiwNCj4gKwkJCQkgICAgICAgZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24p
Ow0KPiArDQo+ICAgdm9pZCBkbWFfYnVmX21vdmVfbm90aWZ5KHN0cnVjdCBkbWFfYnVmICpkbWFf
YnVmKTsNCj4gICBpbnQgZG1hX2J1Zl9iZWdpbl9jcHVfYWNjZXNzKHN0cnVjdCBkbWFfYnVmICpk
bWFfYnVmLA0KPiAgIAkJCSAgICAgZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyKTsNCj4gICBp
bnQgZG1hX2J1Zl9lbmRfY3B1X2FjY2VzcyhzdHJ1Y3QgZG1hX2J1ZiAqZG1hX2J1ZiwNCj4gICAJ
CQkgICBlbnVtIGRtYV9kYXRhX2RpcmVjdGlvbiBkaXIpOw0KPiAgIA0KPiAtaW50IGRtYV9idWZf
bW1hcChzdHJ1Y3QgZG1hX2J1ZiAqLCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKiwNCj4gLQkJIHVu
c2lnbmVkIGxvbmcpOw0KPiAtaW50IGRtYV9idWZfdm1hcChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVm
LCBzdHJ1Y3QgaW9zeXNfbWFwICptYXApOw0KPiAtdm9pZCBkbWFfYnVmX3Z1bm1hcChzdHJ1Y3Qg
ZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1Y3QgaW9zeXNfbWFwICptYXApOw0KPiAraW50IGRtYV9idWZf
bW1hcF91bmxvY2tlZChzdHJ1Y3QgZG1hX2J1ZiAqLCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKiwN
Cj4gKwkJCSAgdW5zaWduZWQgbG9uZyk7DQo+ICtpbnQgZG1hX2J1Zl92bWFwX3VubG9ja2VkKHN0
cnVjdCBkbWFfYnVmICpkbWFidWYsIHN0cnVjdCBpb3N5c19tYXAgKm1hcCk7DQo+ICt2b2lkIGRt
YV9idWZfdnVubWFwX3VubG9ja2VkKHN0cnVjdCBkbWFfYnVmICpkbWFidWYsIHN0cnVjdCBpb3N5
c19tYXAgKm1hcCk7DQo+ICAgI2VuZGlmIC8qIF9fRE1BX0JVRl9IX18gKi8NCg0KX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KTGluYXJvLW1tLXNpZyBtYWls
aW5nIGxpc3QgLS0gbGluYXJvLW1tLXNpZ0BsaXN0cy5saW5hcm8ub3JnClRvIHVuc3Vic2NyaWJl
IHNlbmQgYW4gZW1haWwgdG8gbGluYXJvLW1tLXNpZy1sZWF2ZUBsaXN0cy5saW5hcm8ub3JnCg==
