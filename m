Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [44.210.186.118])
	by mail.lfdr.de (Postfix) with ESMTPS id AC8DFD3C65D
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 20 Jan 2026 11:58:02 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id C9AAD3F9D9
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 20 Jan 2026 10:58:01 +0000 (UTC)
Received: from mail-wm1-f52.google.com (mail-wm1-f52.google.com [209.85.128.52])
	by lists.linaro.org (Postfix) with ESMTPS id E97CF4014A
	for <linaro-mm-sig@lists.linaro.org>; Tue, 20 Jan 2026 10:57:02 +0000 (UTC)
Authentication-Results: lists.linaro.org;
	dkim=pass header.d=gmail.com header.s=20230601 header.b="ZA1eRd/x";
	spf=pass (lists.linaro.org: domain of ckoenig.leichtzumerken@gmail.com designates 209.85.128.52 as permitted sender) smtp.mailfrom=ckoenig.leichtzumerken@gmail.com;
	dmarc=pass (policy=none) header.from=gmail.com
Received: by mail-wm1-f52.google.com with SMTP id 5b1f17b1804b1-4801bbbdb4aso26541575e9.1
        for <linaro-mm-sig@lists.linaro.org>; Tue, 20 Jan 2026 02:57:02 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20230601; t=1768906622; x=1769511422; darn=lists.linaro.org;
        h=content-transfer-encoding:mime-version:references:in-reply-to
         :message-id:date:subject:cc:to:from:from:to:cc:subject:date
         :message-id:reply-to;
        bh=AbE5RsuHL+/quiycaU27Auq21QfqBR/7xu5RhvQaJ3c=;
        b=ZA1eRd/xnxxPAWJ1hEvFwC8zk8ZsFAv5HtKM2J0DASuCJyCfUA8I7DPNcTTUydhLOv
         R+PuxLfIwIM6wO8VWHO0Si5GTDNWmQR1XCCgTLmPfwR5twuQWeK0ZnMaHFtbrNpB7PlJ
         2YrIxdlQtaR10AIzE2729Q9QyVgNsl0npeRX5Fx6knj1bPbF/lpCGnDKSwEPWM1Z2CEC
         7F5AYmIBpmHIZD/hI5hzg8SD/6gwNg3JynMvgrBFG4J9j50EG4UNgY4LW+BHkj0mdnE1
         hzDKYoEtcuZeOqpEkO3/PhorObqwGgYwWfzE4OdAkT4nAdie83ir1hp1JFmPnWlDF5Ok
         RtRw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1768906622; x=1769511422;
        h=content-transfer-encoding:mime-version:references:in-reply-to
         :message-id:date:subject:cc:to:from:x-gm-gg:x-gm-message-state:from
         :to:cc:subject:date:message-id:reply-to;
        bh=AbE5RsuHL+/quiycaU27Auq21QfqBR/7xu5RhvQaJ3c=;
        b=FgD8Qoa3WIS7Kg7Syo6vcSowhmmmth0BZ2/hkUjZ52tCywrSEmDA0sacNBL1Hjic3y
         Hb0Cr6Na6WikgnlwsB5YIoWeSyKWWJYwpp7UwW8eZQqE88iixlnsSPXGMURD7q2tQuRm
         QXHNg1Gs23ibCmB2XE8sRgqRLHNcgsqTWMg3wkI7zEeTO4JvyMMydVyZ19N4TnMYO9i6
         hYFDN0aGqbpWivIagEdhWWqY4R8XHkyx2s5pMisg52hQTF58F272qxJvpgKGEGytjraR
         u1lG5xIFAc3UeQqwtnexkNNN68mpWxWiDg6EvQyZfLzObbRS7tUajqE/TlcnawSJ4RFP
         xm/A==
X-Forwarded-Encrypted: i=1; AJvYcCWmBXNuoeWn3FbeD2X8UBxOROIzTCztUgZwhZGCSsBpxvjl6vrYtpioCxEWypJ48hA3PMHYO8kSu7T56ZLR@lists.linaro.org
X-Gm-Message-State: AOJu0YwW8FGVc7vUmhzhiqZojCi50vhTiapynL4uFk9aHC+EKoBGe6OG
	blvwGIbBlKXEzjcnlwRKXyceIZ1ma80z+Nvt4ZCaD1R84evEI/rkPbBi
X-Gm-Gg: AY/fxX6+92ngfuQpKP8lB6Gni0jfy/XZ8139ZWgoQV1aCWungl88vIjMO2u5UNTuU0E
	b0VNtstKk4COzK9DPzw6B4EHTeN9uJKaxtZon2L5IhFmDBCy6Nv/aAdZIrFnq8bWBS9a/JQB/Na
	tnx4EXqXtzkrvOTPZf1yAYotWqeE1bJuWepQcobJEz1euA8LdJAqVa8vFX2m0nCTZ5VWqjeIpmg
	OB4jsONAC9fp/ritQc+hexprWxFmYoUW917knTJcPlehZl2VbfzBWCaLuBPMcqwWbk4vGQg9E4y
	YKsksv/pnqbdXcn+sAaGIiXb6bg9eVrqviZruznQYm0vE4LBImyAn38E4YCX16/iAEqF66n+rRs
	yHz6cm6EnYybTi2sj+K6kt1tVvPoASdX8iS6CBhZB9S0drmz5/Q8ENta7Bdhu+bwctrhm4cEqg4
	VviXQYze9mvbt51CtPQuWzeRVd/6ufsOQJw5U=
X-Received: by 2002:a05:600c:1f86:b0:477:a289:d854 with SMTP id 5b1f17b1804b1-4801e53ca36mr217948135e9.5.1768906621826;
        Tue, 20 Jan 2026 02:57:01 -0800 (PST)
Received: from able.fritz.box ([2a00:e180:1563:d000:1067:f6c4:3bf8:ea8a])
        by smtp.gmail.com with ESMTPSA id 5b1f17b1804b1-4801fe67780sm99418105e9.16.2026.01.20.02.57.01
        (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
        Tue, 20 Jan 2026 02:57:01 -0800 (PST)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
To: phasta@mailbox.org,
	tursulin@ursulin.net,
	matthew.brost@intel.com,
	sumit.semwal@linaro.org
Date: Tue, 20 Jan 2026 11:54:43 +0100
Message-ID: <20260120105655.7134-5-christian.koenig@amd.com>
X-Mailer: git-send-email 2.43.0
In-Reply-To: <20260120105655.7134-1-christian.koenig@amd.com>
References: <20260120105655.7134-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-Rspamd-Queue-Id: E97CF4014A
X-Spamd-Bar: ----
X-Spamd-Result: default: False [-4.00 / 15.00];
	BAYES_HAM(-3.00)[100.00%];
	DMARC_POLICY_ALLOW(-0.50)[gmail.com,none];
	R_DKIM_ALLOW(-0.20)[gmail.com:s=20230601];
	R_SPF_ALLOW(-0.20)[+ip4:209.85.128.0/17:c];
	MIME_GOOD(-0.10)[text/plain];
	FREEMAIL_ENVFROM(0.00)[gmail.com];
	RCVD_IN_DNSWL_NONE(0.00)[209.85.128.52:from];
	RCVD_VIA_SMTP_AUTH(0.00)[];
	ASN(0.00)[asn:15169, ipnet:209.85.128.0/17, country:US];
	RWL_MAILSPIKE_POSSIBLE(0.00)[209.85.128.52:from];
	FREEMAIL_FROM(0.00)[gmail.com];
	MIME_TRACE(0.00)[0:+];
	ARC_NA(0.00)[];
	DNSWL_BLOCKED(0.00)[2a00:e180:1563:d000:1067:f6c4:3bf8:ea8a:received];
	NEURAL_HAM(-0.00)[-1.000];
	RCVD_COUNT_TWO(0.00)[2];
	FROM_EQ_ENVFROM(0.00)[];
	FROM_HAS_DN(0.00)[];
	RCPT_COUNT_FIVE(0.00)[6];
	TO_DN_NONE(0.00)[];
	PREVIOUSLY_DELIVERED(0.00)[linaro-mm-sig@lists.linaro.org];
	TO_MATCH_ENVRCPT_SOME(0.00)[];
	RCVD_TLS_LAST(0.00)[];
	DKIM_TRACE(0.00)[gmail.com:+]
X-Rspamd-Action: no action
X-Rspamd-Server: lists.linaro.org
Message-ID-Hash: E2T4DZ47VUXLUV4BYX2CB43Z46S3X7VK
X-Message-ID-Hash: E2T4DZ47VUXLUV4BYX2CB43Z46S3X7VK
X-MailFrom: ckoenig.leichtzumerken@gmail.com
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: dri-devel@lists.freedesktop.org, linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] [PATCH 4/9] dma-buf: abstract fence locking
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/E2T4DZ47VUXLUV4BYX2CB43Z46S3X7VK/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

QWRkIGRtYV9mZW5jZV9sb2NrX2lycXNhZmUoKSBhbmQgZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0
b3JlKCkgd3JhcHBlcnMNCmFuZCBtZWNoYW5pY2FsbHkgYXBwbHkgdGhlbSBldmVyeXdoZXJlLg0K
DQpKdXN0IGEgcHJlLXJlcXVpc2l0ZSBjbGVhbnVwIGZvciBhIGZvbGxvdyB1cCBwYXRjaC4NCg0K
U2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29t
Pg0KUmV2aWV3ZWQtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpZ2FsaWEuY29t
Pg0KLS0tDQogZHJpdmVycy9kbWEtYnVmL2RtYS1mZW5jZS5jICAgICAgICAgICAgICB8IDQ0ICsr
KysrKysrKysrLS0tLS0tLS0tLS0tLQ0KIGRyaXZlcnMvZG1hLWJ1Zi9zdC1kbWEtZmVuY2UuYyAg
ICAgICAgICAgfCAgNiArKy0tDQogZHJpdmVycy9kbWEtYnVmL3N3X3N5bmMuYyAgICAgICAgICAg
ICAgICB8IDE0ICsrKystLS0tDQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Jp
bmcuYyB8ICA0ICstLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jICAg
fCAgNCArLS0NCiBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2RybS5jICAgIHwgIDUg
Ky0tDQogZHJpdmVycy9ncHUvZHJtL3NjaGVkdWxlci9zY2hlZF9mZW5jZS5jICB8ICA2ICsrLS0N
CiBkcml2ZXJzL2dwdS9kcm0veGUveGVfc2NoZWRfam9iLmMgICAgICAgIHwgIDQgKy0tDQogaW5j
bHVkZS9saW51eC9kbWEtZmVuY2UuaCAgICAgICAgICAgICAgICB8IDIwICsrKysrKysrKysrDQog
OSBmaWxlcyBjaGFuZ2VkLCA2MyBpbnNlcnRpb25zKCspLCA0NCBkZWxldGlvbnMoLSkNCg0KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtZmVuY2UuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9k
bWEtZmVuY2UuYw0KaW5kZXggYzMyNDlkYTFiMTM2Li42ZGIwZTQwODliZTcgMTAwNjQ0DQotLS0g
YS9kcml2ZXJzL2RtYS1idWYvZG1hLWZlbmNlLmMNCisrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEt
ZmVuY2UuYw0KQEAgLTQxMiw5ICs0MTIsOSBAQCB2b2lkIGRtYV9mZW5jZV9zaWduYWxfdGltZXN0
YW1wKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLCBrdGltZV90IHRpbWVzdGFtcCkNCiAJaWYgKFdB
Uk5fT04oIWZlbmNlKSkNCiAJCXJldHVybjsNCiANCi0Jc3Bpbl9sb2NrX2lycXNhdmUoZmVuY2Ut
PmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX2xvY2tfaXJxc2F2ZShmZW5jZSwgZmxhZ3MpOw0K
IAlkbWFfZmVuY2Vfc2lnbmFsX3RpbWVzdGFtcF9sb2NrZWQoZmVuY2UsIHRpbWVzdGFtcCk7DQot
CXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNl
X3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLCBmbGFncyk7DQogfQ0KIEVYUE9SVF9TWU1CT0woZG1h
X2ZlbmNlX3NpZ25hbF90aW1lc3RhbXApOw0KIA0KQEAgLTQ3Myw5ICs0NzMsOSBAQCBib29sIGRt
YV9mZW5jZV9jaGVja19hbmRfc2lnbmFsKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQ0KIAl1bnNp
Z25lZCBsb25nIGZsYWdzOw0KIAlib29sIHJldDsNCiANCi0Jc3Bpbl9sb2NrX2lycXNhdmUoZmVu
Y2UtPmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX2xvY2tfaXJxc2F2ZShmZW5jZSwgZmxhZ3Mp
Ow0KIAlyZXQgPSBkbWFfZmVuY2VfY2hlY2tfYW5kX3NpZ25hbF9sb2NrZWQoZmVuY2UpOw0KLQlz
cGluX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV91
bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwgZmxhZ3MpOw0KIA0KIAlyZXR1cm4gcmV0Ow0KIH0NCkBA
IC01MDEsOSArNTAxLDkgQEAgdm9pZCBkbWFfZmVuY2Vfc2lnbmFsKHN0cnVjdCBkbWFfZmVuY2Ug
KmZlbmNlKQ0KIA0KIAl0bXAgPSBkbWFfZmVuY2VfYmVnaW5fc2lnbmFsbGluZygpOw0KIA0KLQlz
cGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfbG9ja19p
cnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCWRtYV9mZW5jZV9zaWduYWxfdGltZXN0YW1wX2xvY2tl
ZChmZW5jZSwga3RpbWVfZ2V0KCkpOw0KLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLT5s
b2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV91bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwgZmxhZ3Mp
Ow0KIA0KIAlkbWFfZmVuY2VfZW5kX3NpZ25hbGxpbmcodG1wKTsNCiB9DQpAQCAtNjAzLDEwICs2
MDMsMTAgQEAgdm9pZCBkbWFfZmVuY2VfcmVsZWFzZShzdHJ1Y3Qga3JlZiAqa3JlZikNCiAJCSAq
IGRvbid0IGxlYXZlIGNoYWlucyBkYW5nbGluZy4gV2Ugc2V0IHRoZSBlcnJvciBmbGFnIGZpcnN0
DQogCQkgKiBzbyB0aGF0IHRoZSBjYWxsYmFja3Mga25vdyB0aGlzIHNpZ25hbCBpcyBkdWUgdG8g
YW4gZXJyb3IuDQogCQkgKi8NCi0JCXNwaW5fbG9ja19pcnFzYXZlKGZlbmNlLT5sb2NrLCBmbGFn
cyk7DQorCQlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCQlmZW5jZS0+
ZXJyb3IgPSAtRURFQURMSzsNCiAJCWRtYV9mZW5jZV9zaWduYWxfbG9ja2VkKGZlbmNlKTsNCi0J
CXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJCWRtYV9mZW5j
ZV91bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwgZmxhZ3MpOw0KIAl9DQogDQogCW9wcyA9IHJjdV9k
ZXJlZmVyZW5jZShmZW5jZS0+b3BzKTsNCkBAIC02NzIsOSArNjcyLDkgQEAgdm9pZCBkbWFfZmVu
Y2VfZW5hYmxlX3N3X3NpZ25hbGluZyhzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkNCiB7DQogCXVu
c2lnbmVkIGxvbmcgZmxhZ3M7DQogDQotCXNwaW5fbG9ja19pcnFzYXZlKGZlbmNlLT5sb2NrLCBm
bGFncyk7DQorCWRtYV9mZW5jZV9sb2NrX2lycXNhdmUoZmVuY2UsIGZsYWdzKTsNCiAJX19kbWFf
ZmVuY2VfZW5hYmxlX3NpZ25hbGluZyhmZW5jZSk7DQotCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUo
ZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGZlbmNl
LCBmbGFncyk7DQogfQ0KIEVYUE9SVF9TWU1CT0woZG1hX2ZlbmNlX2VuYWJsZV9zd19zaWduYWxp
bmcpOw0KIA0KQEAgLTcxNCw4ICs3MTQsNyBAQCBpbnQgZG1hX2ZlbmNlX2FkZF9jYWxsYmFjayhz
dHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSwgc3RydWN0IGRtYV9mZW5jZV9jYiAqY2IsDQogCQlyZXR1
cm4gLUVOT0VOVDsNCiAJfQ0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9jaywgZmxh
Z3MpOw0KLQ0KKwlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCWlmIChf
X2RtYV9mZW5jZV9lbmFibGVfc2lnbmFsaW5nKGZlbmNlKSkgew0KIAkJY2ItPmZ1bmMgPSBmdW5j
Ow0KIAkJbGlzdF9hZGRfdGFpbCgmY2ItPm5vZGUsICZmZW5jZS0+Y2JfbGlzdCk7DQpAQCAtNzIz
LDggKzcyMiw3IEBAIGludCBkbWFfZmVuY2VfYWRkX2NhbGxiYWNrKHN0cnVjdCBkbWFfZmVuY2Ug
KmZlbmNlLCBzdHJ1Y3QgZG1hX2ZlbmNlX2NiICpjYiwNCiAJCUlOSVRfTElTVF9IRUFEKCZjYi0+
bm9kZSk7DQogCQlyZXQgPSAtRU5PRU5UOw0KIAl9DQotDQotCXNwaW5fdW5sb2NrX2lycXJlc3Rv
cmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGZl
bmNlLCBmbGFncyk7DQogDQogCXJldHVybiByZXQ7DQogfQ0KQEAgLTc0Nyw5ICs3NDUsOSBAQCBp
bnQgZG1hX2ZlbmNlX2dldF9zdGF0dXMoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpDQogCXVuc2ln
bmVkIGxvbmcgZmxhZ3M7DQogCWludCBzdGF0dXM7DQogDQotCXNwaW5fbG9ja19pcnFzYXZlKGZl
bmNlLT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV9sb2NrX2lycXNhdmUoZmVuY2UsIGZsYWdz
KTsNCiAJc3RhdHVzID0gZG1hX2ZlbmNlX2dldF9zdGF0dXNfbG9ja2VkKGZlbmNlKTsNCi0Jc3Bp
bl91bmxvY2tfaXJxcmVzdG9yZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfdW5s
b2NrX2lycXJlc3RvcmUoZmVuY2UsIGZsYWdzKTsNCiANCiAJcmV0dXJuIHN0YXR1czsNCiB9DQpA
QCAtNzc5LDEzICs3NzcsMTEgQEAgZG1hX2ZlbmNlX3JlbW92ZV9jYWxsYmFjayhzdHJ1Y3QgZG1h
X2ZlbmNlICpmZW5jZSwgc3RydWN0IGRtYV9mZW5jZV9jYiAqY2IpDQogCXVuc2lnbmVkIGxvbmcg
ZmxhZ3M7DQogCWJvb2wgcmV0Ow0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9jaywg
ZmxhZ3MpOw0KLQ0KKwlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCXJl
dCA9ICFsaXN0X2VtcHR5KCZjYi0+bm9kZSk7DQogCWlmIChyZXQpDQogCQlsaXN0X2RlbF9pbml0
KCZjYi0+bm9kZSk7DQotDQotCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGZs
YWdzKTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLCBmbGFncyk7DQogDQog
CXJldHVybiByZXQ7DQogfQ0KQEAgLTgyNCw3ICs4MjAsNyBAQCBkbWFfZmVuY2VfZGVmYXVsdF93
YWl0KHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLCBib29sIGludHIsIHNpZ25lZCBsb25nIHRpbWVv
dXQpDQogCXVuc2lnbmVkIGxvbmcgZmxhZ3M7DQogCXNpZ25lZCBsb25nIHJldCA9IHRpbWVvdXQg
PyB0aW1lb3V0IDogMTsNCiANCi0Jc3Bpbl9sb2NrX2lycXNhdmUoZmVuY2UtPmxvY2ssIGZsYWdz
KTsNCisJZG1hX2ZlbmNlX2xvY2tfaXJxc2F2ZShmZW5jZSwgZmxhZ3MpOw0KIA0KIAlpZiAoZG1h
X2ZlbmNlX3Rlc3Rfc2lnbmFsZWRfZmxhZyhmZW5jZSkpDQogCQlnb3RvIG91dDsNCkBAIC04NDgs
MTEgKzg0NCwxMSBAQCBkbWFfZmVuY2VfZGVmYXVsdF93YWl0KHN0cnVjdCBkbWFfZmVuY2UgKmZl
bmNlLCBib29sIGludHIsIHNpZ25lZCBsb25nIHRpbWVvdXQpDQogCQkJX19zZXRfY3VycmVudF9z
dGF0ZShUQVNLX0lOVEVSUlVQVElCTEUpOw0KIAkJZWxzZQ0KIAkJCV9fc2V0X2N1cnJlbnRfc3Rh
dGUoVEFTS19VTklOVEVSUlVQVElCTEUpOw0KLQkJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZShmZW5j
ZS0+bG9jaywgZmxhZ3MpOw0KKwkJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLCBm
bGFncyk7DQogDQogCQlyZXQgPSBzY2hlZHVsZV90aW1lb3V0KHJldCk7DQogDQotCQlzcGluX2xv
Y2tfaXJxc2F2ZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwkJZG1hX2ZlbmNlX2xvY2tfaXJxc2F2
ZShmZW5jZSwgZmxhZ3MpOw0KIAkJaWYgKHJldCA+IDAgJiYgaW50ciAmJiBzaWduYWxfcGVuZGlu
ZyhjdXJyZW50KSkNCiAJCQlyZXQgPSAtRVJFU1RBUlRTWVM7DQogCX0NCkBAIC04NjIsNyArODU4
LDcgQEAgZG1hX2ZlbmNlX2RlZmF1bHRfd2FpdChzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSwgYm9v
bCBpbnRyLCBzaWduZWQgbG9uZyB0aW1lb3V0KQ0KIAlfX3NldF9jdXJyZW50X3N0YXRlKFRBU0tf
UlVOTklORyk7DQogDQogb3V0Og0KLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLT5sb2Nr
LCBmbGFncyk7DQorCWRtYV9mZW5jZV91bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwgZmxhZ3MpOw0K
IAlyZXR1cm4gcmV0Ow0KIH0NCiBFWFBPUlRfU1lNQk9MKGRtYV9mZW5jZV9kZWZhdWx0X3dhaXQp
Ow0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9zdC1kbWEtZmVuY2UuYyBiL2RyaXZlcnMv
ZG1hLWJ1Zi9zdC1kbWEtZmVuY2UuYw0KaW5kZXggNzNlZDZmZDQ4YTEzLi41ZDBkOWFiYzZlMjEg
MTAwNjQ0DQotLS0gYS9kcml2ZXJzL2RtYS1idWYvc3QtZG1hLWZlbmNlLmMNCisrKyBiL2RyaXZl
cnMvZG1hLWJ1Zi9zdC1kbWEtZmVuY2UuYw0KQEAgLTQxMCw4ICs0MTAsMTAgQEAgc3RydWN0IHJh
Y2VfdGhyZWFkIHsNCiANCiBzdGF0aWMgdm9pZCBfX3dhaXRfZm9yX2NhbGxiYWNrcyhzdHJ1Y3Qg
ZG1hX2ZlbmNlICpmKQ0KIHsNCi0Jc3Bpbl9sb2NrX2lycShmLT5sb2NrKTsNCi0Jc3Bpbl91bmxv
Y2tfaXJxKGYtPmxvY2spOw0KKwl1bnNpZ25lZCBsb25nIGZsYWdzOw0KKw0KKwlkbWFfZmVuY2Vf
bG9ja19pcnFzYXZlKGYsIGZsYWdzKTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGYs
IGZsYWdzKTsNCiB9DQogDQogc3RhdGljIGludCB0aHJlYWRfc2lnbmFsX2NhbGxiYWNrKHZvaWQg
KmFyZykNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2RtYS1idWYvc3dfc3luYy5jIGIvZHJpdmVycy9k
bWEtYnVmL3N3X3N5bmMuYw0KaW5kZXggNmYwOWQxM2JlNmI2Li40YzgxYTM3ZGQ2ODIgMTAwNjQ0
DQotLS0gYS9kcml2ZXJzL2RtYS1idWYvc3dfc3luYy5jDQorKysgYi9kcml2ZXJzL2RtYS1idWYv
c3dfc3luYy5jDQpAQCAtMTU2LDEyICsxNTYsMTIgQEAgc3RhdGljIHZvaWQgdGltZWxpbmVfZmVu
Y2VfcmVsZWFzZShzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkNCiAJc3RydWN0IHN5bmNfdGltZWxp
bmUgKnBhcmVudCA9IGRtYV9mZW5jZV9wYXJlbnQoZmVuY2UpOw0KIAl1bnNpZ25lZCBsb25nIGZs
YWdzOw0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFf
ZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCWlmICghbGlzdF9lbXB0eSgmcHQt
PmxpbmspKSB7DQogCQlsaXN0X2RlbCgmcHQtPmxpbmspOw0KIAkJcmJfZXJhc2UoJnB0LT5ub2Rl
LCAmcGFyZW50LT5wdF90cmVlKTsNCiAJfQ0KLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKGZlbmNl
LT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV91bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwgZmxh
Z3MpOw0KIA0KIAlzeW5jX3RpbWVsaW5lX3B1dChwYXJlbnQpOw0KIAlkbWFfZmVuY2VfZnJlZShm
ZW5jZSk7DQpAQCAtMTc5LDcgKzE3OSw3IEBAIHN0YXRpYyB2b2lkIHRpbWVsaW5lX2ZlbmNlX3Nl
dF9kZWFkbGluZShzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSwga3RpbWVfdCBkZWFkbGluDQogCXN0
cnVjdCBzeW5jX3B0ICpwdCA9IGRtYV9mZW5jZV90b19zeW5jX3B0KGZlbmNlKTsNCiAJdW5zaWdu
ZWQgbG9uZyBmbGFnczsNCiANCi0Jc3Bpbl9sb2NrX2lycXNhdmUoZmVuY2UtPmxvY2ssIGZsYWdz
KTsNCisJZG1hX2ZlbmNlX2xvY2tfaXJxc2F2ZShmZW5jZSwgZmxhZ3MpOw0KIAlpZiAodGVzdF9i
aXQoU1dfU1lOQ19IQVNfREVBRExJTkVfQklULCAmZmVuY2UtPmZsYWdzKSkgew0KIAkJaWYgKGt0
aW1lX2JlZm9yZShkZWFkbGluZSwgcHQtPmRlYWRsaW5lKSkNCiAJCQlwdC0+ZGVhZGxpbmUgPSBk
ZWFkbGluZTsNCkBAIC0xODcsNyArMTg3LDcgQEAgc3RhdGljIHZvaWQgdGltZWxpbmVfZmVuY2Vf
c2V0X2RlYWRsaW5lKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLCBrdGltZV90IGRlYWRsaW4NCiAJ
CXB0LT5kZWFkbGluZSA9IGRlYWRsaW5lOw0KIAkJX19zZXRfYml0KFNXX1NZTkNfSEFTX0RFQURM
SU5FX0JJVCwgJmZlbmNlLT5mbGFncyk7DQogCX0NCi0Jc3Bpbl91bmxvY2tfaXJxcmVzdG9yZShm
ZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfdW5sb2NrX2lycXJlc3RvcmUoZmVuY2Us
IGZsYWdzKTsNCiB9DQogDQogc3RhdGljIGNvbnN0IHN0cnVjdCBkbWFfZmVuY2Vfb3BzIHRpbWVs
aW5lX2ZlbmNlX29wcyA9IHsNCkBAIC00MzEsMTMgKzQzMSwxMyBAQCBzdGF0aWMgaW50IHN3X3N5
bmNfaW9jdGxfZ2V0X2RlYWRsaW5lKHN0cnVjdCBzeW5jX3RpbWVsaW5lICpvYmosIHVuc2lnbmVk
IGxvbmcgYQ0KIAkJZ290byBwdXRfZmVuY2U7DQogCX0NCiANCi0Jc3Bpbl9sb2NrX2lycXNhdmUo
ZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX2xvY2tfaXJxc2F2ZShmZW5jZSwgZmxh
Z3MpOw0KIAlpZiAoIXRlc3RfYml0KFNXX1NZTkNfSEFTX0RFQURMSU5FX0JJVCwgJmZlbmNlLT5m
bGFncykpIHsNCiAJCXJldCA9IC1FTk9FTlQ7DQogCQlnb3RvIHVubG9jazsNCiAJfQ0KIAlkYXRh
LmRlYWRsaW5lX25zID0ga3RpbWVfdG9fbnMocHQtPmRlYWRsaW5lKTsNCi0Jc3Bpbl91bmxvY2tf
aXJxcmVzdG9yZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfdW5sb2NrX2lycXJl
c3RvcmUoZmVuY2UsIGZsYWdzKTsNCiANCiAJZG1hX2ZlbmNlX3B1dChmZW5jZSk7DQogDQpAQCAt
NDUwLDcgKzQ1MCw3IEBAIHN0YXRpYyBpbnQgc3dfc3luY19pb2N0bF9nZXRfZGVhZGxpbmUoc3Ry
dWN0IHN5bmNfdGltZWxpbmUgKm9iaiwgdW5zaWduZWQgbG9uZyBhDQogCXJldHVybiAwOw0KIA0K
IHVubG9jazoNCi0Jc3Bpbl91bmxvY2tfaXJxcmVzdG9yZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0K
KwlkbWFfZmVuY2VfdW5sb2NrX2lycXJlc3RvcmUoZmVuY2UsIGZsYWdzKTsNCiBwdXRfZmVuY2U6
DQogCWRtYV9mZW5jZV9wdXQoZmVuY2UpOw0KIA0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfcmluZy5jDQppbmRleCBjNTk2YjZkZjJlMmQuLjYwOTIyNDYzYjQxNSAxMDA2NDQNCi0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMNCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMNCkBAIC00NzQsMTAgKzQ3NCwxMCBA
QCBib29sIGFtZGdwdV9yaW5nX3NvZnRfcmVjb3Zlcnkoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5n
LCB1bnNpZ25lZCBpbnQgdm1pZCwNCiAJaWYgKGFtZGdwdV9zcmlvdl92ZihyaW5nLT5hZGV2KSB8
fCAhcmluZy0+ZnVuY3MtPnNvZnRfcmVjb3ZlcnkgfHwgIWZlbmNlKQ0KIAkJcmV0dXJuIGZhbHNl
Ow0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVu
Y2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCWlmICghZG1hX2ZlbmNlX2lzX3NpZ25h
bGVkX2xvY2tlZChmZW5jZSkpDQogCQlkbWFfZmVuY2Vfc2V0X2Vycm9yKGZlbmNlLCAtRU5PREFU
QSk7DQotCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJZG1h
X2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLCBmbGFncyk7DQogDQogCXdoaWxlICghZG1h
X2ZlbmNlX2lzX3NpZ25hbGVkKGZlbmNlKSAmJg0KIAkgICAgICAga3RpbWVfdG9fbnMoa3RpbWVf
c3ViKGRlYWRsaW5lLCBrdGltZV9nZXQoKSkpID4gMCkNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV92bS5jDQppbmRleCBjMzYyZDRkZmI1YmIuLmVhM2MxODdjNDc0ZCAxMDA2NDQNCi0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jDQorKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYw0KQEAgLTI3ODQsOCArMjc4NCw4IEBAIHZv
aWQgYW1kZ3B1X3ZtX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdCBhbWRn
cHVfdm0gKnZtKQ0KIAlkbWFfZmVuY2VfcHV0KHZtLT5sYXN0X3VubG9ja2VkKTsNCiAJZG1hX2Zl
bmNlX3dhaXQodm0tPmxhc3RfdGxiX2ZsdXNoLCBmYWxzZSk7DQogCS8qIE1ha2Ugc3VyZSB0aGF0
IGFsbCBmZW5jZSBjYWxsYmFja3MgaGF2ZSBjb21wbGV0ZWQgKi8NCi0Jc3Bpbl9sb2NrX2lycXNh
dmUodm0tPmxhc3RfdGxiX2ZsdXNoLT5sb2NrLCBmbGFncyk7DQotCXNwaW5fdW5sb2NrX2lycXJl
c3RvcmUodm0tPmxhc3RfdGxiX2ZsdXNoLT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV9sb2Nr
X2lycXNhdmUodm0tPmxhc3RfdGxiX2ZsdXNoLCBmbGFncyk7DQorCWRtYV9mZW5jZV91bmxvY2tf
aXJxcmVzdG9yZSh2bS0+bGFzdF90bGJfZmx1c2gsIGZsYWdzKTsNCiAJZG1hX2ZlbmNlX3B1dCh2
bS0+bGFzdF90bGJfZmx1c2gpOw0KIA0KIAlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUobWFwcGlu
ZywgdG1wLCAmdm0tPmZyZWVkLCBsaXN0KSB7DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L25vdXZlYXUvbm91dmVhdV9kcm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVf
ZHJtLmMNCmluZGV4IDE1MjdiODAxZjAxMy4uZWM0ZGZhM2VhNzI1IDEwMDY0NA0KLS0tIGEvZHJp
dmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9kcm0uYw0KKysrIGIvZHJpdmVycy9ncHUvZHJt
L25vdXZlYXUvbm91dmVhdV9kcm0uYw0KQEAgLTE1NiwxMiArMTU2LDEzIEBAIG5vdXZlYXVfbmFt
ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQ0KIHN0YXRpYyBpbmxpbmUgYm9vbA0KIG5vdXZlYXVf
Y2xpX3dvcmtfcmVhZHkoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpDQogew0KKwl1bnNpZ25lZCBs
b25nIGZsYWdzOw0KIAlib29sIHJldCA9IHRydWU7DQogDQotCXNwaW5fbG9ja19pcnEoZmVuY2Ut
PmxvY2spOw0KKwlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCWlmICgh
ZG1hX2ZlbmNlX2lzX3NpZ25hbGVkX2xvY2tlZChmZW5jZSkpDQogCQlyZXQgPSBmYWxzZTsNCi0J
c3Bpbl91bmxvY2tfaXJxKGZlbmNlLT5sb2NrKTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0
b3JlKGZlbmNlLCBmbGFncyk7DQogDQogCWlmIChyZXQgPT0gdHJ1ZSkNCiAJCWRtYV9mZW5jZV9w
dXQoZmVuY2UpOw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9zY2hlZHVsZXIvc2NoZWRf
ZmVuY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9zY2hlZHVsZXIvc2NoZWRfZmVuY2UuYw0KaW5kZXgg
OTM5MWQ2ZjBkYzAxLi43MjRkNzc2OTQyNDYgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
c2NoZWR1bGVyL3NjaGVkX2ZlbmNlLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9zY2hlZHVsZXIv
c2NoZWRfZmVuY2UuYw0KQEAgLTE1NiwxOSArMTU2LDE5IEBAIHN0YXRpYyB2b2lkIGRybV9zY2hl
ZF9mZW5jZV9zZXRfZGVhZGxpbmVfZmluaXNoZWQoc3RydWN0IGRtYV9mZW5jZSAqZiwNCiAJc3Ry
dWN0IGRtYV9mZW5jZSAqcGFyZW50Ow0KIAl1bnNpZ25lZCBsb25nIGZsYWdzOw0KIA0KLQlzcGlu
X2xvY2tfaXJxc2F2ZSgmZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX2xvY2tfaXJx
c2F2ZShmLCBmbGFncyk7DQogDQogCS8qIElmIHdlIGFscmVhZHkgaGF2ZSBhbiBlYXJsaWVyIGRl
YWRsaW5lLCBrZWVwIGl0OiAqLw0KIAlpZiAodGVzdF9iaXQoRFJNX1NDSEVEX0ZFTkNFX0ZMQUdf
SEFTX0RFQURMSU5FX0JJVCwgJmYtPmZsYWdzKSAmJg0KIAkgICAga3RpbWVfYmVmb3JlKGZlbmNl
LT5kZWFkbGluZSwgZGVhZGxpbmUpKSB7DQotCQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZmZW5j
ZS0+bG9jaywgZmxhZ3MpOw0KKwkJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGYsIGZsYWdz
KTsNCiAJCXJldHVybjsNCiAJfQ0KIA0KIAlmZW5jZS0+ZGVhZGxpbmUgPSBkZWFkbGluZTsNCiAJ
c2V0X2JpdChEUk1fU0NIRURfRkVOQ0VfRkxBR19IQVNfREVBRExJTkVfQklULCAmZi0+ZmxhZ3Mp
Ow0KIA0KLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlk
bWFfZmVuY2VfdW5sb2NrX2lycXJlc3RvcmUoZiwgZmxhZ3MpOw0KIA0KIAkvKg0KIAkgKiBzbXBf
bG9hZF9hcXVpcmUoKSB0byBlbnN1cmUgdGhhdCBpZiB3ZSBhcmUgcmFjaW5nIGFub3RoZXINCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0veGUveGVfc2NoZWRfam9iLmMgYi9kcml2ZXJzL2dw
dS9kcm0veGUveGVfc2NoZWRfam9iLmMNCmluZGV4IGNiNjc0YTMyMjExMy4uOWE0M2VkNjg5ZTY1
IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL3hlL3hlX3NjaGVkX2pvYi5jDQorKysgYi9k
cml2ZXJzL2dwdS9kcm0veGUveGVfc2NoZWRfam9iLmMNCkBAIC0xODksMTEgKzE4OSwxMSBAQCBz
dGF0aWMgYm9vbCB4ZV9mZW5jZV9zZXRfZXJyb3Ioc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGlu
dCBlcnJvcikNCiAJdW5zaWduZWQgbG9uZyBpcnFfZmxhZ3M7DQogCWJvb2wgc2lnbmFsZWQ7DQog
DQotCXNwaW5fbG9ja19pcnFzYXZlKGZlbmNlLT5sb2NrLCBpcnFfZmxhZ3MpOw0KKwlkbWFfZmVu
Y2VfbG9ja19pcnFzYXZlKGZlbmNlLCBpcnFfZmxhZ3MpOw0KIAlzaWduYWxlZCA9IHRlc3RfYml0
KERNQV9GRU5DRV9GTEFHX1NJR05BTEVEX0JJVCwgJmZlbmNlLT5mbGFncyk7DQogCWlmICghc2ln
bmFsZWQpDQogCQlkbWFfZmVuY2Vfc2V0X2Vycm9yKGZlbmNlLCBlcnJvcik7DQotCXNwaW5fdW5s
b2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGlycV9mbGFncyk7DQorCWRtYV9mZW5jZV91bmxv
Y2tfaXJxcmVzdG9yZShmZW5jZSwgaXJxX2ZsYWdzKTsNCiANCiAJcmV0dXJuIHNpZ25hbGVkOw0K
IH0NCmRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2RtYS1mZW5jZS5oIGIvaW5jbHVkZS9saW51
eC9kbWEtZmVuY2UuaA0KaW5kZXggZTFhZmJiNTkwOWY5Li4zNjdhNTk4ODMzYjcgMTAwNjQ0DQot
LS0gYS9pbmNsdWRlL2xpbnV4L2RtYS1mZW5jZS5oDQorKysgYi9pbmNsdWRlL2xpbnV4L2RtYS1m
ZW5jZS5oDQpAQCAtMzc3LDYgKzM3NywyNiBAQCBkbWFfZmVuY2VfZ2V0X3JjdV9zYWZlKHN0cnVj
dCBkbWFfZmVuY2UgX19yY3UgKipmZW5jZXApDQogCX0gd2hpbGUgKDEpOw0KIH0NCiANCisvKioN
CisgKiBkbWFfZmVuY2VfbG9ja19pcnFzYXZlIC0gaXJxc2F2ZSBsb2NrIHRoZSBmZW5jZQ0KKyAq
IEBmZW5jZTogdGhlIGZlbmNlIHRvIGxvY2sNCisgKiBAZmxhZ3M6IHdoZXJlIHRvIHN0b3JlIHRo
ZSBDUFUgZmxhZ3MuDQorICoNCisgKiBMb2NrIHRoZSBmZW5jZSwgcHJldmVudGluZyBpdCBmcm9t
IGNoYW5naW5nIHRvIHRoZSBzaWduYWxlZCBzdGF0ZS4NCisgKi8NCisjZGVmaW5lIGRtYV9mZW5j
ZV9sb2NrX2lycXNhdmUoZmVuY2UsIGZsYWdzKQlcDQorCXNwaW5fbG9ja19pcnFzYXZlKGZlbmNl
LT5sb2NrLCBmbGFncykNCisNCisvKioNCisgKiBkbWFfZmVuY2VfdW5sb2NrX2lycXJlc3RvcmUg
LSB1bmxvY2sgdGhlIGZlbmNlIGFuZCBpcnFyZXN0b3JlDQorICogQGZlbmNlOiB0aGUgZmVuY2Ug
dG8gdW5sb2NrDQorICogQGZsYWdzIHRoZSBDUFUgZmxhZ3MgdG8gcmVzdG9yZQ0KKyAqDQorICog
VW5sb2NrIHRoZSBmZW5jZSwgYWxsb3dpbmcgaXQgdG8gY2hhbmdlIGl0J3Mgc3RhdGUgdG8gc2ln
bmFsZWQgYWdhaW4uDQorICovDQorI2RlZmluZSBkbWFfZmVuY2VfdW5sb2NrX2lycXJlc3RvcmUo
ZmVuY2UsIGZsYWdzKQlcDQorCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGZs
YWdzKQ0KKw0KICNpZmRlZiBDT05GSUdfTE9DS0RFUA0KIGJvb2wgZG1hX2ZlbmNlX2JlZ2luX3Np
Z25hbGxpbmcodm9pZCk7DQogdm9pZCBkbWFfZmVuY2VfZW5kX3NpZ25hbGxpbmcoYm9vbCBjb29r
aWUpOw0KLS0gDQoyLjQzLjANCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KTGluYXJvLW1tLXNpZyBtYWlsaW5nIGxpc3QgLS0gbGluYXJvLW1tLXNpZ0Bs
aXN0cy5saW5hcm8ub3JnClRvIHVuc3Vic2NyaWJlIHNlbmQgYW4gZW1haWwgdG8gbGluYXJvLW1t
LXNpZy1sZWF2ZUBsaXN0cy5saW5hcm8ub3JnCg==
