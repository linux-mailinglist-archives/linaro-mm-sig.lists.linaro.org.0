Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 5D0FB2CB858
	for <lists+linaro-mm-sig@lfdr.de>; Wed,  2 Dec 2020 10:16:05 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 79414617B9
	for <lists+linaro-mm-sig@lfdr.de>; Wed,  2 Dec 2020 09:16:04 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 6B9F26659B; Wed,  2 Dec 2020 09:16:04 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,MAILING_LIST_MULTI,
	RCVD_IN_DNSWL_BLOCKED,RCVD_IN_MSPIKE_H3,RCVD_IN_MSPIKE_WL,
	SPF_HELO_NONE autolearn=disabled version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id F04CC65F8C;
	Wed,  2 Dec 2020 09:15:00 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id E1C3260C37
 for <linaro-mm-sig@lists.linaro.org>; Wed,  2 Dec 2020 09:14:56 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id CC93665F8C; Wed,  2 Dec 2020 09:14:56 +0000 (UTC)
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [216.205.24.124])
 by lists.linaro.org (Postfix) with ESMTPS id E183260C37
 for <linaro-mm-sig@lists.linaro.org>; Wed,  2 Dec 2020 09:14:54 +0000 (UTC)
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-337-uUzttUTAOCKihZpE_qpsgQ-1; Wed, 02 Dec 2020 04:14:50 -0500
X-MC-Unique: uUzttUTAOCKihZpE_qpsgQ-1
Received: from smtp.corp.redhat.com (int-mx03.intmail.prod.int.phx2.redhat.com
 [10.5.11.13])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 2ECBF18C89E3;
 Wed,  2 Dec 2020 09:14:47 +0000 (UTC)
Received: from [10.36.113.108] (ovpn-113-108.ams2.redhat.com [10.36.113.108])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 41ED460854;
 Wed,  2 Dec 2020 09:14:42 +0000 (UTC)
To: Minchan Kim <minchan@kernel.org>, Andrew Morton <akpm@linux-foundation.org>
References: <20201201175144.3996569-1-minchan@kernel.org>
 <20201201175144.3996569-3-minchan@kernel.org>
From: David Hildenbrand <david@redhat.com>
Organization: Red Hat GmbH
Message-ID: <8f006a4a-c21d-9db3-5493-fb1cc651b0cf@redhat.com>
Date: Wed, 2 Dec 2020 10:14:41 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.4.0
MIME-Version: 1.0
In-Reply-To: <20201201175144.3996569-3-minchan@kernel.org>
Content-Language: en-US
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.13
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: robh@kernel.org, devicetree@vger.kernel.org, Michal Hocko <mhocko@suse.com>,
 hyesoo.yu@samsung.com, LKML <linux-kernel@vger.kernel.org>,
 willy@infradead.org, Brian.Starkey@arm.com, linaro-mm-sig@lists.linaro.org,
 linux-mm <linux-mm@kvack.org>, john.stultz@linaro.org,
 christian.koenig@amd.com, joaodias@google.com, hridya@google.com,
 iamjoonsoo.kim@lge.com, pullip.cho@samsung.com, surenb@google.com,
 vbabka@suse.cz, linux-media@vger.kernel.org
Subject: Re: [Linaro-mm-sig] [PATCH v2 2/4] mm: introduce cma_alloc_bulk API
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

T24gMDEuMTIuMjAgMTg6NTEsIE1pbmNoYW4gS2ltIHdyb3RlOgo+IFRoZXJlIGlzIGEgbmVlZCBm
b3Igc3BlY2lhbCBIVyB0byByZXF1aXJlIGJ1bGsgYWxsb2NhdGlvbiBvZgo+IGhpZ2gtb3JkZXIg
cGFnZXMuIEZvciBleGFtcGxlLCA0ODAwICogb3JkZXItNCBwYWdlcywgd2hpY2gKPiB3b3VsZCBi
ZSBtaW5pbXVtLCBzb21ldGltZXMsIGl0IHJlcXVpcmVzIG1vcmUuCj4gCj4gVG8gbWVldCB0aGUg
cmVxdWlyZW1lbnQsIGEgb3B0aW9uIHJlc2VydmVzIDMwME0gQ01BIGFyZWEgYW5kCj4gcmVxdWVz
dHMgdGhlIHdob2xlIDMwME0gY29udGlndW91cyBtZW1vcnkuIEhvd2V2ZXIsIGl0IGRvZXNuJ3QK
PiB3b3JrIGlmIGV2ZW4gb25lIG9mIHRob3NlIHBhZ2VzIGluIHRoZSByYW5nZSBpcyBsb25nLXRl
cm0gcGlubmVkCj4gZGlyZWN0bHkgb3IgaW5kaXJlY3RseS4gVGhlIG90aGVyIG9wdGlvbiBpcyB0
byBhc2sgaGlnaGVyLW9yZGVyCgpNeSBsYXRlc3Qga25vd2xlZGdlIGlzIHRoYXQgcGFnZXMgaW4g
dGhlIENNQSBhcmVhIGFyZSBuZXZlciBsb25nIHRlcm0KcGlubmVkLgoKaHR0cHM6Ly9sb3JlLmtl
cm5lbC5vcmcvbGttbC8yMDIwMTEyMzA5MDEyOS5HRDI3NDg4QGRoY3AyMi5zdXNlLmN6LwoKImd1
cCBhbHJlYWR5IHRyaWVzIHRvIGRlYWwgd2l0aCBsb25nIHRlcm0gcGlucyBvbiBDTUEgcmVnaW9u
cyBhbmQgbWlncmF0ZQp0byBhIG5vbiBDTUEgcmVnaW9uLiBIYXZlIGEgbG9vayBhdCBfX2d1cF9s
b25ndGVybV9sb2NrZWQuIgoKV2Ugc2hvdWxkIHJhdGhlciBpZGVudGlmeSB3YXlzIGhvdyB0aGF0
IGlzIHN0aWxsIHBvc3NpYmxlIGFuZCBnZXQgcmlkIG9mCnRoZW0uCgoKTm93LCBzaG9ydC10ZXJt
IHBpbm5pbmdzIGFuZCBQQ1AgYXJlIG90aGVyIGlzc3VlcyB3aGVyZQphbGxvY19jb250aWdfcmFu
Z2UoKSBjb3VsZCBiZSBpbXByb3ZlZCAoZS5nLiwgaW4gY29udHJhc3QgdG8gYSBGQVNUCm1vZGUs
IGEgSEFSRCBtb2RlIHdoaWNoIHRlbXBvcmFyaWx5IGRpc2FibGVzIHRoZSBQQ1AsIC4uLikuCgo+
IHNpemUgKGUuZy4sIDJNKSB0aGFuIHJlcXVlc3RlZCBvcmRlcig2NEspIHJlcGVhdGVkbHkgdW50
aWwgZHJpdmVyCj4gY291bGQgZ2F0aGVyIG5lY2Vzc2FyeSBhbW91bnQgb2YgbWVtb3J5LiBCYXNp
Y2FsbHksIHRoaXMgYXBwcm9hY2gKPiBtYWtlcyB0aGUgYWxsb2NhdGlvbiB2ZXJ5IHNsb3cgZHVl
IHRvIGNtYV9hbGxvYydzIGZ1bmN0aW9uCj4gc2xvd25lc3MgYW5kIGl0IGNvdWxkIGJlIHN0dWNr
IG9uIG9uZSBvZiB0aGUgcGFnZWJsb2NrcyBpZiBpdAo+IGVuY291bnRlcnMgdW5taWdyYXRhYmxl
IHBhZ2UuCj4gCj4gVG8gc29sdmUgdGhlIGlzc3VlLCB0aGlzIHBhdGNoIGludHJvZHVjZXMgY21h
X2FsbG9jX2J1bGsuCj4gCj4gCWludCBjbWFfYWxsb2NfYnVsayhzdHJ1Y3QgY21hICpjbWEsIHVu
c2lnbmVkIGludCBhbGlnbiwKPiAJCWJvb2wgZmFzdCwgdW5zaWduZWQgaW50IG9yZGVyLCBzaXpl
X3QgbnJfcmVxdWVzdHMsCj4gCQlzdHJ1Y3QgcGFnZSAqKnBhZ2VfYXJyYXksIHNpemVfdCAqbnJf
YWxsb2NhdGVkKTsKPiAKPiBNb3N0IHBhcmFtZXRlcnMgYXJlIHNhbWUgd2l0aCBjbWFfYWxsb2Mg
YnV0IGl0IGFkZGl0aW9uYWxseSBwYXNzZXMKPiB2ZWN0b3IgYXJyYXkgdG8gc3RvcmUgYWxsb2Nh
dGVkIG1lbW9yeS4gV2hhdCdzIGRpZmZlcmVudCB3aXRoIGNtYV9hbGxvYwo+IGlzIGl0IHdpbGwg
c2tpcCBwYWdlYmxvY2tzIHdpdGhvdXQgd2FpdGluZy9zdG9wcGluZyBpZiBpdCBoYXMgdW5tb3Zh
YmxlCj4gcGFnZSBzbyB0aGF0IEFQSSBjb250aW51ZXMgdG8gc2NhbiBvdGhlciBwYWdlYmxvY2tz
IHRvIGZpbmQgcmVxdWVzdGVkCj4gb3JkZXIgcGFnZS4KPiAKPiBjbWFfYWxsb2NfYnVsayBpcyBi
ZXN0IGVmZm9ydCBhcHByb2FjaCBpbiB0aGF0IGl0IHNraXBzIHNvbWUgcGFnZWJsb2Nrcwo+IGlm
IHRoZXkgaGF2ZSB1bm1vdmFibGUgcGFnZXMgdW5saWtlIGNtYV9hbGxvYy4gSXQgZG9lc24ndCBu
ZWVkIHRvIGJlCj4gcGVyZmVjdCBmcm9tIHRoZSBiZWdpbm5pbmcgYXQgdGhlIGNvc3Qgb2YgcGVy
Zm9ybWFuY2UuIFRodXMsIHRoZSBBUEkKPiB0YWtlcyAiYm9vbCBmYXN0IHBhcmFtZXRlciIgd2hp
Y2ggaXMgcHJvcGFnYXRlZCBpbnRvIGFsbG9jX2NvbnRpZ19yYW5nZSB0bwo+IGF2b2lkIHNpZ25p
ZmljYXQgb3ZlcmhlYWQgZnVuY3Rpb25zIHRvIGlucmVjYXNlIENNQSBhbGxvY2F0aW9uIHN1Y2Nl
c3MKPiByYXRpbyhlLmcuLCBtaWdyYXRpb24gcmV0cmlhbCwgUENQLCBMUlUgZHJhaW5pbmcgcGVy
IHBhZ2VibG9jaykKPiBhdCB0aGUgY29zdCBvZiBsZXNzIGFsbG9jYXRpb24gc3VjY2VzcyByYXRp
by4gSWYgdGhlIGNhbGxlciBjb3VsZG4ndAo+IGFsbG9jYXRlIGVub3VnaCwgdGhleSBjb3VsZCBj
YWxsIGl0IHdpdGggImZhbHNlIiB0byBpbmNyZWFzZSBzdWNjZXNzIHJhdGlvCj4gaWYgdGhleSBh
cmUgb2theSB0byBleHBlbnNlIHRoZSBvdmVyaGVhZCBmb3IgdGhlIHN1Y2Nlc3MgcmF0aW8uCgpK
dXN0IHNvIEkgdW5kZXJzdGFuZCB3aGF0IHRoZSBpZGVhIGlzOgoKYWxsb2NfY29udGlnX3Jhbmdl
KCkgc29tZXRpbWVzIGZhaWxzIG9uIENNQSByZWdpb25zIHdoZW4gdHJ5aW5nIHRvCmFsbG9jYXRl
IGJpZyBjaHVua3MgKGUuZy4sIDMwME0pLiBJbnN0ZWFkIG9mIHRhY2tsaW5nIHRoYXQgaXNzdWUs
IHlvdQpyYXRoZXIgYWxsb2NhdGUgcGxlbnR5IG9mIHNtYWxsIGNodW5rcywgYW5kIG1ha2UgdGhl
c2Ugc21hbGwgYWxsb2NhdGlvbnMKZmFpbCBmYXN0ZXIvIG1ha2UgdGhlIGFsbG9jYXRpb25zIGxl
c3MgcmVsaWFibGUuIENvcnJlY3Q/CgpJIGRvbid0IHJlYWxseSBoYXZlIGEgc3Ryb25nIG9waW5p
b24gb24gdGhhdC4gR2l2aW5nIHVwIGZhc3QgcmF0aGVyIHRoYW4KdHJ5aW5nIGZvciBsb25nZXIg
c291bmRzIGxpa2UgYSB1c2VmdWwgdGhpbmcgdG8gaGF2ZSAtIGJ1dCBJIHdvbmRlciBpZgppdCdz
IHN0cmljdGx5IG5lY2Vzc2FyeSBmb3IgdGhlIHVzZSBjYXNlIHlvdSBkZXNjcmliZS4KCkknZCBs
aWtlIHRvIGhlYXIgTWljaGFscyBvcGluaW9uIG9uIHRoYXQuCgo+IAo+IFNpZ25lZC1vZmYtYnk6
IE1pbmNoYW4gS2ltIDxtaW5jaGFuQGtlcm5lbC5vcmc+Cj4gLS0tCj4gIGluY2x1ZGUvbGludXgv
Y21hLmggfCAgIDUgKysKPiAgaW5jbHVkZS9saW51eC9nZnAuaCB8ICAgMiArCj4gIG1tL2NtYS5j
ICAgICAgICAgICAgfCAxMjYgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrLS0KPiAgbW0vcGFnZV9hbGxvYy5jICAgICB8ICAxOSArKysrLS0tCj4gIDQgZmlsZXMgY2hh
bmdlZCwgMTQwIGluc2VydGlvbnMoKyksIDEyIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQg
YS9pbmNsdWRlL2xpbnV4L2NtYS5oIGIvaW5jbHVkZS9saW51eC9jbWEuaAo+IGluZGV4IDIxNzk5
OWM4YTc2Mi4uNzM3NWQzMTMxODA0IDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvbGludXgvY21hLmgK
PiArKysgYi9pbmNsdWRlL2xpbnV4L2NtYS5oCj4gQEAgLTQ2LDYgKzQ2LDExIEBAIGV4dGVybiBp
bnQgY21hX2luaXRfcmVzZXJ2ZWRfbWVtKHBoeXNfYWRkcl90IGJhc2UsIHBoeXNfYWRkcl90IHNp
emUsCj4gIAkJCQkJc3RydWN0IGNtYSAqKnJlc19jbWEpOwo+ICBleHRlcm4gc3RydWN0IHBhZ2Ug
KmNtYV9hbGxvYyhzdHJ1Y3QgY21hICpjbWEsIHNpemVfdCBjb3VudCwgdW5zaWduZWQgaW50IGFs
aWduLAo+ICAJCQkgICAgICBib29sIG5vX3dhcm4pOwo+ICsKPiArZXh0ZXJuIGludCBjbWFfYWxs
b2NfYnVsayhzdHJ1Y3QgY21hICpjbWEsIHVuc2lnbmVkIGludCBhbGlnbiwgYm9vbCBmYXN0LAo+
ICsJCQl1bnNpZ25lZCBpbnQgb3JkZXIsIHNpemVfdCBucl9yZXF1ZXN0cywKPiArCQkJc3RydWN0
IHBhZ2UgKipwYWdlX2FycmF5LCBzaXplX3QgKm5yX2FsbG9jYXRlZCk7Cj4gKwo+ICBleHRlcm4g
Ym9vbCBjbWFfcmVsZWFzZShzdHJ1Y3QgY21hICpjbWEsIGNvbnN0IHN0cnVjdCBwYWdlICpwYWdl
cywgdW5zaWduZWQgaW50IGNvdW50KTsKPiAgCj4gIGV4dGVybiBpbnQgY21hX2Zvcl9lYWNoX2Fy
ZWEoaW50ICgqaXQpKHN0cnVjdCBjbWEgKmNtYSwgdm9pZCAqZGF0YSksIHZvaWQgKmRhdGEpOwo+
IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2dmcC5oIGIvaW5jbHVkZS9saW51eC9nZnAuaAo+
IGluZGV4IGFkNTg3MjY5OTY5Mi4uNzViZmI2NzNkNzViIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUv
bGludXgvZ2ZwLmgKPiArKysgYi9pbmNsdWRlL2xpbnV4L2dmcC5oCj4gQEAgLTYyNyw2ICs2Mjcs
OCBAQCBzdGF0aWMgaW5saW5lIGJvb2wgcG1fc3VzcGVuZGVkX3N0b3JhZ2Uodm9pZCkKPiAgZW51
bSBhbGxvY19jb250aWdfbW9kZSB7Cj4gIAkvKiB0cnkgc2V2ZXJhbCB3YXlzIHRvIGluY3JlYXNl
IHN1Y2Nlc3MgcmF0aW8gb2YgbWVtb3J5IGFsbG9jYXRpb24gKi8KPiAgCUFMTE9DX0NPTlRJR19O
T1JNQUwsCj4gKwkvKiBhdm9pZCBjb3N0bHkgZnVuY3Rpb25zIHRvIG1ha2UgdGhlIGNhbGwgZmFz
dCAqLwo+ICsJQUxMT0NfQ09OVElHX0ZBU1QsCj4gIH07Cj4gIAo+ICAvKiBUaGUgYmVsb3cgZnVu
Y3Rpb25zIG11c3QgYmUgcnVuIG9uIGEgcmFuZ2UgZnJvbSBhIHNpbmdsZSB6b25lLiAqLwo+IGRp
ZmYgLS1naXQgYS9tbS9jbWEuYyBiL21tL2NtYS5jCj4gaW5kZXggODAxMGMxYmEwNGIwLi40NDU5
MDQ1ZmE3MTcgMTAwNjQ0Cj4gLS0tIGEvbW0vY21hLmMKPiArKysgYi9tbS9jbWEuYwo+IEBAIC0z
Miw2ICszMiw3IEBACj4gICNpbmNsdWRlIDxsaW51eC9oaWdobWVtLmg+Cj4gICNpbmNsdWRlIDxs
aW51eC9pby5oPgo+ICAjaW5jbHVkZSA8bGludXgva21lbWxlYWsuaD4KPiArI2luY2x1ZGUgPGxp
bnV4L3N3YXAuaD4KPiAgI2luY2x1ZGUgPHRyYWNlL2V2ZW50cy9jbWEuaD4KPiAgCj4gICNpbmNs
dWRlICJjbWEuaCIKPiBAQCAtMzk3LDYgKzM5OCwxNCBAQCBzdGF0aWMgdm9pZCBjbWFfZGVidWdf
c2hvd19hcmVhcyhzdHJ1Y3QgY21hICpjbWEpCj4gIHN0YXRpYyBpbmxpbmUgdm9pZCBjbWFfZGVi
dWdfc2hvd19hcmVhcyhzdHJ1Y3QgY21hICpjbWEpIHsgfQo+ICAjZW5kaWYKPiAgCj4gK3N0YXRp
YyB2b2lkIHJlc2V0X3BhZ2Vfa2FzYW5fdGFnKHN0cnVjdCBwYWdlICpwYWdlLCBpbnQgY291bnQp
Cj4gK3sKPiArCWludCBpOwo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKQo+ICsJ
CXBhZ2Vfa2FzYW5fdGFnX3Jlc2V0KHBhZ2UgKyBpKTsKPiArfQo+ICsKPiAgLyoqCj4gICAqIGNt
YV9hbGxvYygpIC0gYWxsb2NhdGUgcGFnZXMgZnJvbSBjb250aWd1b3VzIGFyZWEKPiAgICogQGNt
YTogICBDb250aWd1b3VzIG1lbW9yeSByZWdpb24gZm9yIHdoaWNoIHRoZSBhbGxvY2F0aW9uIGlz
IHBlcmZvcm1lZC4KPiBAQCAtNDE0LDcgKzQyMyw2IEBAIHN0cnVjdCBwYWdlICpjbWFfYWxsb2Mo
c3RydWN0IGNtYSAqY21hLCBzaXplX3QgY291bnQsIHVuc2lnbmVkIGludCBhbGlnbiwKPiAgCXVu
c2lnbmVkIGxvbmcgcGZuID0gLTE7Cj4gIAl1bnNpZ25lZCBsb25nIHN0YXJ0ID0gMDsKPiAgCXVu
c2lnbmVkIGxvbmcgYml0bWFwX21heG5vLCBiaXRtYXBfbm8sIGJpdG1hcF9jb3VudDsKPiAtCXNp
emVfdCBpOwo+ICAJc3RydWN0IHBhZ2UgKnBhZ2UgPSBOVUxMOwo+ICAJaW50IHJldCA9IC1FTk9N
RU07Cj4gIAo+IEBAIC00NzksMTAgKzQ4Nyw4IEBAIHN0cnVjdCBwYWdlICpjbWFfYWxsb2Moc3Ry
dWN0IGNtYSAqY21hLCBzaXplX3QgY291bnQsIHVuc2lnbmVkIGludCBhbGlnbiwKPiAgCSAqIGJs
b2NrcyBiZWluZyBtYXJrZWQgd2l0aCBkaWZmZXJlbnQgdGFncy4gUmVzZXQgdGhlIHRhZ3MgdG8g
aWdub3JlCj4gIAkgKiB0aG9zZSBwYWdlIGJsb2Nrcy4KPiAgCSAqLwo+IC0JaWYgKHBhZ2UpIHsK
PiAtCQlmb3IgKGkgPSAwOyBpIDwgY291bnQ7IGkrKykKPiAtCQkJcGFnZV9rYXNhbl90YWdfcmVz
ZXQocGFnZSArIGkpOwo+IC0JfQo+ICsJaWYgKHBhZ2UpCj4gKwkJcmVzZXRfcGFnZV9rYXNhbl90
YWcocGFnZSwgY291bnQpOwo+ICAKPiAgCWlmIChyZXQgJiYgIW5vX3dhcm4pIHsKPiAgCQlwcl9l
cnIoIiVzOiBhbGxvYyBmYWlsZWQsIHJlcS1zaXplOiAlenUgcGFnZXMsIHJldDogJWRcbiIsCj4g
QEAgLTQ5NCw2ICs1MDAsMTE2IEBAIHN0cnVjdCBwYWdlICpjbWFfYWxsb2Moc3RydWN0IGNtYSAq
Y21hLCBzaXplX3QgY291bnQsIHVuc2lnbmVkIGludCBhbGlnbiwKPiAgCXJldHVybiBwYWdlOwo+
ICB9Cj4gIAo+ICsvKgo+ICsgKiBjbWFfYWxsb2NfYnVsaygpIC0gYWxsb2NhdGUgaGlnaCBvcmRl
ciBidWxrIHBhZ2VzIGZyb20gY29udGlndW91cyBhcmVhIHdpdGgKPiArICogCQliZXN0IGVmZm9y
dC4gSXQgd2lsbCB1c3VhbGx5IGJlIHVzZWQgZm9yIHByaXZhdGUgQGNtYQo+ICsgKgo+ICsgKiBA
Y21hOgljb250aWd1b3VzIG1lbW9yeSByZWdpb24gZm9yIHdoaWNoIHRoZSBhbGxvY2F0aW9uIGlz
IHBlcmZvcm1lZC4KPiArICogQGFsaWduOglyZXF1ZXN0ZWQgYWxpZ25tZW50IG9mIHBhZ2VzIChp
biBQQUdFX1NJWkUgb3JkZXIpLgo+ICsgKiBAZmFzdDoJd2lsbCBza2lwIGNvc3RseSBvcGVhcnRp
b25zIGlmIGl0J3MgdHJ1ZS4KPiArICogQG9yZGVyOglyZXF1ZXN0ZWQgcGFnZSBvcmRlcgo+ICsg
KiBAbnJfcmVxdWVzdHM6IHRoZSBudW1iZXIgb2YgMl5vcmRlciBwYWdlcyByZXF1ZXN0ZWQgdG8g
YmUgYWxsb2NhdGVkIGFzIGlucHV0LAo+ICsgKiBAcGFnZV9hcnJheToJcGFnZV9hcnJheSBwb2lu
dGVyIHRvIHN0b3JlIGFsbG9jYXRlZCBwYWdlcyAobXVzdCBoYXZlIHNwYWNlCj4gKyAqCQlmb3Ig
YXQgbGVhc3QgbnJfcmVxdWVzdHMpCj4gKyAqIEBucl9hbGxvY2F0ZWQ6IHRoZSBudW1iZXIgb2Yg
Ml5vcmRlciBwYWdlcyBhbGxvY2F0ZWQgYXMgb3V0cHV0Cj4gKyAqCj4gKyAqIFRoaXMgZnVuY3Rp
b24gdHJpZXMgdG8gYWxsb2NhdGUgdXAgdG8gQG5yX3JlcXVlc3RzIEBvcmRlciBwYWdlcyBvbiBz
cGVjaWZpYwo+ICsgKiBjb250aWd1b3VzIG1lbW9yeSBhcmVhLiBJZiBAZmFzdCBoYXMgdHJ1ZSwg
aXQgd2lsbCBhdm9pZCBjb3N0bHkgZnVuY3Rpb25zCj4gKyAqIHRvIGluY3JlYXNlIGFsbG9jYXRp
b24gc3VjY2VzcyByYXRpbyBzbyBpdCB3aWxsIGJlIGZhc3RlciBidXQgbWlnaHQgcmV0dXJuCj4g
KyAqIGxlc3MgdGhhbiByZXF1ZXN0ZWQgbnVtYmVyIG9mIHBhZ2VzLiBVc2VyIGNvdWxkIHJldHJ5
IGl0IHdpdGggdHJ1ZSBpZiBpdCBpcwo+ICsgKiBuZWVkZWQuCj4gKyAqCj4gKyAqIFJldHVybjog
aXQgd2lsbCByZXR1cm4gMCBvbmx5IGlmIGFsbCBwYWdlcyByZXF1ZXN0ZWQgYnkgQG5yX3JlcXVl
c3RzZWQgYXJlCj4gKyAqIGFsbG9jYXRlZC4gT3RoZXJ3aXNlLCBpdCByZXR1cm5zIG5lZ2F0aXZl
IGVycm9yIGNvZGUuCj4gKyAqCj4gKyAqIE5vdGU6IFJlZ2FyZGxlc3Mgb2Ygc3VjY2Vzcy9mYWls
dXJlLCB1c2VyIHNob3VsZCBjaGVjayBAbnJfYWxsb2NhdGVkIHRvIHNlZQo+ICsgKiBob3cgbWFu
eSBAb3JkZXIgcGFnZXMgYXJlIGFsbG9jYXRlZCBhbmQgZnJlZSB0aG9zZSBwYWdlcyB3aGVuIHRo
ZXkgYXJlIG5vdAo+ICsgKiBuZWVkZWQuCj4gKyAqLwo+ICtpbnQgY21hX2FsbG9jX2J1bGsoc3Ry
dWN0IGNtYSAqY21hLCB1bnNpZ25lZCBpbnQgYWxpZ24sIGJvb2wgZmFzdCwKPiArCQkJdW5zaWdu
ZWQgaW50IG9yZGVyLCBzaXplX3QgbnJfcmVxdWVzdHMsCj4gKwkJCXN0cnVjdCBwYWdlICoqcGFn
ZV9hcnJheSwgc2l6ZV90ICpucl9hbGxvY2F0ZWQpCj4gK3sKPiArCWludCByZXQgPSAwOwo+ICsJ
c2l6ZV90IGkgPSAwOwo+ICsJdW5zaWduZWQgbG9uZyBucl9wYWdlc19uZWVkZWQgPSBucl9yZXF1
ZXN0cyAqICgxIDw8IG9yZGVyKTsKPiArCXVuc2lnbmVkIGxvbmcgbnJfY2h1bmtfcGFnZXMsIG5y
X3BhZ2VzOwo+ICsJdW5zaWduZWQgbG9uZyBtYXNrLCBvZmZzZXQ7Cj4gKwl1bnNpZ25lZCBsb25n
IHBmbiA9IC0xOwo+ICsJdW5zaWduZWQgbG9uZyBzdGFydCA9IDA7Cj4gKwl1bnNpZ25lZCBsb25n
IGJpdG1hcF9tYXhubywgYml0bWFwX25vLCBiaXRtYXBfY291bnQ7Cj4gKwlzdHJ1Y3QgcGFnZSAq
cGFnZSA9IE5VTEw7Cj4gKwllbnVtIGFsbG9jX2NvbnRpZ19tb2RlIG1vZGUgPSBmYXN0ID8gQUxM
T0NfQ09OVElHX0ZBU1QgOgo+ICsJCQkJCQlBTExPQ19DT05USUdfTk9STUFMOwo+ICsJKm5yX2Fs
bG9jYXRlZCA9IDA7Cj4gKwlpZiAoIWNtYSB8fCAhY21hLT5jb3VudCB8fCAhY21hLT5iaXRtYXAg
fHwgIXBhZ2VfYXJyYXkpCj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICsJaWYgKCFucl9wYWdl
c19uZWVkZWQpCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJbnJfY2h1bmtfcGFnZXMgPSAxIDw8IG1h
eF90KHVuc2lnbmVkIGludCwgb3JkZXIsIHBhZ2VibG9ja19vcmRlcik7Cj4gKwo+ICsJbWFzayA9
IGNtYV9iaXRtYXBfYWxpZ25lZF9tYXNrKGNtYSwgYWxpZ24pOwo+ICsJb2Zmc2V0ID0gY21hX2Jp
dG1hcF9hbGlnbmVkX29mZnNldChjbWEsIGFsaWduKTsKPiArCWJpdG1hcF9tYXhubyA9IGNtYV9i
aXRtYXBfbWF4bm8oY21hKTsKPiArCj4gKwlscnVfYWRkX2RyYWluX2FsbCgpOwo+ICsJZHJhaW5f
YWxsX3BhZ2VzKE5VTEwpOwo+ICsKPiArCXdoaWxlIChucl9wYWdlc19uZWVkZWQpIHsKPiArCQlu
cl9wYWdlcyA9IG1pbihucl9jaHVua19wYWdlcywgbnJfcGFnZXNfbmVlZGVkKTsKPiArCj4gKwkJ
Yml0bWFwX2NvdW50ID0gY21hX2JpdG1hcF9wYWdlc190b19iaXRzKGNtYSwgbnJfcGFnZXMpOwo+
ICsJCW11dGV4X2xvY2soJmNtYS0+bG9jayk7Cj4gKwkJYml0bWFwX25vID0gYml0bWFwX2ZpbmRf
bmV4dF96ZXJvX2FyZWFfb2ZmKGNtYS0+Yml0bWFwLAo+ICsJCQkJYml0bWFwX21heG5vLCBzdGFy
dCwgYml0bWFwX2NvdW50LCBtYXNrLAo+ICsJCQkJb2Zmc2V0KTsKPiArCQlpZiAoYml0bWFwX25v
ID49IGJpdG1hcF9tYXhubykgewo+ICsJCQltdXRleF91bmxvY2soJmNtYS0+bG9jayk7Cj4gKwkJ
CWJyZWFrOwo+ICsJCX0KPiArCQliaXRtYXBfc2V0KGNtYS0+Yml0bWFwLCBiaXRtYXBfbm8sIGJp
dG1hcF9jb3VudCk7Cj4gKwkJLyoKPiArCQkgKiBJdCdzIHNhZmUgdG8gZHJvcCB0aGUgbG9jayBo
ZXJlLiBJZiB0aGUgbWlncmF0aW9uIGZhaWxzCj4gKwkJICogY21hX2NsZWFyX2JpdG1hcCB3aWxs
IHRha2UgdGhlIGxvY2sgYWdhaW4gYW5kIHVubWFyayBpdC4KPiArCQkgKi8KPiArCQltdXRleF91
bmxvY2soJmNtYS0+bG9jayk7Cj4gKwo+ICsJCXBmbiA9IGNtYS0+YmFzZV9wZm4gKyAoYml0bWFw
X25vIDw8IGNtYS0+b3JkZXJfcGVyX2JpdCk7Cj4gKwkJcmV0ID0gYWxsb2NfY29udGlnX3Jhbmdl
KHBmbiwgcGZuICsgbnJfcGFnZXMsIE1JR1JBVEVfQ01BLAo+ICsJCQkJCQlHRlBfS0VSTkVMfF9f
R0ZQX05PV0FSTiwgbW9kZSk7Cj4gKwkJaWYgKHJldCkgewo+ICsJCQljbWFfY2xlYXJfYml0bWFw
KGNtYSwgcGZuLCBucl9wYWdlcyk7Cj4gKwkJCWlmIChyZXQgIT0gLUVCVVNZKQo+ICsJCQkJYnJl
YWs7Cj4gKwo+ICsJCQkvKiBjb250aW51ZSB0byBzZWFyY2ggbmV4dCBibG9jayAqLwo+ICsJCQlz
dGFydCA9IChwZm4gKyBucl9wYWdlcyAtIGNtYS0+YmFzZV9wZm4pID4+Cj4gKwkJCQkJCWNtYS0+
b3JkZXJfcGVyX2JpdDsKPiArCQkJY29udGludWU7Cj4gKwkJfQo+ICsKPiArCQlwYWdlID0gcGZu
X3RvX3BhZ2UocGZuKTsKPiArCQl3aGlsZSAobnJfcGFnZXMpIHsKPiArCQkJcGFnZV9hcnJheVtp
KytdID0gcGFnZTsKPiArCQkJcmVzZXRfcGFnZV9rYXNhbl90YWcocGFnZSwgMSA8PCBvcmRlcik7
Cj4gKwkJCXBhZ2UgKz0gMSA8PCBvcmRlcjsKPiArCQkJbnJfcGFnZXMgLT0gMSA8PCBvcmRlcjsK
PiArCQkJbnJfcGFnZXNfbmVlZGVkIC09IDEgPDwgb3JkZXI7Cj4gKwkJfQo+ICsKPiArCQlzdGFy
dCA9IGJpdG1hcF9ubyArIGJpdG1hcF9jb3VudDsKPiArCX0KPiArCj4gKwkqbnJfYWxsb2NhdGVk
ID0gaTsKPiArCj4gKwlpZiAoIXJldCAmJiBucl9wYWdlc19uZWVkZWQpCj4gKwkJcmV0ID0gLUVC
VVNZOwo+ICsKPiArCXJldHVybiByZXQ7Cj4gK30KPiArCj4gIC8qKgo+ICAgKiBjbWFfcmVsZWFz
ZSgpIC0gcmVsZWFzZSBhbGxvY2F0ZWQgcGFnZXMKPiAgICogQGNtYTogICBDb250aWd1b3VzIG1l
bW9yeSByZWdpb24gZm9yIHdoaWNoIHRoZSBhbGxvY2F0aW9uIGlzIHBlcmZvcm1lZC4KPiBkaWZm
IC0tZ2l0IGEvbW0vcGFnZV9hbGxvYy5jIGIvbW0vcGFnZV9hbGxvYy5jCj4gaW5kZXggYWRmYmZk
OTVmYmMzLi4yYTE3OTlmZjE0ZmMgMTAwNjQ0Cj4gLS0tIGEvbW0vcGFnZV9hbGxvYy5jCj4gKysr
IGIvbW0vcGFnZV9hbGxvYy5jCj4gQEAgLTg0NjMsNyArODQ2Myw4IEBAIHN0YXRpYyB1bnNpZ25l
ZCBsb25nIHBmbl9tYXhfYWxpZ25fdXAodW5zaWduZWQgbG9uZyBwZm4pCj4gIAo+ICAvKiBbc3Rh
cnQsIGVuZCkgbXVzdCBiZWxvbmcgdG8gYSBzaW5nbGUgem9uZS4gKi8KPiAgc3RhdGljIGludCBf
X2FsbG9jX2NvbnRpZ19taWdyYXRlX3JhbmdlKHN0cnVjdCBjb21wYWN0X2NvbnRyb2wgKmNjLAo+
IC0JCQkJCXVuc2lnbmVkIGxvbmcgc3RhcnQsIHVuc2lnbmVkIGxvbmcgZW5kKQo+ICsJCQkJCXVu
c2lnbmVkIGxvbmcgc3RhcnQsIHVuc2lnbmVkIGxvbmcgZW5kLAo+ICsJCQkJCXVuc2lnbmVkIGlu
dCBtYXhfdHJpZXMpCj4gIHsKPiAgCS8qIFRoaXMgZnVuY3Rpb24gaXMgYmFzZWQgb24gY29tcGFj
dF96b25lKCkgZnJvbSBjb21wYWN0aW9uLmMuICovCj4gIAl1bnNpZ25lZCBpbnQgbnJfcmVjbGFp
bWVkOwo+IEBAIC04NDkxLDcgKzg0OTIsNyBAQCBzdGF0aWMgaW50IF9fYWxsb2NfY29udGlnX21p
Z3JhdGVfcmFuZ2Uoc3RydWN0IGNvbXBhY3RfY29udHJvbCAqY2MsCj4gIAkJCQlicmVhazsKPiAg
CQkJfQo+ICAJCQl0cmllcyA9IDA7Cj4gLQkJfSBlbHNlIGlmICgrK3RyaWVzID09IDUpIHsKPiAr
CQl9IGVsc2UgaWYgKCsrdHJpZXMgPT0gbWF4X3RyaWVzKSB7Cj4gIAkJCXJldCA9IHJldCA8IDAg
PyByZXQgOiAtRUJVU1k7Cj4gIAkJCWJyZWFrOwo+ICAJCX0KPiBAQCAtODU1Myw2ICs4NTU0LDcg
QEAgaW50IGFsbG9jX2NvbnRpZ19yYW5nZSh1bnNpZ25lZCBsb25nIHN0YXJ0LCB1bnNpZ25lZCBs
b25nIGVuZCwKPiAgCXVuc2lnbmVkIGxvbmcgb3V0ZXJfc3RhcnQsIG91dGVyX2VuZDsKPiAgCXVu
c2lnbmVkIGludCBvcmRlcjsKPiAgCWludCByZXQgPSAwOwo+ICsJYm9vbCBmYXN0X21vZGUgPSBt
b2RlID09IEFMTE9DX0NPTlRJR19GQVNUOwo+ICAKPiAgCXN0cnVjdCBjb21wYWN0X2NvbnRyb2wg
Y2MgPSB7Cj4gIAkJLm5yX21pZ3JhdGVwYWdlcyA9IDAsCj4gQEAgLTg1OTUsNyArODU5Nyw4IEBA
IGludCBhbGxvY19jb250aWdfcmFuZ2UodW5zaWduZWQgbG9uZyBzdGFydCwgdW5zaWduZWQgbG9u
ZyBlbmQsCj4gIAlpZiAocmV0KQo+ICAJCXJldHVybiByZXQ7Cj4gIAo+IC0JZHJhaW5fYWxsX3Bh
Z2VzKGNjLnpvbmUpOwo+ICsJaWYgKCFmYXN0X21vZGUpCj4gKwkJZHJhaW5fYWxsX3BhZ2VzKGNj
LnpvbmUpOwo+ICAKPiAgCS8qCj4gIAkgKiBJbiBjYXNlIG9mIC1FQlVTWSwgd2UnZCBsaWtlIHRv
IGtub3cgd2hpY2ggcGFnZSBjYXVzZXMgcHJvYmxlbS4KPiBAQCAtODYwNyw3ICs4NjEwLDcgQEAg
aW50IGFsbG9jX2NvbnRpZ19yYW5nZSh1bnNpZ25lZCBsb25nIHN0YXJ0LCB1bnNpZ25lZCBsb25n
IGVuZCwKPiAgCSAqIGFsbG9jYXRlZC4gIFNvLCBpZiB3ZSBmYWxsIHRocm91Z2ggYmUgc3VyZSB0
byBjbGVhciByZXQgc28gdGhhdAo+ICAJICogLUVCVVNZIGlzIG5vdCBhY2NpZGVudGFsbHkgdXNl
ZCBvciByZXR1cm5lZCB0byBjYWxsZXIuCj4gIAkgKi8KPiAtCXJldCA9IF9fYWxsb2NfY29udGln
X21pZ3JhdGVfcmFuZ2UoJmNjLCBzdGFydCwgZW5kKTsKPiArCXJldCA9IF9fYWxsb2NfY29udGln
X21pZ3JhdGVfcmFuZ2UoJmNjLCBzdGFydCwgZW5kLCBmYXN0X21vZGUgPyAxIDogNSk7Cj4gIAlp
ZiAocmV0ICYmIHJldCAhPSAtRUJVU1kpCj4gIAkJZ290byBkb25lOwo+ICAJcmV0ID0wOwo+IEBA
IC04NjI5LDcgKzg2MzIsOCBAQCBpbnQgYWxsb2NfY29udGlnX3JhbmdlKHVuc2lnbmVkIGxvbmcg
c3RhcnQsIHVuc2lnbmVkIGxvbmcgZW5kLAo+ICAJICogaXNvbGF0ZWQgdGh1cyB0aGV5IHdvbid0
IGdldCByZW1vdmVkIGZyb20gYnVkZHkuCj4gIAkgKi8KPiAgCj4gLQlscnVfYWRkX2RyYWluX2Fs
bCgpOwo+ICsJaWYgKCFmYXN0X21vZGUpCj4gKwkJbHJ1X2FkZF9kcmFpbl9hbGwoKTsKPiAgCj4g
IAlvcmRlciA9IDA7Cj4gIAlvdXRlcl9zdGFydCA9IHN0YXJ0Owo+IEBAIC04NjU2LDggKzg2NjAs
OSBAQCBpbnQgYWxsb2NfY29udGlnX3JhbmdlKHVuc2lnbmVkIGxvbmcgc3RhcnQsIHVuc2lnbmVk
IGxvbmcgZW5kLAo+ICAKPiAgCS8qIE1ha2Ugc3VyZSB0aGUgcmFuZ2UgaXMgcmVhbGx5IGlzb2xh
dGVkLiAqLwo+ICAJaWYgKHRlc3RfcGFnZXNfaXNvbGF0ZWQob3V0ZXJfc3RhcnQsIGVuZCwgMCkp
IHsKPiAtCQlwcl9pbmZvX3JhdGVsaW1pdGVkKCIlczogWyVseCwgJWx4KSBQRk5zIGJ1c3lcbiIs
Cj4gLQkJCV9fZnVuY19fLCBvdXRlcl9zdGFydCwgZW5kKTsKPiArCQlpZiAoIWZhc3RfbW9kZSkK
PiArCQkJcHJfaW5mb19yYXRlbGltaXRlZCgiJXM6IFslbHgsICVseCkgUEZOcyBidXN5XG4iLAo+
ICsJCQkJX19mdW5jX18sIG91dGVyX3N0YXJ0LCBlbmQpOwo+ICAJCXJldCA9IC1FQlVTWTsKPiAg
CQlnb3RvIGRvbmU7Cj4gIAl9Cj4gCgoKLS0gClRoYW5rcywKCkRhdmlkIC8gZGhpbGRlbmIKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkxpbmFyby1tbS1z
aWcgbWFpbGluZyBsaXN0CkxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9yZwpodHRwczovL2xp
c3RzLmxpbmFyby5vcmcvbWFpbG1hbi9saXN0aW5mby9saW5hcm8tbW0tc2lnCg==
