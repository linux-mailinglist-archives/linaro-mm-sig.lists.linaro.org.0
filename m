Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id D89A44F9224
	for <lists+linaro-mm-sig@lfdr.de>; Fri,  8 Apr 2022 11:39:33 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 0C052401BF
	for <lists+linaro-mm-sig@lfdr.de>; Fri,  8 Apr 2022 09:39:33 +0000 (UTC)
Received: from mail-ej1-f52.google.com (mail-ej1-f52.google.com [209.85.218.52])
	by lists.linaro.org (Postfix) with ESMTPS id 3E6AC401BF
	for <linaro-mm-sig@lists.linaro.org>; Fri,  8 Apr 2022 09:39:29 +0000 (UTC)
Received: by mail-ej1-f52.google.com with SMTP id bq8so16126661ejb.10
        for <linaro-mm-sig@lists.linaro.org>; Fri, 08 Apr 2022 02:39:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20210112;
        h=message-id:date:mime-version:user-agent:subject:content-language:to
         :cc:references:from:in-reply-to:content-transfer-encoding;
        bh=tsGzAIi74QtByGW709COJjAShCzflE3HJdR1Mr3sX0Y=;
        b=GvYjd/0WzRbp4jlLSW0Oue0vvp6pztK3JnRvcvpaa+JeJ0G7eXw5Qn9gfvXbkWRhvu
         5ggxD0yvnVdpYMum3zgjOVfSf3cbvPf1DxaJiIj6LqophOm0r1ZG574oHuf/wwDafkkx
         L5EQGj5pQgJEFXPUGoe8GbeCdcjjP5x0brxcv1XjF6jdfUd1kSh6L3A2nHl7WMlQNROU
         A/YVpad2JgwsTbToelhyxwlWBs2imAdXhxzMvR4NunqAvwRnNN0wr7lSXbgKkEUJsoPa
         izuIg7iCyqpau+xjCc44X/5MG734YUdbKfw61vROonHLRLC7PSo2DONtqMNTNgfI3Lnv
         mfYQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=x-gm-message-state:message-id:date:mime-version:user-agent:subject
         :content-language:to:cc:references:from:in-reply-to
         :content-transfer-encoding;
        bh=tsGzAIi74QtByGW709COJjAShCzflE3HJdR1Mr3sX0Y=;
        b=mvSKA5DFmZ44MGxhtFgragRzDccKf66o1dOEpZKEa8UZPKfUcI7FSPkGrnGuZruL9Q
         rswtx2z/EbSYTklDDrBPAIhmvNvdzvuCf56pRE7/R6oAN93JDQQCCFvSQPxhsROyfq7c
         HxVyLp9gFDcWt93jEXFQ7LnM0MJ8BbO8luj00tnaczYzlrvDsphjdLhwnVgG6WD8M+MT
         8fzGVghCIiVn+6VV2nuw0svr9XUX/nif4nzbE23uvIF3EpE1+CVc307b7BGmRd3uyJD3
         VVQ5BU9TdlBl113Bj2XL/bJWqlfvxSaENeRMhzYU+R8qs5VGdAGqLFvMeHE3aiuIhkSl
         9dzA==
X-Gm-Message-State: AOAM533d2DPDAp7XmhhJJ7rNyOMkfrUDwLymwuRLNzeClbRqjQ93Xl+v
	+ozh/ZnBY98gFNSL+99YeNk=
X-Google-Smtp-Source: ABdhPJz7RH7xBJ+qWnA5hWmL+S03P9dlzHJsu8iIVtIR2lc3djaPixzhg4BhL5dHJKR9tFgBGWzW4Q==
X-Received: by 2002:a17:907:1c16:b0:6d7:622b:efea with SMTP id nc22-20020a1709071c1600b006d7622befeamr17293005ejc.110.1649410768228;
        Fri, 08 Apr 2022 02:39:28 -0700 (PDT)
Received: from ?IPV6:2a02:908:1252:fb60:114:5e2d:4d2d:2c8b? ([2a02:908:1252:fb60:114:5e2d:4d2d:2c8b])
        by smtp.gmail.com with ESMTPSA id a1-20020a1709063e8100b006ce06ed8aa7sm8564408ejj.142.2022.04.08.02.39.27
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Fri, 08 Apr 2022 02:39:27 -0700 (PDT)
Message-ID: <3b9a361a-543c-f6e0-7f12-260f90de9c9e@gmail.com>
Date: Fri, 8 Apr 2022 11:39:26 +0200
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:91.0) Gecko/20100101
 Thunderbird/91.7.0
Content-Language: en-US
To: Daniel Vetter <daniel.vetter@ffwll.ch>,
 =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>
References: <20220407085946.744568-1-christian.koenig@amd.com>
 <20220407085946.744568-13-christian.koenig@amd.com>
 <87y20ghrmy.fsf@intel.com> <f6f56ad0-4a5b-69b7-500d-79663f690f13@amd.com>
 <CAKMK7uEYbNrNZAx1k_D7u01=2-d3chResyBo9NFzG9BPq84LpA@mail.gmail.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
In-Reply-To: <CAKMK7uEYbNrNZAx1k_D7u01=2-d3chResyBo9NFzG9BPq84LpA@mail.gmail.com>
Message-ID-Hash: GBQH4VNIYSQFU6RN4JNDOSHEREV5DDZJ
X-Message-ID-Hash: GBQH4VNIYSQFU6RN4JNDOSHEREV5DDZJ
X-MailFrom: ckoenig.leichtzumerken@gmail.com
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: Jani Nikula <jani.nikula@linux.intel.com>, dri-devel@lists.freedesktop.org, linux-media@vger.kernel.org, linaro-mm-sig@lists.linaro.org, intel-gfx@lists.freedesktop.org, Joonas Lahtinen <joonas.lahtinen@linux.intel.com>, "Ursulin, Tvrtko" <tvrtko.ursulin@intel.com>, Rodrigo Vivi <rodrigo.vivi@intel.com>
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Re: [PATCH 12/15] drm/i915: drop bo->moving dependency
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/GBQH4VNIYSQFU6RN4JNDOSHEREV5DDZJ/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"; format="flowed"
Content-Transfer-Encoding: base64

QW0gMDguMDQuMjIgdW0gMTE6MzMgc2NocmllYiBEYW5pZWwgVmV0dGVyOg0KPiBPbiBGcmksIDgg
QXByIDIwMjIgYXQgMTE6MjcsIENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1k
LmNvbT4gd3JvdGU6DQo+PiBBbSAwOC4wNC4yMiB1bSAxMTowNSBzY2hyaWViIEphbmkgTmlrdWxh
Og0KPj4+IE9uIFRodSwgMDcgQXByIDIwMjIsICJDaHJpc3RpYW4gS8O2bmlnIiA8Y2tvZW5pZy5s
ZWljaHR6dW1lcmtlbkBnbWFpbC5jb20+IHdyb3RlOg0KPj4+PiBUaGF0IHNob3VsZCBub3cgYmUg
aGFuZGxlZCBieSB0aGUgY29tbW9uIGRtYV9yZXN2IGZyYW1ld29yay4NCj4+Pj4NCj4+Pj4gU2ln
bmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPg0K
Pj4+PiBSZXZpZXdlZC1ieTogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBmZndsbC5jaD4N
Cj4+Pj4gQ2M6IGludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj4+PiBTbywgd2hlcmUg
YXJlIHRoZSBpOTE1IG1haW50YWluZXIgYWNrcyBmb3IgbWVyZ2luZyB0aGlzIChhbmQgdGhlIG90
aGVyDQo+Pj4gcGF0Y2hlcyBpbiB0aGUgc2VyaWVzIHRvdWNoaW5nIGk5MTUpIHZpYSBkcm0tbWlz
Yy1uZXh0Pw0KPj4+DQo+Pj4gRGFuaWVsJ3MgUmV2aWV3ZWQtYnkgaXMgbm90IGFuIGFjayB0byBt
ZXJnZSBvdXRzaWRlIGRybS1pbnRlbC1uZXh0Lg0KPj4gSSBoYWQgdGhlIGltcHJlc3Npb24gdGhh
dCBpdCB3b3VsZCBiZSBzdWZmaWNpZW50Lg0KPj4NCj4+PiBXZSBkb24ndCBtZXJnZSBpOTE1IHN0
dWZmIHdpdGhvdXQgcGFzc2luZyBDSSByZXN1bHRzLiBBcHBhcmVudGx5IHRoaXMNCj4+PiBvbmUg
ZmFpbGVkIGVub3VnaCBtYWNoaW5lcyB0aGF0IHRoZSBDSSBoYWQgdG8gYmUgc3RvcHBlZCBlbnRp
cmVseS4NCj4+IFRoYXQgd2FzIHVuZm9ydHVuYXRlbHkgcGFydGlhbGx5IGV4cGVjdGVkIGFuZCBw
b2ludGVkIG91dCBieSBNYXR0aGV3IGFuZA0KPj4gRGFuaWVsIGJlZm9yZSB0aGUgcHVzaC4NCj4g
VWggSSBkaWRuJ3QgcmVhbGl6ZSB0aGF0IENJIG5ldmVyIHRlc3RlZCB0aGlzLiBVc3VhbGx5IHRo
ZSB3YXkgdGhlbiBpcw0KPiB0byByZWJhc2Ugb250byBkcm0tdGlwIGFuZCBmaWd1cmUgb3V0IHRo
ZSBtZXJnZSBzdG9yeS4gRG9pbmcgc3Vic3lzdGVtDQo+IHdpZGUgY2hhbmdlcyB3aGlsZSBub3Qg
b24gbGludXgtbmV4dCBvciBkcm0tdGlwIG9yIGFub3RoZXIgaW50ZWdyYXRpb24NCj4gdHJlZSBp
cyBqdXN0IGZyYXVnaHQgd2l0aCBzdXJwcmlzZXMgZHVlIHRvIGNvbmZsaWN0cy4NCj4NCj4gQWxz
byAiZG9lc24ndCBldmVuIGNvbXBpbGUiIGlzIHJlYWxseSBiZWxvdyB0aGUgYmFyLCBhbmQgbm90
IHRoZSBmaXJzdA0KPiB0aW1lIHRoaXMgaGFwcGVuZWQgYXQgYWxsLiBBbmQgaTkxNSBpc24ndCBy
ZWFsbHkgYW4gb2JzY3VyZSBkcml2ZXINCj4gd2hpY2ggaXMgaGFyZCB0byBjb21waWxlIHRlc3Qg
Oi0pDQoNClllYWgsIEknbSByZWFsbHkgd29uZGVyaW5nIGhvdyB0aGUgYnVpbGQgYnJlYWthZ2Ug
c2xpcHBlZCBhcyB3ZWxsLg0KDQpJJ3ZlIGRvdWJsZSBjaGVja2VkIGl0IG11bHRpcGxlIHRpbWVz
IG5vdy4gTXkgYnVpbGQgc3lzdGVtIHdhcyBjZXJ0YWlubHkgDQpub3QgY29tcGxhaW5pbmcgYWJv
dXQgYW55dGhpbmcsIGJ1dCByaWdodCBhZnRlciB0aGUgcHVzaCBib3RoIGk5MTUsIFZDNCANCmFu
ZCBvbmUgb2YgdGhlIGNvcmUgaGVhZGVyIGNoYW5nZXMgYnJva2UgdGhlIGJ1aWxkIG9uIGRybS10
aXAuDQoNCkdvaW5nIHRvIHRyeSB0byBmaWd1cmUgb3V0IHdoeSB0aGF0IGRpZG4ndCB3b3JrZWQg
YXMgZXhwZWN0ZWQuDQoNClRoYW5rcywNCkNocmlzdGlhbg0KDQo+IC1EYW5pZWwNCj4NCj4+IGk5
MTUgZm9yIHNvbWUgcmVhc29uIGV4dGVuZGVkIHRoZSB1c2FnZSBvZiB0aGUgYm8tPm1vdmluZyBm
ZW5jZSBkZXNwaXRlDQo+PiB0aGUgZmFjdCB3ZSBoYWQgcGF0Y2hlcyBvbiB0aGUgbWFpbGluZyBs
aXN0IHRvIGVudGlyZWx5IHJlbW92ZSB0aGlzIGZlYXR1cmUuDQo+Pg0KPj4gSSBjb3VsZG4ndCBn
ZXQgYW55IHNhbmUgQ0kgcmVzdWx0cyBmb3Igd2Vla3MgYmVjYXVzZSBvZiB0aGlzIGFuZCBhdCBz
b21lDQo+PiBwb2ludCB3ZSBqdXN0IGhhZCB0byBnbyBhaGVhZCBhbmQgZml4IHRoZSBjbGFzaCBp
biBkcm0tdGlwLg0KPj4NCj4+IFNvcnJ5IGZvciBhbnkgaW5jb252ZW5pZW5jZSBjYXVzZSBieSB0
aGF0LiBJIGhvcGVkIHRoYXQgd2UgZml4ZWQgYWxsDQo+PiBjYXNlcywgYnV0IGxvb2tzIGxpa2Ug
d2Ugc3RpbGwgbWlzc2VkIHNvbWUuDQo+Pg0KPj4gUmVnYXJkcywNCj4+IENocmlzdGlhbi4NCj4+
DQo+Pj4NCj4+PiBCUiwNCj4+PiBKYW5pLg0KPj4+DQo+Pj4NCj4+Pj4gLS0tDQo+Pj4+ICAgIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYyAgICB8IDQxICsrKystLS0t
LS0tLS0tLS0tLS0NCj4+Pj4gICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29i
amVjdC5oICAgIHwgIDggKy0tLQ0KPj4+PiAgICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fdHRtX21vdmUuYyAgfCAxNSArLS0tLS0tDQo+Pj4+ICAgIC4uLi9kcm0vaTkxNS9nZW0v
c2VsZnRlc3RzL2k5MTVfZ2VtX21pZ3JhdGUuYyB8ICAzICstDQo+Pj4+ICAgIC4uLi9kcm0vaTkx
NS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX21tYW4uYyAgICB8ICAzICstDQo+Pj4+ICAgIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfdm1hLmMgICAgICAgICAgICAgICB8ICA5ICsrKy0NCj4+Pj4g
ICAgNiBmaWxlcyBjaGFuZ2VkLCAyMSBpbnNlcnRpb25zKCspLCA1OCBkZWxldGlvbnMoLSkNCj4+
Pj4NCj4+Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9v
YmplY3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYw0KPj4+
PiBpbmRleCAzNzJiYzIyMGZhZWIuLmZmZGU3YmMwYTk1ZCAxMDA2NDQNCj4+Pj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jDQo+Pj4+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYw0KPj4+PiBAQCAtNzQxLDMwICs3
NDEsMTkgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZ2VtX29iamVjdF9mdW5jcyBpOTE1X2dl
bV9vYmplY3RfZnVuY3MgPSB7DQo+Pj4+ICAgIC8qKg0KPj4+PiAgICAgKiBpOTE1X2dlbV9vYmpl
Y3RfZ2V0X21vdmluZ19mZW5jZSAtIEdldCB0aGUgb2JqZWN0J3MgbW92aW5nIGZlbmNlIGlmIGFu
eQ0KPj4+PiAgICAgKiBAb2JqOiBUaGUgb2JqZWN0IHdob3NlIG1vdmluZyBmZW5jZSB0byBnZXQu
DQo+Pj4+ICsgKiBAZmVuY2U6IFRoZSByZXN1bHRpbmcgZmVuY2UNCj4+Pj4gICAgICoNCj4+Pj4g
ICAgICogQSBub24tc2lnbmFsZWQgbW92aW5nIGZlbmNlIG1lYW5zIHRoYXQgdGhlcmUgaXMgYW4g
YXN5bmMgb3BlcmF0aW9uDQo+Pj4+ICAgICAqIHBlbmRpbmcgb24gdGhlIG9iamVjdCB0aGF0IG5l
ZWRzIHRvIGJlIHdhaXRlZCBvbiBiZWZvcmUgc2V0dGluZyB1cA0KPj4+PiAgICAgKiBhbnkgR1BV
LSBvciBDUFUgUFRFcyB0byB0aGUgb2JqZWN0J3MgcGFnZXMuDQo+Pj4+ICAgICAqDQo+Pj4+IC0g
KiBSZXR1cm46IEEgcmVmY291bnRlZCBwb2ludGVyIHRvIHRoZSBvYmplY3QncyBtb3ZpbmcgZmVu
Y2UgaWYgYW55LA0KPj4+PiAtICogTlVMTCBvdGhlcndpc2UuDQo+Pj4+ICsgKiBSZXR1cm46IE5l
Z2F0aXZlIGVycm9yIGNvZGUgb3IgMCBmb3Igc3VjY2Vzcy4NCj4+Pj4gICAgICovDQo+Pj4+IC1z
dHJ1Y3QgZG1hX2ZlbmNlICoNCj4+Pj4gLWk5MTVfZ2VtX29iamVjdF9nZXRfbW92aW5nX2ZlbmNl
KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopDQo+Pj4+ICtpbnQgaTkxNV9nZW1fb2Jq
ZWN0X2dldF9tb3ZpbmdfZmVuY2Uoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwNCj4+
Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkbWFfZmVuY2UgKipm
ZW5jZSkNCj4+Pj4gICAgew0KPj4+PiAtICAgIHJldHVybiBkbWFfZmVuY2VfZ2V0KGk5MTVfZ2Vt
X3RvX3R0bShvYmopLT5tb3ZpbmcpOw0KPj4+PiAtfQ0KPj4+PiAtDQo+Pj4+IC12b2lkIGk5MTVf
Z2VtX29iamVjdF9zZXRfbW92aW5nX2ZlbmNlKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpv
YmosDQo+Pj4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRtYV9m
ZW5jZSAqZmVuY2UpDQo+Pj4+IC17DQo+Pj4+IC0gICAgc3RydWN0IGRtYV9mZW5jZSAqKm1vdmlu
ZyA9ICZpOTE1X2dlbV90b190dG0ob2JqKS0+bW92aW5nOw0KPj4+PiAtDQo+Pj4+IC0gICAgaWYg
KCptb3ZpbmcgPT0gZmVuY2UpDQo+Pj4+IC0gICAgICAgICAgICByZXR1cm47DQo+Pj4+IC0NCj4+
Pj4gLSAgICBkbWFfZmVuY2VfcHV0KCptb3ZpbmcpOw0KPj4+PiAtICAgICptb3ZpbmcgPSBkbWFf
ZmVuY2VfZ2V0KGZlbmNlKTsNCj4+Pj4gKyAgICByZXR1cm4gZG1hX3Jlc3ZfZ2V0X3NpbmdsZXRv
bihvYmotPmJhc2UucmVzdiwgRE1BX1JFU1ZfVVNBR0VfS0VSTkVMLA0KPj4+PiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGZlbmNlKTsNCj4+Pj4gICAgfQ0KPj4+Pg0KPj4+PiAg
ICAvKioNCj4+Pj4gQEAgLTc4MiwyMyArNzcxLDkgQEAgdm9pZCBpOTE1X2dlbV9vYmplY3Rfc2V0
X21vdmluZ19mZW5jZShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLA0KPj4+PiAgICBp
bnQgaTkxNV9nZW1fb2JqZWN0X3dhaXRfbW92aW5nX2ZlbmNlKHN0cnVjdCBkcm1faTkxNV9nZW1f
b2JqZWN0ICpvYmosDQo+Pj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJv
b2wgaW50cikNCj4+Pj4gICAgew0KPj4+PiAtICAgIHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlID0g
aTkxNV9nZW1fdG9fdHRtKG9iaiktPm1vdmluZzsNCj4+Pj4gLSAgICBpbnQgcmV0Ow0KPj4+PiAt
DQo+Pj4+ICAgICAgIGFzc2VydF9vYmplY3RfaGVsZChvYmopOw0KPj4+PiAtICAgIGlmICghZmVu
Y2UpDQo+Pj4+IC0gICAgICAgICAgICByZXR1cm4gMDsNCj4+Pj4gLQ0KPj4+PiAtICAgIHJldCA9
IGRtYV9mZW5jZV93YWl0KGZlbmNlLCBpbnRyKTsNCj4+Pj4gLSAgICBpZiAocmV0KQ0KPj4+PiAt
ICAgICAgICAgICAgcmV0dXJuIHJldDsNCj4+Pj4gLQ0KPj4+PiAtICAgIGlmIChmZW5jZS0+ZXJy
b3IpDQo+Pj4+IC0gICAgICAgICAgICByZXR1cm4gZmVuY2UtPmVycm9yOw0KPj4+PiAtDQo+Pj4+
IC0gICAgaTkxNV9nZW1fdG9fdHRtKG9iaiktPm1vdmluZyA9IE5VTEw7DQo+Pj4+IC0gICAgZG1h
X2ZlbmNlX3B1dChmZW5jZSk7DQo+Pj4+IC0gICAgcmV0dXJuIDA7DQo+Pj4+ICsgICAgcmV0dXJu
IGRtYV9yZXN2X3dhaXRfdGltZW91dChvYmotPmJhc2UuIHJlc3YsIERNQV9SRVNWX1VTQUdFX0tF
Uk5FTCwNCj4+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludHIsIE1BWF9T
Q0hFRFVMRV9USU1FT1VUKTsNCj4+Pj4gICAgfQ0KPj4+Pg0KPj4+PiAgICAjaWYgSVNfRU5BQkxF
RChDT05GSUdfRFJNX0k5MTVfU0VMRlRFU1QpDQo+Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vaTkxNV9nZW1fb2JqZWN0LmgNCj4+Pj4gaW5kZXggMDJjMzdmZTRhNTM1Li5lMTFkODJhOWY3
YzMgMTAwNjQ0DQo+Pj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9v
YmplY3QuaA0KPj4+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2Jq
ZWN0LmgNCj4+Pj4gQEAgLTUyMCwxMiArNTIwLDggQEAgaTkxNV9nZW1fb2JqZWN0X2ZpbmlzaF9h
Y2Nlc3Moc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikNCj4+Pj4gICAgICAgaTkxNV9n
ZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7DQo+Pj4+ICAgIH0NCj4+Pj4NCj4+Pj4gLXN0cnVj
dCBkbWFfZmVuY2UgKg0KPj4+PiAtaTkxNV9nZW1fb2JqZWN0X2dldF9tb3ZpbmdfZmVuY2Uoc3Ry
dWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaik7DQo+Pj4+IC0NCj4+Pj4gLXZvaWQgaTkxNV9n
ZW1fb2JqZWN0X3NldF9tb3ZpbmdfZmVuY2Uoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9i
aiwNCj4+Pj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZG1hX2Zl
bmNlICpmZW5jZSk7DQo+Pj4+IC0NCj4+Pj4gK2ludCBpOTE1X2dlbV9vYmplY3RfZ2V0X21vdmlu
Z19mZW5jZShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLA0KPj4+PiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRtYV9mZW5jZSAqKmZlbmNlKTsNCj4+Pj4g
ICAgaW50IGk5MTVfZ2VtX29iamVjdF93YWl0X21vdmluZ19mZW5jZShzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdCAqb2JqLA0KPj4+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBib29sIGludHIpOw0KPj4+Pg0KPj4+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX3R0bV9tb3ZlLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fdHRtX21vdmUuYw0KPj4+PiBpbmRleCA0MzhiOGE5NWIzZDEuLmExMDcxNmY0ZTcxNyAx
MDA2NDQNCj4+Pj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3R0bV9t
b3ZlLmMNCj4+Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3R0bV9t
b3ZlLmMNCj4+Pj4gQEAgLTQ2NywxOSArNDY3LDYgQEAgX19pOTE1X3R0bV9tb3ZlKHN0cnVjdCB0
dG1fYnVmZmVyX29iamVjdCAqYm8sDQo+Pj4+ICAgICAgIHJldHVybiBmZW5jZTsNCj4+Pj4gICAg
fQ0KPj4+Pg0KPj4+PiAtc3RhdGljIGludA0KPj4+PiAtcHJldl9kZXBzKHN0cnVjdCB0dG1fYnVm
ZmVyX29iamVjdCAqYm8sIHN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCAqY3R4LA0KPj4+PiAtICAg
ICAgc3RydWN0IGk5MTVfZGVwcyAqZGVwcykNCj4+Pj4gLXsNCj4+Pj4gLSAgICBpbnQgcmV0Ow0K
Pj4+PiAtDQo+Pj4+IC0gICAgcmV0ID0gaTkxNV9kZXBzX2FkZF9kZXBlbmRlbmN5KGRlcHMsIGJv
LT5tb3ZpbmcsIGN0eCk7DQo+Pj4+IC0gICAgaWYgKCFyZXQpDQo+Pj4+IC0gICAgICAgICAgICBy
ZXQgPSBpOTE1X2RlcHNfYWRkX3Jlc3YoZGVwcywgYm8tPmJhc2UucmVzdiwgY3R4KTsNCj4+Pj4g
LQ0KPj4+PiAtICAgIHJldHVybiByZXQ7DQo+Pj4+IC19DQo+Pj4+IC0NCj4+Pj4gICAgLyoqDQo+
Pj4+ICAgICAqIGk5MTVfdHRtX21vdmUgLSBUaGUgVFRNIG1vdmUgY2FsbGJhY2sgdXNlZCBieSBp
OTE1Lg0KPj4+PiAgICAgKiBAYm86IFRoZSBidWZmZXIgb2JqZWN0Lg0KPj4+PiBAQCAtNTM0LDcg
KzUyMSw3IEBAIGludCBpOTE1X3R0bV9tb3ZlKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8s
IGJvb2wgZXZpY3QsDQo+Pj4+ICAgICAgICAgICAgICAgc3RydWN0IGk5MTVfZGVwcyBkZXBzOw0K
Pj4+Pg0KPj4+PiAgICAgICAgICAgICAgIGk5MTVfZGVwc19pbml0KCZkZXBzLCBHRlBfS0VSTkVM
IHwgX19HRlBfTk9SRVRSWSB8IF9fR0ZQX05PV0FSTik7DQo+Pj4+IC0gICAgICAgICAgICByZXQg
PSBwcmV2X2RlcHMoYm8sIGN0eCwgJmRlcHMpOw0KPj4+PiArICAgICAgICAgICAgcmV0ID0gaTkx
NV9kZXBzX2FkZF9yZXN2KCZkZXBzLCBiby0+YmFzZS5yZXN2LCBjdHgpOw0KPj4+PiAgICAgICAg
ICAgICAgIGlmIChyZXQpIHsNCj4+Pj4gICAgICAgICAgICAgICAgICAgICAgIGk5MTVfcmVmY3Rf
c2d0X3B1dChkc3RfcnNndCk7DQo+Pj4+ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0
Ow0KPj4+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9p
OTE1X2dlbV9taWdyYXRlLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5
MTVfZ2VtX21pZ3JhdGUuYw0KPj4+PiBpbmRleCA0OTk3ZWQxOGI2ZTQuLjBhZDQ0M2E5MGM4YiAx
MDA2NDQNCj4+Pj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1
X2dlbV9taWdyYXRlLmMNCj4+Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0
ZXN0cy9pOTE1X2dlbV9taWdyYXRlLmMNCj4+Pj4gQEAgLTIxOSw4ICsyMTksNyBAQCBzdGF0aWMg
aW50IF9faWd0X2xtZW1fcGFnZXNfbWlncmF0ZShzdHJ1Y3QgaW50ZWxfZ3QgKmd0LA0KPj4+PiAg
ICAgICAgICAgICAgICAgICAgICAgZXJyID0gZG1hX3Jlc3ZfcmVzZXJ2ZV9mZW5jZXMob2JqLT5i
YXNlLnJlc3YsIDEpOw0KPj4+PiAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpDQo+Pj4+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRtYV9yZXN2X2FkZF9mZW5jZShvYmotPmJh
c2UucmVzdiwgJnJxLT5mZW5jZSwNCj4+Pj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgRE1BX1JFU1ZfVVNBR0VfV1JJVEUpOw0KPj4+PiAtICAgICAgICAg
ICAgICAgICAgICBpOTE1X2dlbV9vYmplY3Rfc2V0X21vdmluZ19mZW5jZShvYmosICZycS0+ZmVu
Y2UpOw0KPj4+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBETUFfUkVTVl9VU0FHRV9LRVJORUwpOw0KPj4+PiAgICAgICAgICAgICAgICAgICAgICAgaTkx
NV9yZXF1ZXN0X3B1dChycSk7DQo+Pj4+ICAgICAgICAgICAgICAgfQ0KPj4+PiAgICAgICAgICAg
ICAgIGlmIChlcnIpDQo+Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0v
c2VsZnRlc3RzL2k5MTVfZ2VtX21tYW4uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxm
dGVzdHMvaTkxNV9nZW1fbW1hbi5jDQo+Pj4+IGluZGV4IDNhNmUzZjZkMjM5Zi4uZGZjMzRjYzJl
ZjhjIDEwMDY0NA0KPj4+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3Rz
L2k5MTVfZ2VtX21tYW4uYw0KPj4+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2Vs
ZnRlc3RzL2k5MTVfZ2VtX21tYW4uYw0KPj4+PiBAQCAtMTIyMSw4ICsxMjIxLDcgQEAgc3RhdGlj
IGludCBfX2lndF9tbWFwX21pZ3JhdGUoc3RydWN0IGludGVsX21lbW9yeV9yZWdpb24gKipwbGFj
ZW1lbnRzLA0KPj4+PiAgICAgICBpOTE1X2dlbV9vYmplY3RfdW5waW5fcGFnZXMob2JqKTsNCj4+
Pj4gICAgICAgaWYgKHJxKSB7DQo+Pj4+ICAgICAgICAgICAgICAgZG1hX3Jlc3ZfYWRkX2ZlbmNl
KG9iai0+YmFzZS5yZXN2LCAmcnEtPmZlbmNlLA0KPj4+PiAtICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIERNQV9SRVNWX1VTQUdFX1dSSVRFKTsNCj4+Pj4gLSAgICAgICAgICAgIGk5MTVf
Z2VtX29iamVjdF9zZXRfbW92aW5nX2ZlbmNlKG9iaiwgJnJxLT5mZW5jZSk7DQo+Pj4+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgRE1BX1JFU1ZfVVNBR0VfS0VSTkVMKTsNCj4+Pj4g
ICAgICAgICAgICAgICBpOTE1X3JlcXVlc3RfcHV0KHJxKTsNCj4+Pj4gICAgICAgfQ0KPj4+PiAg
ICAgICBpOTE1X2dlbV9vYmplY3RfdW5sb2NrKG9iaik7DQo+Pj4+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92
bWEuYw0KPj4+PiBpbmRleCA1MjQ0NzdkODkzOWUuLmQwNzdmN2I5ZWFhZCAxMDA2NDQNCj4+Pj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYw0KPj4+PiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5jDQo+Pj4+IEBAIC0xMzU3LDEwICsxMzU3LDE3IEBAIGlu
dCBpOTE1X3ZtYV9waW5fd3coc3RydWN0IGk5MTVfdm1hICp2bWEsIHN0cnVjdCBpOTE1X2dlbV93
d19jdHggKnd3LA0KPj4+PiAgICAgICBpZiAoZXJyKQ0KPj4+PiAgICAgICAgICAgICAgIHJldHVy
biBlcnI7DQo+Pj4+DQo+Pj4+ICsgICAgaWYgKHZtYS0+b2JqKSB7DQo+Pj4+ICsgICAgICAgICAg
ICBlcnIgPSBpOTE1X2dlbV9vYmplY3RfZ2V0X21vdmluZ19mZW5jZSh2bWEtPm9iaiwgJm1vdmlu
Zyk7DQo+Pj4+ICsgICAgICAgICAgICBpZiAoZXJyKQ0KPj4+PiArICAgICAgICAgICAgICAgICAg
ICByZXR1cm4gZXJyOw0KPj4+PiArICAgIH0gZWxzZSB7DQo+Pj4+ICsgICAgICAgICAgICBtb3Zp
bmcgPSBOVUxMOw0KPj4+PiArICAgIH0NCj4+Pj4gKw0KPj4+PiAgICAgICBpZiAoZmxhZ3MgJiBQ
SU5fR0xPQkFMKQ0KPj4+PiAgICAgICAgICAgICAgIHdha2VyZWYgPSBpbnRlbF9ydW50aW1lX3Bt
X2dldCgmdm1hLT52bS0+aTkxNS0+cnVudGltZV9wbSk7DQo+Pj4+DQo+Pj4+IC0gICAgbW92aW5n
ID0gdm1hLT5vYmogPyBpOTE1X2dlbV9vYmplY3RfZ2V0X21vdmluZ19mZW5jZSh2bWEtPm9iaikg
OiBOVUxMOw0KPj4+PiAgICAgICBpZiAoZmxhZ3MgJiB2bWEtPnZtLT5iaW5kX2FzeW5jX2ZsYWdz
IHx8IG1vdmluZykgew0KPj4+PiAgICAgICAgICAgICAgIC8qIGxvY2sgVk0gKi8NCj4+Pj4gICAg
ICAgICAgICAgICBlcnIgPSBpOTE1X3ZtX2xvY2tfb2JqZWN0cyh2bWEtPnZtLCB3dyk7DQo+DQoN
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkxpbmFyby1t
bS1zaWcgbWFpbGluZyBsaXN0IC0tIGxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9yZwpUbyB1
bnN1YnNjcmliZSBzZW5kIGFuIGVtYWlsIHRvIGxpbmFyby1tbS1zaWctbGVhdmVAbGlzdHMubGlu
YXJvLm9yZwo=
