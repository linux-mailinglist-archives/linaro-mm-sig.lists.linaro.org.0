Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id D0D464EABE7
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 29 Mar 2022 13:06:19 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 148873EC12
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 29 Mar 2022 11:06:19 +0000 (UTC)
Received: from mail-ot1-f43.google.com (mail-ot1-f43.google.com [209.85.210.43])
	by lists.linaro.org (Postfix) with ESMTPS id 652E43EEA3
	for <linaro-mm-sig@lists.linaro.org>; Fri, 18 Feb 2022 03:08:31 +0000 (UTC)
Received: by mail-ot1-f43.google.com with SMTP id b17-20020a9d4791000000b005a17fc2dfc1so1112810otf.1
        for <linaro-mm-sig@lists.linaro.org>; Thu, 17 Feb 2022 19:08:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20210112;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :cc:content-transfer-encoding;
        bh=7NtFuMkC0v+umA0r2Z9wwdYfloaxCJo3MlkADJvxZNU=;
        b=SXJMDJViICup6JW1yK7qoZkGrOxj2/lnPdz13+a6GFTIAGDvuPzkKofUo2xG6GuoR0
         TrYYJMw6ipmoGl6xHR/eDY3PynqYNE+KZ3gmnJUXs3wq4K3+/MsQsqaUt0gscKt/mTI0
         X0JztZ2AUSTRU/bRvWUyIb/GxLIGAaj0RfD3x7xeD0JJFGy3g3E4eTe4FoJWGvAf6ZUA
         jE0YdzHRyZnx6BZyw2CwNXMNUyiGJpgE4p+2Z9IG2T0kNZgU96vw0QkFtlTJI8GKQi/W
         a7N31YN/tIjdEo1Evd4yMBplL91hQdAgx0juJoMODcyU4ksb3w7eLD+bQBThJskaf9Up
         TJew==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to:cc:content-transfer-encoding;
        bh=7NtFuMkC0v+umA0r2Z9wwdYfloaxCJo3MlkADJvxZNU=;
        b=XtLV8qwvQGOKD1ZDKpBxyqXsLNUH4CqTHsGXRcurbz7zdrSbLYcRDcT1ocS6ckTraN
         M4b4rWST+fJ7iTqzuZPpuzPZOBGfuAIMPkkjTD4oFm97VWnJqUnFz2VfXKC3uG8WQ4Os
         UJIFeyRVtZ+NHHPe6QaawOwA3fhE+nzsuhes8mLP4ylNSwKrRhY75v3m2a328QJKNlmF
         5nSvlVKYm+Q6/G+3N09jL3B3oDiPn4Qsc6FvnY0xinodEajUHrZjgk35eOtfG7ADrlqt
         6k9pyJiV3kUr190xlas0tJd9VJIGTt5xluTX4AMnkT0gMFbF8xBMO8iEHhP41dqq7dAt
         GAuQ==
X-Gm-Message-State: AOAM530QCvXH1uU8HdIqk28TUSUKP37UwEGKRc4xwc/zU2e18Q6VolEs
	VBEdaePmGvQrYeQJp0OwnH5u8HNp5OudBrqTX2DusWr1xl4vz2gAC/s=
X-Google-Smtp-Source: ABdhPJy+HKsYdlrtET3RMKtN7jSsmxokjX0+qXeY3PfQvy9JLMrgmsvCt9foGefr2crXrDSrEeTZOKad7+5MjqRb7Xc=
X-Received: by 2002:a05:6830:401a:b0:5a4:c82a:bc53 with SMTP id
 h26-20020a056830401a00b005a4c82abc53mr1932169ots.214.1645153710695; Thu, 17
 Feb 2022 19:08:30 -0800 (PST)
MIME-Version: 1.0
References: <20220217090440.4468-1-qiang.yu@amd.com> <5d3fdd2c-e74a-49f4-2b28-32c06483236f@amd.com>
 <CAKGbVbtLTBJPF5eTu4rABUTBa8eqjQvqjo1AEUrzgPgYgCREuA@mail.gmail.com>
 <dac70c05-e712-d2e3-2267-278380895f1e@amd.com> <CAKGbVbvtLbDiKrX80-dMnipdLkTE+FP=g_mx37e12fuMtA1Y4Q@mail.gmail.com>
 <ca27a9c6-f390-a938-dd66-ac23f3b44dc4@amd.com> <CAKGbVbv4UFCybS_OFj5UkDgevbrB5qe3pv+0nHv9WdefYhy6Ww@mail.gmail.com>
 <6711073b-8771-5750-33f7-b72333b411c6@amd.com>
In-Reply-To: <6711073b-8771-5750-33f7-b72333b411c6@amd.com>
From: Qiang Yu <yuq825@gmail.com>
Date: Fri, 18 Feb 2022 11:08:18 +0800
Message-ID: <CAKGbVbvR+msXjrsXmDM8QTmsCP03hL5-q5CTJBYu4mm=NQd01A@mail.gmail.com>
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
X-MailFrom: yuq825@gmail.com
X-Mailman-Rule-Hits: nonmember-moderation
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation
Message-ID-Hash: R37KVPYJVL6XNOTVTXJMCZCSBRYASVQ7
X-Message-ID-Hash: R37KVPYJVL6XNOTVTXJMCZCSBRYASVQ7
X-Mailman-Approved-At: Tue, 29 Mar 2022 11:06:00 +0000
CC: Qiang Yu <qiang.yu@amd.com>, Alex Deucher <alexander.deucher@amd.com>, "Pan, Xinhui" <Xinhui.Pan@amd.com>, David Airlie <airlied@linux.ie>, Daniel Vetter <daniel@ffwll.ch>, linaro-mm-sig@lists.linaro.org, linux-media@vger.kernel.org, dri-devel <dri-devel@lists.freedesktop.org>, amd-gfx@lists.freedesktop.org, Linux Kernel Mailing List <linux-kernel@vger.kernel.org>
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Re: [PATCH] drm/amdgpu: check vm bo eviction valuable at last
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/R37KVPYJVL6XNOTVTXJMCZCSBRYASVQ7/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

T24gVGh1LCBGZWIgMTcsIDIwMjIgYXQgODoyMiBQTSBDaHJpc3RpYW4gS8O2bmlnDQo8Y2hyaXN0
aWFuLmtvZW5pZ0BhbWQuY29tPiB3cm90ZToNCj4NCj4gQW0gMTcuMDIuMjIgdW0gMTE6NTggc2No
cmllYiBRaWFuZyBZdToNCj4gPiBPbiBUaHUsIEZlYiAxNywgMjAyMiBhdCA2OjM5IFBNIENocmlz
dGlhbiBLw7ZuaWcNCj4gPiA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPiB3cm90ZToNCj4gPj4N
Cj4gPj4NCj4gPj4gQW0gMTcuMDIuMjIgdW0gMTE6MTMgc2NocmllYiBRaWFuZyBZdToNCj4gPj4+
IE9uIFRodSwgRmViIDE3LCAyMDIyIGF0IDU6NDYgUE0gQ2hyaXN0aWFuIEvDtm5pZw0KPiA+Pj4g
PGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4gd3JvdGU6DQo+ID4+Pj4gQW0gMTcuMDIuMjIgdW0g
MTA6NDAgc2NocmllYiBRaWFuZyBZdToNCj4gPj4+Pj4gT24gVGh1LCBGZWIgMTcsIDIwMjIgYXQg
NToxNSBQTSBDaHJpc3RpYW4gS8O2bmlnDQo+ID4+Pj4+IDxjaHJpc3RpYW4ua29lbmlnQGFtZC5j
b20+IHdyb3RlOg0KPiA+Pj4+Pj4gQW0gMTcuMDIuMjIgdW0gMTA6MDQgc2NocmllYiBRaWFuZyBZ
dToNCj4gPj4+Pj4+PiBXb3Jrc3RhdGlvbiBhcHBsaWNhdGlvbiBBTlNBL01FVEEgZ2V0IHRoaXMg
ZXJyb3IgZG1lc2c6DQo+ID4+Pj4+Pj4gW2RybTphbWRncHVfZ2VtX3ZhX2lvY3RsIFthbWRncHVd
XSAqRVJST1IqIENvdWxkbid0IHVwZGF0ZSBCT19WQSAoLTE2KQ0KPiA+Pj4+Pj4+DQo+ID4+Pj4+
Pj4gVGhpcyBpcyBjYXVzZWQgYnk6DQo+ID4+Pj4+Pj4gMS4gY3JlYXRlIGEgMjU2TUIgYnVmZmVy
IGluIGludmlzaWJsZSBWUkFNDQo+ID4+Pj4+Pj4gMi4gQ1BVIG1hcCB0aGUgYnVmZmVyIGFuZCBh
Y2Nlc3MgaXQgY2F1c2VzIHZtX2ZhdWx0IGFuZCB0cnkgdG8gbW92ZQ0KPiA+Pj4+Pj4+ICAgICAg
ICBpdCB0byB2aXNpYmxlIFZSQU0NCj4gPj4+Pj4+PiAzLiBmb3JjZSB2aXNpYmxlIFZSQU0gc3Bh
Y2UgYW5kIHRyYXZlcnNlIGFsbCBWUkFNIGJvcyB0byBjaGVjayBpZg0KPiA+Pj4+Pj4+ICAgICAg
ICBldmljdGluZyB0aGlzIGJvIGlzIHZhbHVhYmxlDQo+ID4+Pj4+Pj4gNC4gd2hlbiBjaGVja2lu
ZyBhIFZNIGJvIChpbiBpbnZpc2libGUgVlJBTSksIGFtZGdwdV92bV9ldmljdGFibGUoKQ0KPiA+
Pj4+Pj4+ICAgICAgICB3aWxsIHNldCBhbWRncHVfdm0tPmV2aWN0aW5nLCBidXQgbGF0dGVyIGR1
ZSB0byBub3QgaW4gdmlzaWJsZQ0KPiA+Pj4+Pj4+ICAgICAgICBWUkFNLCB3b24ndCByZWFsbHkg
ZXZpY3QgaXQgc28gbm90IGFkZCBpdCB0byBhbWRncHVfdm0tPmV2aWN0ZWQNCj4gPj4+Pj4+PiA1
LiBiZWZvcmUgbmV4dCBDUyB0byBjbGVhciB0aGUgYW1kZ3B1X3ZtLT5ldmljdGluZywgdXNlciBW
TSBvcHMNCj4gPj4+Pj4+PiAgICAgICAgaW9jdGwgd2lsbCBwYXNzIGFtZGdwdV92bV9yZWFkeSgp
IChjaGVjayBhbWRncHVfdm0tPmV2aWN0ZWQpDQo+ID4+Pj4+Pj4gICAgICAgIGJ1dCBmYWlsIGlu
IGFtZGdwdV92bV9ib191cGRhdGVfbWFwcGluZygpIChjaGVjaw0KPiA+Pj4+Pj4+ICAgICAgICBh
bWRncHVfdm0tPmV2aWN0aW5nKSBhbmQgZ2V0IHRoaXMgZXJyb3IgbG9nDQo+ID4+Pj4+Pj4NCj4g
Pj4+Pj4+PiBUaGlzIGVycm9yIHdvbid0IGFmZmVjdCBmdW5jdGlvbmFsaXR5IGFzIG5leHQgQ1Mg
d2lsbCBmaW5pc2ggdGhlDQo+ID4+Pj4+Pj4gd2FpdGluZyBWTSBvcHMuIEJ1dCB3ZSdkIGJldHRl
ciBtYWtlIHRoZSBhbWRncHVfdm0tPmV2aWN0aW5nDQo+ID4+Pj4+Pj4gY29ycmVjdGx5IHJlZmxh
Y3QgdGhlIHZtIHN0YXR1cyBhbmQgY2xlYXIgdGhlIGVycm9yIGxvZy4NCj4gPj4+Pj4+IFdlbGwg
TkFLLCB0aGF0IGlzIGludGVudGlvbmFsIGJlaGF2aW9yLg0KPiA+Pj4+Pj4NCj4gPj4+Pj4+IFRo
ZSBWTSBwYWdlIHRhYmxlcyB3aGVyZSBjb25zaWRlcmVkIGZvciBldmljdGlvbiwgc28gc2V0dGlu
ZyB0aGUgZmxhZyBpcw0KPiA+Pj4+Pj4gY29ycmVjdCBldmVuIHdoZW4gdGhlIHBhZ2UgdGFibGVz
IGxhdGVyIG9uIGFyZSBub3QgYWN0dWFsbHkgZXZpY3RlZC4NCj4gPj4+Pj4+DQo+ID4+Pj4+IEJ1
dCB0aGlzIHdpbGwgdW5uZWNlc3NhcmlseSBzdG9wIGxhdHRlciB1c2VyIFZNIG9wcyBpbiBpb2N0
bCBiZWZvcmUgQ1MNCj4gPj4+Pj4gZXZlbiB3aGVuIHRoZSBWTSBib3MgYXJlIG5vdCBldmljdGVk
Lg0KPiA+Pj4+PiBXb24ndCB0aGlzIGhhdmUgYW55IG5lZ2F0aXZlIGVmZmVjdCB3aGVuIGNvdWxk
IGRvIGJldHRlcj8NCj4gPj4+PiBObywgdGhpcyB3aWxsIGhhdmUgYSBwb3NpdGl2ZSBlZmZlY3Qu
IFNlZSB0aGUgVk0gd2FzIGFscmVhZHkgY29uc2lkZXJlZA0KPiA+Pj4+IGZvciBldmljdGlvbiBi
ZWNhdXNlIGl0IGlzIGlkbGUuDQo+ID4+Pj4NCj4gPj4+PiBVcGRhdGluZyBpdCBpbW1lZGlhdGVs
eSBkb2Vzbid0IG5lY2Vzc2FyaWx5IG1ha2Ugc2Vuc2UsIHdlIHNob3VsZCB3YWl0DQo+ID4+Pj4g
d2l0aCB0aGF0IHVudGlsIGl0cyBuZXh0IHVzYWdlLg0KPiA+Pj4+DQo+ID4+Pj4gQWRkaXRpb25h
bCB0byB0aGF0IHRoaXMgcGF0Y2ggZG9lc24ndCByZWFsbHkgZml4IHRoZSBwcm9ibGVtLCBpdCBq
dXN0DQo+ID4+Pj4gbWl0aWdhdGVzIGl0Lg0KPiA+Pj4+DQo+ID4+Pj4gRXZpY3Rpb24gY2FuIGZh
aWwgbGF0ZXIgb24gZm9yIGEgY291cGxlIG9mIHJlYXNvbnMgYW5kIHdlIGFic29sdXRlbHkNCj4g
Pj4+PiBuZWVkIHRvIGNoZWNrIHRoZSBmbGFnIGluc3RlYWQgb2YgdGhlIGxpc3QgaW4gYW1kZ3B1
X3ZtX3JlYWR5KCkuDQo+ID4+PiBUaGUgZmxhZyBvbmx5IGZvciBib3RoIGZsYWcgYW5kIGxpc3Q/
IExvb2tzIGxpa2Ugc2hvdWxkIGJlIGJvdGggYXMNCj4gPj4+IHRoZSBsaXN0IGluZGljYXRlIHNv
bWUgdm0gcGFnZSB0YWJsZSBuZWVkIHRvIGJlIHVwZGF0ZWQgYW5kIGNvdWxkDQo+ID4+PiBkZWxh
eSB0aGUgdXNlciB1cGRhdGUgd2l0aCB0aGUgc2FtZSBsb2dpYyBhcyB5b3UgZGVzY3JpYmVkIGFi
b3ZlLg0KPiA+PiBJIHRoaW5rIGNoZWNraW5nIHRoZSBmbGFnIHNob3VsZCBiZSBlbm91Z2guIFRo
ZSBpc3N1ZSBpcyB0aGF0IHRoZSBsaXN0DQo+ID4+IHdhcyB0aGVyZSBpbml0aWFsbHksIGJ1dCB0
byBhdm9pZCByYWNlIGNvbmRpdGlvbnMgd2UgYWRkZWQgdGhlIGZsYWcgd2l0aA0KPiA+PiBzZXBh
cmF0ZSBsb2NrIHByb3RlY3Rpb24gbGF0ZXIgb24uDQo+ID4+DQo+ID4gQnV0IGxpc3QgYW5kIGZs
YWcgZG9lcyBub3QgYWxpZ24gYWx3YXlzLCB0aGVyZSBhcmUgY2FzZXMgbGlrZQ0KPiA+IGxpc3Qt
ZW1wdHkvZmxhZy1zZXQgKHRoaXMgcHJvYmxlbSkgYW5kIGxpc3Qtbm9uLWVtcHR5L2ZsYWctdW5z
ZXQgKG5vbi12bSBibw0KPiA+IGV2aWN0aW9uKS4gSWYgb25seSBjaGVjayBmbGFnIGxpc3Qtbm9u
LWVtcHR5L2ZsYWctdW5zZXQgY2hhbmdlIGJlaGF2aW9yLg0KPg0KPiBZZWFoLCBidXQgSSB0aGlu
ayB0aGF0IHRoZSBmbGFnIHVuc2V0IGxpc3Qtbm9uLWVtcHR5IGNhc2Ugd291bGQgYmUNCj4gY29y
cmVjdGx5IGhhbmRsZWQgaWYgd2Ugb25seSB0ZXN0IHRoZSBmbGFnLg0KPg0KPiBJbiBvdGhlciB3
b3JkcyB3ZSBjYW4gdXBkYXRlIHRoZSBwYWdlIHRhYmxlcyBhcyBsb25nIGFzIHRoZXkgYXJlIG5v
dA0KPiBwYXJ0aWFsbHkgb3IgZnVsbHkgZXZpY3RlZCBhbmQgdGhhdCdzIG5vdCB0aGUgY2FzZSB3
aGVuIG5vbi12bSBCT3MgYXJlDQo+IGV2aWN0ZWQuDQo+DQpUaGlzIHNvdW5kcyBsaWtlIHR3byBz
dGFuZGFyZCBmb3IgdGhlIHNhbWUgdGhpbmcsIGJlY2F1c2UgdGhpcyBwcm9ibGVtDQpkb2VzIG5v
dCBldmljdCBwYWdlIHRhYmxlcyB0b28uIEJ1dCBJIHNlZSB5b3VyIHBvaW50IGlzOg0KVGhlcmUn
cyBhIGRpZmZlcmVuY2UgdGhhdCB0aGlzIHByb2JsZW0ncyBjYXNlIGNhbiBtYWtlIHN1cmUgdm0g
aXMgaWRsZSwNCmFuZCB3ZSBwcmVmZXIgdG8gZGVsYXkgdm0gdXBkYXRlcyB3aGVuIHZtIGlzIGlk
bGUuDQoNCklmIHNvLCB3aHkgbm90IGp1c3Qgc3RvcCB1c2VyIHZtIHVwZGF0ZSBieSBjaGVja2lu
ZyB2bSBidXN5IGluDQphbWRncHVfZ2VtX3ZhX2lvY3RsKCkgdG8gc2tpcCBhbWRncHVfZ2VtX3Zh
X3VwZGF0ZV92bSgpPw0KDQpUaGVuIHdlIGNhbiBrZWVwIHRoZSBldmljdGluZyBmbGFnIGFjY3Vy
YXRlIChhZnRlciBzb2x2aW5nIHlvdXINCmNvbmNlcm4gZm9yIHRoaXMgcGF0Y2ggdGhhdCBldmlj
dGlvbiBtYXkgZmFpbCBsYXR0ZXIgYnkgZnVydGhlciBkZWxheQ0KdGhlIGZsYWcgdXBkYXRlIGFm
dGVyIGV2aWN0aW9uIHN1Y2Nlc3MpLg0KDQpSZWdhcmRzLA0KUWlhbmcNCg0KDQo+IFJlZ2FyZHMs
DQo+IENocmlzdGlhbi4NCj4NCj4gPg0KPiA+IFJlZ2FyZHMsDQo+ID4gUWlhbmcNCj4gPg0KPiA+
PiBSZWdhcmRzLA0KPiA+PiBDaHJpc3RpYW4uDQo+ID4+DQo+ID4+PiBSZWdhcmRzLA0KPiA+Pj4g
UWlhbmcNCj4gPj4+DQo+ID4+Pj4gUmVnYXJkcywNCj4gPj4+PiBDaHJpc3RpYW4uDQo+ID4+Pj4N
Cj4gPj4+Pj4gUmVnYXJkcywNCj4gPj4+Pj4gUWlhbmcNCj4gPj4+Pj4NCj4gPj4+Pj4+IFdoYXQg
d2Ugc2hvdWxkIHJhdGhlciBkbyBpcyB0byBmaXggYW1kZ3B1X3ZtX3JlYWR5KCkgdG8gdGFrZSBh
IGxvb2sgYXQNCj4gPj4+Pj4+IHRoZSBmbGFnIGluc3RlYWQgb2YgdGhlIGxpbmtlZCBsaXN0Lg0K
PiA+Pj4+Pj4NCj4gPj4+Pj4+IFJlZ2FyZHMsDQo+ID4+Pj4+PiBDaHJpc3RpYW4uDQo+ID4+Pj4+
Pg0KPiA+Pj4+Pj4+IFNpZ25lZC1vZmYtYnk6IFFpYW5nIFl1IDxxaWFuZy55dUBhbWQuY29tPg0K
PiA+Pj4+Pj4+IC0tLQ0KPiA+Pj4+Pj4+ICAgICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3R0bS5jIHwgODUgKysrKysrKysrKysrKystLS0tLS0tLS0tLQ0KPiA+Pj4+Pj4+ICAg
ICAgMSBmaWxlIGNoYW5nZWQsIDQ3IGluc2VydGlvbnMoKyksIDM4IGRlbGV0aW9ucygtKQ0KPiA+
Pj4+Pj4+DQo+ID4+Pj4+Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV90dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYw0K
PiA+Pj4+Pj4+IGluZGV4IDVhMzJlZTY2ZDhjOC4uODhhMjc5MTEwNTRmIDEwMDY0NA0KPiA+Pj4+
Pj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYw0KPiA+Pj4+
Pj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYw0KPiA+Pj4+
Pj4+IEBAIC0xMzA2LDQ1ICsxMzA2LDExIEBAIHVpbnQ2NF90IGFtZGdwdV90dG1fdHRfcHRlX2Zs
YWdzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3QgdHRtX3R0ICp0dG0sDQo+ID4+
Pj4+Pj4gICAgICAgICAgcmV0dXJuIGZsYWdzOw0KPiA+Pj4+Pj4+ICAgICAgfQ0KPiA+Pj4+Pj4+
DQo+ID4+Pj4+Pj4gLS8qDQo+ID4+Pj4+Pj4gLSAqIGFtZGdwdV90dG1fYm9fZXZpY3Rpb25fdmFs
dWFibGUgLSBDaGVjayB0byBzZWUgaWYgd2UgY2FuIGV2aWN0IGEgYnVmZmVyDQo+ID4+Pj4+Pj4g
LSAqIG9iamVjdC4NCj4gPj4+Pj4+PiAtICoNCj4gPj4+Pj4+PiAtICogUmV0dXJuIHRydWUgaWYg
ZXZpY3Rpb24gaXMgc2Vuc2libGUuIENhbGxlZCBieSB0dG1fbWVtX2V2aWN0X2ZpcnN0KCkgb24N
Cj4gPj4+Pj4+PiAtICogYmVoYWxmIG9mIHR0bV9ib19tZW1fZm9yY2Vfc3BhY2UoKSB3aGljaCB0
cmllcyB0byBldmljdCBidWZmZXIgb2JqZWN0cyB1bnRpbA0KPiA+Pj4+Pj4+IC0gKiBpdCBjYW4g
ZmluZCBzcGFjZSBmb3IgYSBuZXcgb2JqZWN0IGFuZCBieSB0dG1fYm9fZm9yY2VfbGlzdF9jbGVh
bigpIHdoaWNoIGlzDQo+ID4+Pj4+Pj4gLSAqIHVzZWQgdG8gY2xlYW4gb3V0IGEgbWVtb3J5IHNw
YWNlLg0KPiA+Pj4+Pj4+IC0gKi8NCj4gPj4+Pj4+PiAtc3RhdGljIGJvb2wgYW1kZ3B1X3R0bV9i
b19ldmljdGlvbl92YWx1YWJsZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLA0KPiA+Pj4+
Pj4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVj
dCB0dG1fcGxhY2UgKnBsYWNlKQ0KPiA+Pj4+Pj4+ICtzdGF0aWMgYm9vbCBhbWRncHVfdHRtX21l
bV9ldmljdGlvbl92YWx1YWJsZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLA0KPiA+Pj4+
Pj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1
Y3QgdHRtX3BsYWNlICpwbGFjZSkNCj4gPj4+Pj4+PiAgICAgIHsNCj4gPj4+Pj4+PiAgICAgICAg
ICB1bnNpZ25lZCBsb25nIG51bV9wYWdlcyA9IGJvLT5yZXNvdXJjZS0+bnVtX3BhZ2VzOw0KPiA+
Pj4+Pj4+ICAgICAgICAgIHN0cnVjdCBhbWRncHVfcmVzX2N1cnNvciBjdXJzb3I7DQo+ID4+Pj4+
Pj4gLSAgICAgc3RydWN0IGRtYV9yZXN2X2xpc3QgKmZsaXN0Ow0KPiA+Pj4+Pj4+IC0gICAgIHN0
cnVjdCBkbWFfZmVuY2UgKmY7DQo+ID4+Pj4+Pj4gLSAgICAgaW50IGk7DQo+ID4+Pj4+Pj4gLQ0K
PiA+Pj4+Pj4+IC0gICAgIC8qIFN3YXBvdXQ/ICovDQo+ID4+Pj4+Pj4gLSAgICAgaWYgKGJvLT5y
ZXNvdXJjZS0+bWVtX3R5cGUgPT0gVFRNX1BMX1NZU1RFTSkNCj4gPj4+Pj4+PiAtICAgICAgICAg
ICAgIHJldHVybiB0cnVlOw0KPiA+Pj4+Pj4+IC0NCj4gPj4+Pj4+PiAtICAgICBpZiAoYm8tPnR5
cGUgPT0gdHRtX2JvX3R5cGVfa2VybmVsICYmDQo+ID4+Pj4+Pj4gLSAgICAgICAgICFhbWRncHVf
dm1fZXZpY3RhYmxlKHR0bV90b19hbWRncHVfYm8oYm8pKSkNCj4gPj4+Pj4+PiAtICAgICAgICAg
ICAgIHJldHVybiBmYWxzZTsNCj4gPj4+Pj4+PiAtDQo+ID4+Pj4+Pj4gLSAgICAgLyogSWYgYm8g
aXMgYSBLRkQgQk8sIGNoZWNrIGlmIHRoZSBibyBiZWxvbmdzIHRvIHRoZSBjdXJyZW50IHByb2Nl
c3MuDQo+ID4+Pj4+Pj4gLSAgICAgICogSWYgdHJ1ZSwgdGhlbiByZXR1cm4gZmFsc2UgYXMgYW55
IEtGRCBwcm9jZXNzIG5lZWRzIGFsbCBpdHMgQk9zIHRvDQo+ID4+Pj4+Pj4gLSAgICAgICogYmUg
cmVzaWRlbnQgdG8gcnVuIHN1Y2Nlc3NmdWxseQ0KPiA+Pj4+Pj4+IC0gICAgICAqLw0KPiA+Pj4+
Pj4+IC0gICAgIGZsaXN0ID0gZG1hX3Jlc3Zfc2hhcmVkX2xpc3QoYm8tPmJhc2UucmVzdik7DQo+
ID4+Pj4+Pj4gLSAgICAgaWYgKGZsaXN0KSB7DQo+ID4+Pj4+Pj4gLSAgICAgICAgICAgICBmb3Ig
KGkgPSAwOyBpIDwgZmxpc3QtPnNoYXJlZF9jb3VudDsgKytpKSB7DQo+ID4+Pj4+Pj4gLSAgICAg
ICAgICAgICAgICAgICAgIGYgPSByY3VfZGVyZWZlcmVuY2VfcHJvdGVjdGVkKGZsaXN0LT5zaGFy
ZWRbaV0sDQo+ID4+Pj4+Pj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG1hX3Jlc3Zf
aGVsZChiby0+YmFzZS5yZXN2KSk7DQo+ID4+Pj4+Pj4gLSAgICAgICAgICAgICAgICAgICAgIGlm
IChhbWRrZmRfZmVuY2VfY2hlY2tfbW0oZiwgY3VycmVudC0+bW0pKQ0KPiA+Pj4+Pj4+IC0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCj4gPj4+Pj4+PiAtICAgICAg
ICAgICAgIH0NCj4gPj4+Pj4+PiAtICAgICB9DQo+ID4+Pj4+Pj4NCj4gPj4+Pj4+PiAgICAgICAg
ICBzd2l0Y2ggKGJvLT5yZXNvdXJjZS0+bWVtX3R5cGUpIHsNCj4gPj4+Pj4+PiAgICAgICAgICBj
YXNlIEFNREdQVV9QTF9QUkVFTVBUOg0KPiA+Pj4+Pj4+IEBAIC0xMzc3LDEwICsxMzQzLDUzIEBA
IHN0YXRpYyBib29sIGFtZGdwdV90dG1fYm9fZXZpY3Rpb25fdmFsdWFibGUoc3RydWN0IHR0bV9i
dWZmZXJfb2JqZWN0ICpibywNCj4gPj4+Pj4+PiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxz
ZTsNCj4gPj4+Pj4+Pg0KPiA+Pj4+Pj4+ICAgICAgICAgIGRlZmF1bHQ6DQo+ID4+Pj4+Pj4gLSAg
ICAgICAgICAgICBicmVhazsNCj4gPj4+Pj4+PiArICAgICAgICAgICAgIHJldHVybiB0dG1fYm9f
ZXZpY3Rpb25fdmFsdWFibGUoYm8sIHBsYWNlKTsNCj4gPj4+Pj4+PiAgICAgICAgICB9DQo+ID4+
Pj4+Pj4gK30NCj4gPj4+Pj4+Pg0KPiA+Pj4+Pj4+IC0gICAgIHJldHVybiB0dG1fYm9fZXZpY3Rp
b25fdmFsdWFibGUoYm8sIHBsYWNlKTsNCj4gPj4+Pj4+PiArLyoNCj4gPj4+Pj4+PiArICogYW1k
Z3B1X3R0bV9ib19ldmljdGlvbl92YWx1YWJsZSAtIENoZWNrIHRvIHNlZSBpZiB3ZSBjYW4gZXZp
Y3QgYSBidWZmZXINCj4gPj4+Pj4+PiArICogb2JqZWN0Lg0KPiA+Pj4+Pj4+ICsgKg0KPiA+Pj4+
Pj4+ICsgKiBSZXR1cm4gdHJ1ZSBpZiBldmljdGlvbiBpcyBzZW5zaWJsZS4gQ2FsbGVkIGJ5IHR0
bV9tZW1fZXZpY3RfZmlyc3QoKSBvbg0KPiA+Pj4+Pj4+ICsgKiBiZWhhbGYgb2YgdHRtX2JvX21l
bV9mb3JjZV9zcGFjZSgpIHdoaWNoIHRyaWVzIHRvIGV2aWN0IGJ1ZmZlciBvYmplY3RzIHVudGls
DQo+ID4+Pj4+Pj4gKyAqIGl0IGNhbiBmaW5kIHNwYWNlIGZvciBhIG5ldyBvYmplY3QgYW5kIGJ5
IHR0bV9ib19mb3JjZV9saXN0X2NsZWFuKCkgd2hpY2ggaXMNCj4gPj4+Pj4+PiArICogdXNlZCB0
byBjbGVhbiBvdXQgYSBtZW1vcnkgc3BhY2UuDQo+ID4+Pj4+Pj4gKyAqLw0KPiA+Pj4+Pj4+ICtz
dGF0aWMgYm9vbCBhbWRncHVfdHRtX2JvX2V2aWN0aW9uX3ZhbHVhYmxlKHN0cnVjdCB0dG1fYnVm
ZmVyX29iamVjdCAqYm8sDQo+ID4+Pj4+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgY29uc3Qgc3RydWN0IHR0bV9wbGFjZSAqcGxhY2UpDQo+ID4+Pj4+Pj4gK3sN
Cj4gPj4+Pj4+PiArICAgICBzdHJ1Y3QgZG1hX3Jlc3ZfbGlzdCAqZmxpc3Q7DQo+ID4+Pj4+Pj4g
KyAgICAgc3RydWN0IGRtYV9mZW5jZSAqZjsNCj4gPj4+Pj4+PiArICAgICBpbnQgaTsNCj4gPj4+
Pj4+PiArDQo+ID4+Pj4+Pj4gKyAgICAgLyogU3dhcG91dD8gKi8NCj4gPj4+Pj4+PiArICAgICBp
ZiAoYm8tPnJlc291cmNlLT5tZW1fdHlwZSA9PSBUVE1fUExfU1lTVEVNKQ0KPiA+Pj4+Pj4+ICsg
ICAgICAgICAgICAgcmV0dXJuIHRydWU7DQo+ID4+Pj4+Pj4gKw0KPiA+Pj4+Pj4+ICsgICAgIC8q
IElmIGJvIGlzIGEgS0ZEIEJPLCBjaGVjayBpZiB0aGUgYm8gYmVsb25ncyB0byB0aGUgY3VycmVu
dCBwcm9jZXNzLg0KPiA+Pj4+Pj4+ICsgICAgICAqIElmIHRydWUsIHRoZW4gcmV0dXJuIGZhbHNl
IGFzIGFueSBLRkQgcHJvY2VzcyBuZWVkcyBhbGwgaXRzIEJPcyB0bw0KPiA+Pj4+Pj4+ICsgICAg
ICAqIGJlIHJlc2lkZW50IHRvIHJ1biBzdWNjZXNzZnVsbHkNCj4gPj4+Pj4+PiArICAgICAgKi8N
Cj4gPj4+Pj4+PiArICAgICBmbGlzdCA9IGRtYV9yZXN2X3NoYXJlZF9saXN0KGJvLT5iYXNlLnJl
c3YpOw0KPiA+Pj4+Pj4+ICsgICAgIGlmIChmbGlzdCkgew0KPiA+Pj4+Pj4+ICsgICAgICAgICAg
ICAgZm9yIChpID0gMDsgaSA8IGZsaXN0LT5zaGFyZWRfY291bnQ7ICsraSkgew0KPiA+Pj4+Pj4+
ICsgICAgICAgICAgICAgICAgICAgICBmID0gcmN1X2RlcmVmZXJlbmNlX3Byb3RlY3RlZChmbGlz
dC0+c2hhcmVkW2ldLA0KPiA+Pj4+Pj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRt
YV9yZXN2X2hlbGQoYm8tPmJhc2UucmVzdikpOw0KPiA+Pj4+Pj4+ICsgICAgICAgICAgICAgICAg
ICAgICBpZiAoYW1ka2ZkX2ZlbmNlX2NoZWNrX21tKGYsIGN1cnJlbnQtPm1tKSkNCj4gPj4+Pj4+
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQo+ID4+Pj4+Pj4g
KyAgICAgICAgICAgICB9DQo+ID4+Pj4+Pj4gKyAgICAgfQ0KPiA+Pj4+Pj4+ICsNCj4gPj4+Pj4+
PiArICAgICAvKiBDaGVjayBieSBkaWZmZXJlbnQgbWVtIHR5cGUuICovDQo+ID4+Pj4+Pj4gKyAg
ICAgaWYgKCFhbWRncHVfdHRtX21lbV9ldmljdGlvbl92YWx1YWJsZShibywgcGxhY2UpKQ0KPiA+
Pj4+Pj4+ICsgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KPiA+Pj4+Pj4+ICsNCj4gPj4+Pj4+
PiArICAgICAvKiBWTSBibyBzaG91bGQgYmUgY2hlY2tlZCBhdCBsYXN0IGJlY2F1c2UgaXQgd2ls
bCBtYXJrIFZNIGV2aWN0aW5nLiAqLw0KPiA+Pj4+Pj4+ICsgICAgIGlmIChiby0+dHlwZSA9PSB0
dG1fYm9fdHlwZV9rZXJuZWwpDQo+ID4+Pj4+Pj4gKyAgICAgICAgICAgICByZXR1cm4gYW1kZ3B1
X3ZtX2V2aWN0YWJsZSh0dG1fdG9fYW1kZ3B1X2JvKGJvKSk7DQo+ID4+Pj4+Pj4gKw0KPiA+Pj4+
Pj4+ICsgICAgIHJldHVybiB0cnVlOw0KPiA+Pj4+Pj4+ICAgICAgfQ0KPiA+Pj4+Pj4+DQo+ID4+
Pj4+Pj4gICAgICBzdGF0aWMgdm9pZCBhbWRncHVfdHRtX3ZyYW1fbW1fYWNjZXNzKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCBsb2ZmX3QgcG9zLA0KPg0KX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KTGluYXJvLW1tLXNpZyBtYWlsaW5nIGxpc3QgLS0g
bGluYXJvLW1tLXNpZ0BsaXN0cy5saW5hcm8ub3JnClRvIHVuc3Vic2NyaWJlIHNlbmQgYW4gZW1h
aWwgdG8gbGluYXJvLW1tLXNpZy1sZWF2ZUBsaXN0cy5saW5hcm8ub3JnCg==
