Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id 2C8B49EAC54
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 10 Dec 2024 10:36:49 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id A2F5C43F81
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 10 Dec 2024 09:36:47 +0000 (UTC)
Received: from dfw.source.kernel.org (dfw.source.kernel.org [139.178.84.217])
	by lists.linaro.org (Postfix) with ESMTPS id 0CBAD43F81
	for <linaro-mm-sig@lists.linaro.org>; Tue, 10 Dec 2024 09:36:39 +0000 (UTC)
Authentication-Results: lists.linaro.org;
	dkim=pass header.d=linuxfoundation.org header.s=korg header.b="1O4rioS/";
	spf=pass (lists.linaro.org: domain of gregkh@linuxfoundation.org designates 139.178.84.217 as permitted sender) smtp.mailfrom=gregkh@linuxfoundation.org;
	dmarc=pass (policy=none) header.from=linuxfoundation.org
Received: from smtp.kernel.org (transwarp.subspace.kernel.org [100.75.92.58])
	by dfw.source.kernel.org (Postfix) with ESMTP id 297CC5C48B5;
	Tue, 10 Dec 2024 09:35:56 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 1AE87C4CEE1;
	Tue, 10 Dec 2024 09:36:37 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=linuxfoundation.org;
	s=korg; t=1733823398;
	bh=+XMUMMRXUL8hmPejDf5E2gUweQynrDjB7ekgMvMr9qQ=;
	h=Subject:To:Cc:From:Date:From;
	b=1O4rioS/lS5lm+Be0tSIGEXzIhn9MWtw1TJcyT2WasG93OtaSdtGX9q4BeklpGBtt
	 wOyT0UtHtk4P/bA45cmcQi1fk2oIMeP6IVm2WlGX4RRHtXaR7Sl9X955NzTE23UWi9
	 RY8W0qEvI4KhZfLwIe+Aq7dcVmdk350deTLqnUHA=
To: 20241024124159.4519-3-christian.koenig@amd.com,christian.koenig@amd.com,daniel.vetter@ffwll.ch,dri-devel@lists.freedesktop.org,friedrich.vock@gmx.de,gregkh@linuxfoundation.org,gustavo@padovan.org,linaro-mm-sig@lists.linaro.org,sumit.semwal@linaro.org,tvrtko.ursulin@igalia.com
From: <gregkh@linuxfoundation.org>
Date: Tue, 10 Dec 2024 10:35:43 +0100
Message-ID: <2024121043-steadily-tissue-9e9e@gregkh>
MIME-Version: 1.0
X-stable: commit
X-Patchwork-Hint: ignore
X-Rspamd-Queue-Id: 0CBAD43F81
X-Spamd-Bar: /
X-Spamd-Result: default: False [-0.50 / 15.00];
	MID_END_EQ_FROM_USER_PART(4.00)[];
	BAYES_HAM(-3.00)[100.00%];
	RBL_SENDERSCORE_REPUT_9(-1.00)[139.178.84.217:from];
	MID_RHS_NOT_FQDN(0.50)[];
	DMARC_POLICY_ALLOW(-0.50)[linuxfoundation.org,none];
	R_SPF_ALLOW(-0.20)[+ip4:139.178.84.217];
	R_DKIM_ALLOW(-0.20)[linuxfoundation.org:s=korg];
	MIME_GOOD(-0.10)[text/plain];
	MISSING_XM_UA(0.00)[];
	ARC_NA(0.00)[];
	MIME_TRACE(0.00)[0:+];
	ASN(0.00)[asn:54825, ipnet:139.178.80.0/21, country:US];
	RCVD_VIA_SMTP_AUTH(0.00)[];
	FROM_NO_DN(0.00)[];
	TO_MATCH_ENVRCPT_SOME(0.00)[];
	FREEMAIL_TO(0.00)[amd.com,ffwll.ch,lists.freedesktop.org,gmx.de,linuxfoundation.org,padovan.org,lists.linaro.org,linaro.org,igalia.com];
	RCPT_COUNT_SEVEN(0.00)[11];
	FROM_EQ_ENVFROM(0.00)[];
	RCVD_TLS_LAST(0.00)[];
	TO_DN_NONE(0.00)[];
	NEURAL_HAM(-0.00)[-1.000];
	URIBL_BLOCKED(0.00)[dfw.source.kernel.org:rdns,dfw.source.kernel.org:helo];
	RCVD_COUNT_TWO(0.00)[2];
	DKIM_TRACE(0.00)[linuxfoundation.org:+]
X-Rspamd-Action: no action
X-Rspamd-Server: lists.linaro.org
Message-ID-Hash: U4ANQRHSXGCABIZWKPCGSJE6SKF7C2ZX
X-Message-ID-Hash: U4ANQRHSXGCABIZWKPCGSJE6SKF7C2ZX
X-MailFrom: gregkh@linuxfoundation.org
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: stable-commits@vger.kernel.org
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Patch "dma-fence: Use kernel's sort for merging fences" has been added to the 6.1-stable tree
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/U4ANQRHSXGCABIZWKPCGSJE6SKF7C2ZX/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

DQpUaGlzIGlzIGEgbm90ZSB0byBsZXQgeW91IGtub3cgdGhhdCBJJ3ZlIGp1c3QgYWRkZWQgdGhl
IHBhdGNoIHRpdGxlZA0KDQogICAgZG1hLWZlbmNlOiBVc2Uga2VybmVsJ3Mgc29ydCBmb3IgbWVy
Z2luZyBmZW5jZXMNCg0KdG8gdGhlIDYuMS1zdGFibGUgdHJlZSB3aGljaCBjYW4gYmUgZm91bmQg
YXQ6DQogICAgaHR0cDovL3d3dy5rZXJuZWwub3JnL2dpdC8/cD1saW51eC9rZXJuZWwvZ2l0L3N0
YWJsZS9zdGFibGUtcXVldWUuZ2l0O2E9c3VtbWFyeQ0KDQpUaGUgZmlsZW5hbWUgb2YgdGhlIHBh
dGNoIGlzOg0KICAgICBkbWEtZmVuY2UtdXNlLWtlcm5lbC1zLXNvcnQtZm9yLW1lcmdpbmctZmVu
Y2VzLnBhdGNoDQphbmQgaXQgY2FuIGJlIGZvdW5kIGluIHRoZSBxdWV1ZS02LjEgc3ViZGlyZWN0
b3J5Lg0KDQpJZiB5b3UsIG9yIGFueW9uZSBlbHNlLCBmZWVscyBpdCBzaG91bGQgbm90IGJlIGFk
ZGVkIHRvIHRoZSBzdGFibGUgdHJlZSwNCnBsZWFzZSBsZXQgPHN0YWJsZUB2Z2VyLmtlcm5lbC5v
cmc+IGtub3cgYWJvdXQgaXQuDQoNCg0KPkZyb20gZmU1MmM2NDk0MzhiODQ4OWM5NDU2NjgxZDkz
YTliM2RlM2QzODI2MyBNb24gU2VwIDE3IDAwOjAwOjAwIDIwMDENCkZyb206IFR2cnRrbyBVcnN1
bGluIDx0dnJ0a28udXJzdWxpbkBpZ2FsaWEuY29tPg0KRGF0ZTogRnJpLCAxNSBOb3YgMjAyNCAx
MDoyMTo1MCArMDAwMA0KU3ViamVjdDogZG1hLWZlbmNlOiBVc2Uga2VybmVsJ3Mgc29ydCBmb3Ig
bWVyZ2luZyBmZW5jZXMNCk1JTUUtVmVyc2lvbjogMS4wDQpDb250ZW50LVR5cGU6IHRleHQvcGxh
aW47IGNoYXJzZXQ9VVRGLTgNCkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IDhiaXQNCg0KRnJv
bTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGlnYWxpYS5jb20+DQoNCmNvbW1pdCBm
ZTUyYzY0OTQzOGI4NDg5Yzk0NTY2ODFkOTNhOWIzZGUzZDM4MjYzIHVwc3RyZWFtLg0KDQpPbmUg
YWx0ZXJuYXRpdmUgdG8gdGhlIGZpeCBDaHJpc3RpYW4gcHJvcG9zZWQgaW4NCmh0dHBzOi8vbG9y
ZS5rZXJuZWwub3JnL2RyaS1kZXZlbC8yMDI0MTAyNDEyNDE1OS40NTE5LTMtY2hyaXN0aWFuLmtv
ZW5pZ0BhbWQuY29tLw0KaXMgdG8gcmVwbGFjZSB0aGUgcmF0aGVyIGNvbXBsZXggb3BlbiBjb2Rl
ZCBzb3J0aW5nIGxvb3BzIHdpdGggdGhlIGtlcm5lbA0Kc3RhbmRhcmQgc29ydCBmb2xsb3dlZCBi
eSBhIGNvbnRleHQgc3F1YXNoaW5nIHBhc3MuDQoNClByb3Bvc2VkIGFkdmFudGFnZSBvZiB0aGlz
IHdvdWxkIGJlIHJlYWRhYmlsaXR5IGJ1dCBvbmUgY29uY2VybiBDaHJpc3RpYW4NCnJhaXNlZCB3
YXMgdGhhdCB0aGVyZSBjb3VsZCBiZSBtYW55IGZlbmNlcywgdGhhdCB0aGV5IGFyZSB0eXBpY2Fs
bHkgbW9zdGx5DQpzb3J0ZWQsIGFuZCBzbyB0aGUga2VybmVsJ3MgaGVhcCBzb3J0IHdvdWxkIGJl
IG11Y2ggd29yc2UgYnkgdGhlIHByb3Bvc2VkDQphbGdvcml0aG0uDQoNCkkgaGFkIGEgbG9vayBy
dW5uaW5nIHNvbWUgZ2FtZXMgYW5kIHZrY3ViZSB0byBzZWUgd2hhdCBhcmUgdGhlIHR5cGljYWwN
Cm51bWJlciBvZiBpbnB1dCBmZW5jZXMuIFRlc3RlZCBzY2VuYXJpb3M6DQoNCjEpIEhvZ3dhcnRz
IExlZ2FjeSB1bmRlciBHYW1lc2NvcGUNCg0KNDUwIGNhbGxzIHBlciBzZWNvbmQgdG8gX19kbWFf
ZmVuY2VfdW53cmFwX21lcmdlLg0KDQpQZXJjZW50YWdlcyBwZXIgbnVtYmVyIG9mIGZlbmNlcyBi
dWNrZXRzLCBiZWZvcmUgYW5kIGFmdGVyIGNoZWNraW5nIGZvcg0Kc2lnbmFsbGVkIHN0YXR1cywg
c29ydGluZyBhbmQgZmxhdHRlbmluZzoNCg0KICAgTiAgICAgICBCZWZvcmUgICAgICBBZnRlcg0K
ICAgMCAgICAgICAwLjkxJQ0KICAgMSAgICAgIDY5LjQwJQ0KICAyLTMgICAgIDI4LjcyJSAgICAg
ICA5LjQlICAoOTAuNiUgcmVzb2x2ZWQgdG8gb25lIGZlbmNlKQ0KICA0LTUgICAgICAwLjkzJQ0K
ICA2LTkgICAgICAwLjAzJQ0KICAxMCsNCg0KMikgQ3liZXJwdW5rIDIwNzcgdW5kZXIgR2FtZXNj
b3BlDQoNCjEwNTAgY2FsbHMgcGVyIHNlY29uZCwgYW1vdW50aW5nIHRvIDAuMDElIENQVSB0aW1l
IGFjY29yZGluZyB0byBwZXJmIHRvcC4NCg0KICAgTiAgICAgICBCZWZvcmUgICAgICBBZnRlcg0K
ICAgMCAgICAgICAxLjEzJQ0KICAgMSAgICAgIDUyLjMwJQ0KICAyLTMgICAgIDQwLjM0JSAgICAg
ICA1NS41NyUNCiAgNC01ICAgICAgMS40NiUgICAgICAgIDAuNTAlDQogIDYtOSAgICAgIDIuNDQl
DQogIDEwKyAgICAgIDIuMzQlDQoNCjMpIHZrY3ViZSB1bmRlciBQbGFzbWENCg0KOTAgY2FsbHMg
cGVyIHNlY29uZC4NCg0KICAgTiAgICAgICBCZWZvcmUgICAgICBBZnRlcg0KICAgMA0KICAgMQ0K
ICAyLTMgICAgICAxMDAlICAgICAgICAgMCUgICAoSWUuIGFsbCByZXNvbHZlZCB0byBhIHNpbmds
ZSBmZW5jZSkNCiAgNC01DQogIDYtOQ0KICAxMCsNCg0KSW4gdGhlIGNhc2Ugb2YgdmtjdWJlIGFs
bCBpbnZvY2F0aW9ucyBpbiB0aGUgMi0zIGJ1Y2tldCB3ZXJlIGFjdHVhbGx5DQpqdXN0IHR3byBp
bnB1dCBmZW5jZXMuDQoNCj5Gcm9tIHRoZXNlIG51bWJlcnMgaXQgbG9va3MgbGlrZSB0aGUgaGVh
cCBzb3J0IHNob3VsZCBub3QgYmUgYQ0KZGlzYWR2YW50YWdlLCBnaXZlbiBob3cgdGhlIGRvbWlu
YW50IGNhc2UgaXMgPD0gMiBpbnB1dCBmZW5jZXMgd2hpY2ggaGVhcA0Kc29ydCBzb2x2ZXMgd2l0
aCBqdXN0IG9uZSBjb21wYXJlIGFuZCBzd2FwLiAoQW5kIGZvciB0aGUgY2FzZSBvZiBvbmUgaW5w
dXQNCmZlbmNlIHdlIGhhdmUgYSBmYXN0IHBhdGggaW4gdGhlIHByZXZpb3VzIHBhdGNoLikNCg0K
QSBjb21wbGVtZW50YXJ5IHBvc3NpYmlsaXR5IGlzIHRvIGltcGxlbWVudCBhIGRpZmZlcmVudCBz
b3J0aW5nIGFsZ29yaXRobQ0KdW5kZXIgdGhlIHNhbWUgQVBJIGFzIHRoZSBrZXJuZWwncyBzb3J0
KCkgYW5kIHNvIGtlZXAgdGhlIHNpbXBsaWNpdHksDQpwb3RlbnRpYWxseSBtb3ZpbmcgdGhlIG5l
dyBzb3J0IHVuZGVyIGxpYi8gaWYgaXQgd291bGQgYmUgZm91bmQgbW9yZQ0Kd2lkZWx5IHVzZWZ1
bC4NCg0KdjI6DQogKiBIb2xkIG9uIHRvIGZlbmNlIHJlZmVyZW5jZXMgYW5kIHJlZHVjZSBjb21t
ZW50YXJ5LiAoQ2hyaXN0aWFuKQ0KICogUmVjb3JkIGFuZCB1c2UgbGF0ZXN0IHNpZ25hbGVkIHRp
bWVzdGFtcCBpbiB0aGUgMm5kIGxvb3AgdG9vLg0KICogQ29uc29saWRhdGUgemVybyBvciBvbmUg
ZmVuY2VzIGZhc3QgcGF0aHMuDQoNCnYzOg0KICogUmV2ZXJzZSB0aGUgc2Vxbm8gc29ydCBvcmRl
ciBmb3IgYSBzaW1wbGVyIHNxdWFzaGluZyBwYXNzLiAoQ2hyaXN0aWFuKQ0KDQpTaWduZWQtb2Zm
LWJ5OiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaWdhbGlhLmNvbT4NCkZpeGVzOiAy
NDVhNGE3YjUzMWMgKCJkbWEtYnVmOiBnZW5lcmFsaXplIGRtYV9mZW5jZSB1bndyYXAgJiBtZXJn
aW5nIHYzIikNCkNsb3NlczogaHR0cHM6Ly9naXRsYWIuZnJlZWRlc2t0b3Aub3JnL2RybS9hbWQv
LS9pc3N1ZXMvMzYxNw0KQ2M6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1k
LmNvbT4NCkNjOiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPg0KQ2M6IFN1
bWl0IFNlbXdhbCA8c3VtaXQuc2Vtd2FsQGxpbmFyby5vcmc+DQpDYzogR3VzdGF2byBQYWRvdmFu
IDxndXN0YXZvQHBhZG92YW4ub3JnPg0KQ2M6IEZyaWVkcmljaCBWb2NrIDxmcmllZHJpY2gudm9j
a0BnbXguZGU+DQpDYzogbGludXgtbWVkaWFAdmdlci5rZXJuZWwub3JnDQpDYzogZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KQ2M6IGxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9y
Zw0KQ2M6IDxzdGFibGVAdmdlci5rZXJuZWwub3JnPiAjIHY2LjArDQpSZXZpZXdlZC1ieTogQ2hy
aXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPg0KU2lnbmVkLW9mZi1ieTog
Q2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPg0KTGluazogaHR0cHM6
Ly9wYXRjaHdvcmsuZnJlZWRlc2t0b3Aub3JnL3BhdGNoL21zZ2lkLzIwMjQxMTE1MTAyMTUzLjE5
ODAtMy10dXJzdWxpbkBpZ2FsaWEuY29tDQpTaWduZWQtb2ZmLWJ5OiBHcmVnIEtyb2FoLUhhcnRt
YW4gPGdyZWdraEBsaW51eGZvdW5kYXRpb24ub3JnPg0KLS0tDQogZHJpdmVycy9kbWEtYnVmL2Rt
YS1mZW5jZS11bndyYXAuYyB8IDEyOCArKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tLQ0KIDEg
ZmlsZSBjaGFuZ2VkLCA2MSBpbnNlcnRpb25zKCspLCA2NyBkZWxldGlvbnMoLSkNCg0KZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtZmVuY2UtdW53cmFwLmMgYi9kcml2ZXJzL2RtYS1i
dWYvZG1hLWZlbmNlLXVud3JhcC5jDQppbmRleCBiMTlkMGFkZjYwODYuLjYzNDUwNjI3MzFmMSAx
MDA2NDQNCi0tLSBhL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtZmVuY2UtdW53cmFwLmMNCisrKyBiL2Ry
aXZlcnMvZG1hLWJ1Zi9kbWEtZmVuY2UtdW53cmFwLmMNCkBAIC0xMiw2ICsxMiw3IEBADQogI2lu
Y2x1ZGUgPGxpbnV4L2RtYS1mZW5jZS1jaGFpbi5oPg0KICNpbmNsdWRlIDxsaW51eC9kbWEtZmVu
Y2UtdW53cmFwLmg+DQogI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4NCisjaW5jbHVkZSA8bGludXgv
c29ydC5oPg0KIA0KIC8qIEludGVybmFsIGhlbHBlciB0byBzdGFydCBuZXcgYXJyYXkgaXRlcmF0
aW9uLCBkb24ndCB1c2UgZGlyZWN0bHkgKi8NCiBzdGF0aWMgc3RydWN0IGRtYV9mZW5jZSAqDQpA
QCAtNTksNiArNjAsMjUgQEAgc3RydWN0IGRtYV9mZW5jZSAqZG1hX2ZlbmNlX3Vud3JhcF9uZXh0
KHN0cnVjdCBkbWFfZmVuY2VfdW53cmFwICpjdXJzb3IpDQogfQ0KIEVYUE9SVF9TWU1CT0xfR1BM
KGRtYV9mZW5jZV91bndyYXBfbmV4dCk7DQogDQorDQorc3RhdGljIGludCBmZW5jZV9jbXAoY29u
c3Qgdm9pZCAqX2EsIGNvbnN0IHZvaWQgKl9iKQ0KK3sNCisJc3RydWN0IGRtYV9mZW5jZSAqYSA9
ICooc3RydWN0IGRtYV9mZW5jZSAqKilfYTsNCisJc3RydWN0IGRtYV9mZW5jZSAqYiA9ICooc3Ry
dWN0IGRtYV9mZW5jZSAqKilfYjsNCisNCisJaWYgKGEtPmNvbnRleHQgPCBiLT5jb250ZXh0KQ0K
KwkJcmV0dXJuIC0xOw0KKwllbHNlIGlmIChhLT5jb250ZXh0ID4gYi0+Y29udGV4dCkNCisJCXJl
dHVybiAxOw0KKw0KKwlpZiAoZG1hX2ZlbmNlX2lzX2xhdGVyKGIsIGEpKQ0KKwkJcmV0dXJuIDE7
DQorCWVsc2UgaWYgKGRtYV9mZW5jZV9pc19sYXRlcihhLCBiKSkNCisJCXJldHVybiAtMTsNCisN
CisJcmV0dXJuIDA7DQorfQ0KKw0KIC8qIEltcGxlbWVudGF0aW9uIGZvciB0aGUgZG1hX2ZlbmNl
X21lcmdlKCkgbWFyY28sIGRvbid0IHVzZSBkaXJlY3RseSAqLw0KIHN0cnVjdCBkbWFfZmVuY2Ug
Kl9fZG1hX2ZlbmNlX3Vud3JhcF9tZXJnZSh1bnNpZ25lZCBpbnQgbnVtX2ZlbmNlcywNCiAJCQkJ
CSAgIHN0cnVjdCBkbWFfZmVuY2UgKipmZW5jZXMsDQpAQCAtNjcsOCArODcsNyBAQCBzdHJ1Y3Qg
ZG1hX2ZlbmNlICpfX2RtYV9mZW5jZV91bndyYXBfbWVyZ2UodW5zaWduZWQgaW50IG51bV9mZW5j
ZXMsDQogCXN0cnVjdCBkbWFfZmVuY2VfYXJyYXkgKnJlc3VsdDsNCiAJc3RydWN0IGRtYV9mZW5j
ZSAqdG1wLCAqKmFycmF5Ow0KIAlrdGltZV90IHRpbWVzdGFtcDsNCi0JdW5zaWduZWQgaW50IGk7
DQotCXNpemVfdCBjb3VudDsNCisJaW50IGksIGosIGNvdW50Ow0KIA0KIAljb3VudCA9IDA7DQog
CXRpbWVzdGFtcCA9IG5zX3RvX2t0aW1lKDApOw0KQEAgLTk2LDgwICsxMTUsNTUgQEAgc3RydWN0
IGRtYV9mZW5jZSAqX19kbWFfZmVuY2VfdW53cmFwX21lcmdlKHVuc2lnbmVkIGludCBudW1fZmVu
Y2VzLA0KIAlpZiAoIWFycmF5KQ0KIAkJcmV0dXJuIE5VTEw7DQogDQotCS8qDQotCSAqIFRoaXMg
dHJhc2hlcyB0aGUgaW5wdXQgZmVuY2UgYXJyYXkgYW5kIHVzZXMgaXQgYXMgcG9zaXRpb24gZm9y
IHRoZQ0KLQkgKiBmb2xsb3dpbmcgbWVyZ2UgbG9vcC4gVGhpcyB3b3JrcyBiZWNhdXNlIHRoZSBk
bWFfZmVuY2VfbWVyZ2UoKQ0KLQkgKiB3cmFwcGVyIG1hY3JvIGlzIGNyZWF0aW5nIHRoaXMgdGVt
cG9yYXJ5IGFycmF5IG9uIHRoZSBzdGFjayB0b2dldGhlcg0KLQkgKiB3aXRoIHRoZSBpdGVyYXRv
cnMuDQotCSAqLw0KLQlmb3IgKGkgPSAwOyBpIDwgbnVtX2ZlbmNlczsgKytpKQ0KLQkJZmVuY2Vz
W2ldID0gZG1hX2ZlbmNlX3Vud3JhcF9maXJzdChmZW5jZXNbaV0sICZpdGVyW2ldKTsNCi0NCiAJ
Y291bnQgPSAwOw0KLQlkbyB7DQotCQl1bnNpZ25lZCBpbnQgc2VsOw0KLQ0KLXJlc3RhcnQ6DQot
CQl0bXAgPSBOVUxMOw0KLQkJZm9yIChpID0gMDsgaSA8IG51bV9mZW5jZXM7ICsraSkgew0KLQkJ
CXN0cnVjdCBkbWFfZmVuY2UgKm5leHQ7DQotDQotCQkJd2hpbGUgKGZlbmNlc1tpXSAmJiBkbWFf
ZmVuY2VfaXNfc2lnbmFsZWQoZmVuY2VzW2ldKSkNCi0JCQkJZmVuY2VzW2ldID0gZG1hX2ZlbmNl
X3Vud3JhcF9uZXh0KCZpdGVyW2ldKTsNCi0NCi0JCQluZXh0ID0gZmVuY2VzW2ldOw0KLQkJCWlm
ICghbmV4dCkNCi0JCQkJY29udGludWU7DQotDQotCQkJLyoNCi0JCQkgKiBXZSBjYW4ndCBndWFy
YW50ZWUgdGhhdCBpbnB1dGUgZmVuY2VzIGFyZSBvcmRlcmVkIGJ5DQotCQkJICogY29udGV4dCwg
YnV0IGl0IGlzIHN0aWxsIHF1aXRlIGxpa2VseSB3aGVuIHRoaXMNCi0JCQkgKiBmdW5jdGlvbiBp
cyB1c2VkIG11bHRpcGxlIHRpbWVzLiBTbyBhdHRlbXB0IHRvIG9yZGVyDQotCQkJICogdGhlIGZl
bmNlcyBieSBjb250ZXh0IGFzIHdlIHBhc3Mgb3ZlciB0aGVtIGFuZCBtZXJnZQ0KLQkJCSAqIGZl
bmNlcyB3aXRoIHRoZSBzYW1lIGNvbnRleHQuDQotCQkJICovDQotCQkJaWYgKCF0bXAgfHwgdG1w
LT5jb250ZXh0ID4gbmV4dC0+Y29udGV4dCkgew0KLQkJCQl0bXAgPSBuZXh0Ow0KLQkJCQlzZWwg
PSBpOw0KLQ0KLQkJCX0gZWxzZSBpZiAodG1wLT5jb250ZXh0IDwgbmV4dC0+Y29udGV4dCkgew0K
LQkJCQljb250aW51ZTsNCi0NCi0JCQl9IGVsc2UgaWYgKGRtYV9mZW5jZV9pc19sYXRlcih0bXAs
IG5leHQpKSB7DQotCQkJCWZlbmNlc1tpXSA9IGRtYV9mZW5jZV91bndyYXBfbmV4dCgmaXRlcltp
XSk7DQotCQkJCWdvdG8gcmVzdGFydDsNCisJZm9yIChpID0gMDsgaSA8IG51bV9mZW5jZXM7ICsr
aSkgew0KKwkJZG1hX2ZlbmNlX3Vud3JhcF9mb3JfZWFjaCh0bXAsICZpdGVyW2ldLCBmZW5jZXNb
aV0pIHsNCisJCQlpZiAoIWRtYV9mZW5jZV9pc19zaWduYWxlZCh0bXApKSB7DQorCQkJCWFycmF5
W2NvdW50KytdID0gZG1hX2ZlbmNlX2dldCh0bXApOw0KIAkJCX0gZWxzZSB7DQotCQkJCWZlbmNl
c1tzZWxdID0gZG1hX2ZlbmNlX3Vud3JhcF9uZXh0KCZpdGVyW3NlbF0pOw0KLQkJCQlnb3RvIHJl
c3RhcnQ7DQorCQkJCWt0aW1lX3QgdCA9IGRtYV9mZW5jZV90aW1lc3RhbXAodG1wKTsNCisNCisJ
CQkJaWYgKGt0aW1lX2FmdGVyKHQsIHRpbWVzdGFtcCkpDQorCQkJCQl0aW1lc3RhbXAgPSB0Ow0K
IAkJCX0NCiAJCX0NCi0NCi0JCWlmICh0bXApIHsNCi0JCQlhcnJheVtjb3VudCsrXSA9IGRtYV9m
ZW5jZV9nZXQodG1wKTsNCi0JCQlmZW5jZXNbc2VsXSA9IGRtYV9mZW5jZV91bndyYXBfbmV4dCgm
aXRlcltzZWxdKTsNCi0JCX0NCi0JfSB3aGlsZSAodG1wKTsNCi0NCi0JaWYgKGNvdW50ID09IDAp
IHsNCi0JCXRtcCA9IGRtYV9mZW5jZV9hbGxvY2F0ZV9wcml2YXRlX3N0dWIoa3RpbWVfZ2V0KCkp
Ow0KLQkJZ290byByZXR1cm5fdG1wOw0KIAl9DQogDQotCWlmIChjb3VudCA9PSAxKSB7DQotCQl0
bXAgPSBhcnJheVswXTsNCi0JCWdvdG8gcmV0dXJuX3RtcDsNCi0JfQ0KKwlpZiAoY291bnQgPT0g
MCB8fCBjb3VudCA9PSAxKQ0KKwkJZ290byByZXR1cm5fZmFzdHBhdGg7DQogDQotCXJlc3VsdCA9
IGRtYV9mZW5jZV9hcnJheV9jcmVhdGUoY291bnQsIGFycmF5LA0KLQkJCQkJZG1hX2ZlbmNlX2Nv
bnRleHRfYWxsb2MoMSksDQotCQkJCQkxLCBmYWxzZSk7DQotCWlmICghcmVzdWx0KSB7DQotCQlm
b3IgKGkgPSAwOyBpIDwgY291bnQ7IGkrKykNCisJc29ydChhcnJheSwgY291bnQsIHNpemVvZigq
YXJyYXkpLCBmZW5jZV9jbXAsIE5VTEwpOw0KKw0KKwkvKg0KKwkgKiBPbmx5IGtlZXAgdGhlIG1v
c3QgcmVjZW50IGZlbmNlIGZvciBlYWNoIGNvbnRleHQuDQorCSAqLw0KKwlqID0gMDsNCisJZm9y
IChpID0gMTsgaSA8IGNvdW50OyBpKyspIHsNCisJCWlmIChhcnJheVtpXS0+Y29udGV4dCA9PSBh
cnJheVtqXS0+Y29udGV4dCkNCiAJCQlkbWFfZmVuY2VfcHV0KGFycmF5W2ldKTsNCi0JCXRtcCA9
IE5VTEw7DQotCQlnb3RvIHJldHVybl90bXA7DQorCQllbHNlDQorCQkJYXJyYXlbKytqXSA9IGFy
cmF5W2ldOw0KIAl9DQotCXJldHVybiAmcmVzdWx0LT5iYXNlOw0KKwljb3VudCA9ICsrajsNCisN
CisJaWYgKGNvdW50ID4gMSkgew0KKwkJcmVzdWx0ID0gZG1hX2ZlbmNlX2FycmF5X2NyZWF0ZShj
b3VudCwgYXJyYXksDQorCQkJCQkJZG1hX2ZlbmNlX2NvbnRleHRfYWxsb2MoMSksDQorCQkJCQkJ
MSwgZmFsc2UpOw0KKwkJaWYgKCFyZXN1bHQpIHsNCisJCQlmb3IgKGkgPSAwOyBpIDwgY291bnQ7
IGkrKykNCisJCQkJZG1hX2ZlbmNlX3B1dChhcnJheVtpXSk7DQorCQkJdG1wID0gTlVMTDsNCisJ
CQlnb3RvIHJldHVybl90bXA7DQorCQl9DQorCQlyZXR1cm4gJnJlc3VsdC0+YmFzZTsNCisJfQ0K
Kw0KK3JldHVybl9mYXN0cGF0aDoNCisJaWYgKGNvdW50ID09IDApDQorCQl0bXAgPSBkbWFfZmVu
Y2VfYWxsb2NhdGVfcHJpdmF0ZV9zdHViKHRpbWVzdGFtcCk7DQorCWVsc2UNCisJCXRtcCA9IGFy
cmF5WzBdOw0KIA0KIHJldHVybl90bXA6DQogCWtmcmVlKGFycmF5KTsNCi0tIA0KMi40Ny4xDQoN
Cg0KDQpQYXRjaGVzIGN1cnJlbnRseSBpbiBzdGFibGUtcXVldWUgd2hpY2ggbWlnaHQgYmUgZnJv
bSB0dnJ0a28udXJzdWxpbkBpZ2FsaWEuY29tIGFyZQ0KDQpxdWV1ZS02LjEvZG1hLWZlbmNlLXVz
ZS1rZXJuZWwtcy1zb3J0LWZvci1tZXJnaW5nLWZlbmNlcy5wYXRjaA0KcXVldWUtNi4xL2RtYS1i
dWYtZml4LWRtYV9mZW5jZV9hcnJheV9zaWduYWxlZC12NC5wYXRjaA0KcXVldWUtNi4xL2RtYS1m
ZW5jZS1maXgtcmVmZXJlbmNlLWxlYWstb24tZmVuY2UtbWVyZ2UtZmFpbHVyZS1wYXRoLnBhdGNo
DQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW5hcm8t
bW0tc2lnIG1haWxpbmcgbGlzdCAtLSBsaW5hcm8tbW0tc2lnQGxpc3RzLmxpbmFyby5vcmcKVG8g
dW5zdWJzY3JpYmUgc2VuZCBhbiBlbWFpbCB0byBsaW5hcm8tbW0tc2lnLWxlYXZlQGxpc3RzLmxp
bmFyby5vcmcK
