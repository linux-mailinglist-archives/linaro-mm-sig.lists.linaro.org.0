Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 54B013BE593
	for <lists+linaro-mm-sig@lfdr.de>; Wed,  7 Jul 2021 11:26:26 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 33E676693C
	for <lists+linaro-mm-sig@lfdr.de>; Wed,  7 Jul 2021 09:26:25 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 103F566938; Wed,  7 Jul 2021 09:26:23 +0000 (UTC)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id C3F79617ED;
	Wed,  7 Jul 2021 09:26:20 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 5A61A610E8
 for <linaro-mm-sig@lists.linaro.org>; Wed,  7 Jul 2021 09:26:19 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 4EA0F617ED; Wed,  7 Jul 2021 09:26:19 +0000 (UTC)
Received: from mail-wm1-f41.google.com (mail-wm1-f41.google.com
 [209.85.128.41])
 by lists.linaro.org (Postfix) with ESMTPS id 43921610E8
 for <linaro-mm-sig@lists.linaro.org>; Wed,  7 Jul 2021 09:26:17 +0000 (UTC)
Received: by mail-wm1-f41.google.com with SMTP id
 h18-20020a05600c3512b029020e4ceb9588so3687428wmq.5
 for <linaro-mm-sig@lists.linaro.org>; Wed, 07 Jul 2021 02:26:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=i6ateux68cwXZsdBc8zadsGGhxWMAXIKASP34LjTC4I=;
 b=ZDYAGdXcYtKBYj5hoWHAvqP0cNkXhSYVNmcG1WaAn7/5zhLjD6casd36cF0ERO5WeY
 xEzt9xwPuYeVDOBWyexciZCplsvGYGsmn7TTcbXn2dsYm3AIeDn5eZifZt9w84TUPVcn
 yMRGHzdDlAhdk5KXylOEgiB216OuhaEat+j+aRgf0rmnGgm1X9yHoldQvDPSoFjDiw8s
 NOV01+vzU3w/iifg+Kbc5+0+LzLWPdwwpEyLThBP/3s0ztWhmpbUXR9uhA+4Yh5jXwzd
 ChPvmUNSk7MwUUYN/Snwk4xW4v/Q+XMlTHiUV0uXIOyBY0EI690r35l9BEkBQw3Juovd
 PEnQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=i6ateux68cwXZsdBc8zadsGGhxWMAXIKASP34LjTC4I=;
 b=pMck773Mq2XDBBRlWTNyTnIuvObw34svPCdqHScMrx7IX5w0tQR2aRtwCClIghpMXr
 29s3pXO0XEwDoByVvFOVs1Vjn0+d1jgLtzEzEnFFwp9lpUmg9UmA0YgDWHOLwPvfBbq5
 5Rq9S0Crk13R6oMzxo2iuzt/5nE7dvBClFNTkbxj7/NP/6FSBTCCmkBDPTvY8ZzJoC67
 4xXoAYTjQZB6HUf/a/BIlQdVv3oNZzA2tJLONfKXGr0Kiu/kPWabFSZEhMuBxfI4ZXIQ
 Mwbb4BpMPK23b4rSn0YDR47jg+aUkA1Wk1sqm/GkAmvdcm7sfeim55F5A/wsVSYRnQLj
 DgLQ==
X-Gm-Message-State: AOAM530Ieme5H8o4HewgWK2kbfrPabZ6pJXy4xLtSFdRnognF7wp0HXF
 EC/ugyZB6HvfhyMGr7E0sIA=
X-Google-Smtp-Source: ABdhPJy766y3TXDfJ0zZfeRf2ejXi+pLHGt6B99mdicjvF9LbhF8/XD23w3aPTBaVGMkgQlGnkYTlQ==
X-Received: by 2002:a05:600c:19c9:: with SMTP id
 u9mr25185000wmq.124.1625649976364; 
 Wed, 07 Jul 2021 02:26:16 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:7671:3328:2129:96b5?
 ([2a02:908:1252:fb60:7671:3328:2129:96b5])
 by smtp.gmail.com with ESMTPSA id x17sm4246968wru.6.2021.07.07.02.26.15
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Wed, 07 Jul 2021 02:26:15 -0700 (PDT)
To: Daniel Vetter <daniel.vetter@ffwll.ch>,
 DRI Development <dri-devel@lists.freedesktop.org>
References: <20210702213815.2249499-1-daniel.vetter@ffwll.ch>
 <20210702213815.2249499-3-daniel.vetter@ffwll.ch>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <f5d59915-af83-4076-c338-d4df68e7d8cd@gmail.com>
Date: Wed, 7 Jul 2021 11:26:14 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.11.0
MIME-Version: 1.0
In-Reply-To: <20210702213815.2249499-3-daniel.vetter@ffwll.ch>
Content-Language: en-US
X-Virus-Scanned: ClamAV using ClamSMTP
Subject: Re: [Linaro-mm-sig] [PATCH v2 02/11] drm/sched: Add dependency
 tracking
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Cc: Andrey Grodzovsky <andrey.grodzovsky@amd.com>,
 Jack Zhang <Jack.Zhang1@amd.com>, David Airlie <airlied@linux.ie>,
 Steven Price <steven.price@arm.com>, linaro-mm-sig@lists.linaro.org,
 Boris Brezillon <boris.brezillon@collabora.com>,
 Daniel Vetter <daniel@ffwll.ch>, Alex Deucher <alexander.deucher@amd.com>,
 Daniel Vetter <daniel.vetter@intel.com>, Nirmoy Das <nirmoy.aiemd@gmail.com>,
 Lee Jones <lee.jones@linaro.org>,
 =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>,
 Luben Tuikov <luben.tuikov@amd.com>, linux-media@vger.kernel.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

QW0gMDIuMDcuMjEgdW0gMjM6Mzggc2NocmllYiBEYW5pZWwgVmV0dGVyOgo+IEluc3RlYWQgb2Yg
anVzdCBhIGNhbGxiYWNrIHdlIGNhbiBqdXN0IGdsdWUgaW4gdGhlIGdlbSBoZWxwZXJzIHRoYXQK
PiBwYW5mcm9zdCwgdjNkIGFuZCBsaW1hIGN1cnJlbnRseSB1c2UuIFRoZXJlJ3MgcmVhbGx5IG5v
dCB0aGF0IG1hbnkKPiB3YXlzIHRvIHNraW4gdGhpcyBjYXQuCj4KPiBPbiB0aGUgbmFtaW5nIGJp
a2VzaGVkOiBUaGUgaWRlYSBmb3IgdXNpbmcgX2F3YWl0XyB0byBkZW5vdGUgYWRkaW5nCj4gZGVw
ZW5kZW5jaWVzIHRvIGEgam9iIGNvbWVzIGZyb20gaTkxNSwgd2hlcmUgdGhhdCdzIHVzZWQgcXVp
dGUKPiBleHRlbnNpdmVseSBhbGwgb3ZlciB0aGUgcGxhY2UsIGluIGxvdHMgb2YgZGF0YXN0cnVj
dHVyZXMuCj4KPiB2MjogUmViYXNlZC4KPgo+IFJldmlld2VkLWJ5OiBTdGV2ZW4gUHJpY2UgPHN0
ZXZlbi5wcmljZUBhcm0uY29tPiAodjEpCj4gU2lnbmVkLW9mZi1ieTogRGFuaWVsIFZldHRlciA8
ZGFuaWVsLnZldHRlckBpbnRlbC5jb20+Cj4gQ2M6IERhdmlkIEFpcmxpZSA8YWlybGllZEBsaW51
eC5pZT4KPiBDYzogRGFuaWVsIFZldHRlciA8ZGFuaWVsQGZmd2xsLmNoPgo+IENjOiBTdW1pdCBT
ZW13YWwgPHN1bWl0LnNlbXdhbEBsaW5hcm8ub3JnPgo+IENjOiAiQ2hyaXN0aWFuIEvDtm5pZyIg
PGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KPiBDYzogQW5kcmV5IEdyb2R6b3Zza3kgPGFuZHJl
eS5ncm9kem92c2t5QGFtZC5jb20+Cj4gQ2M6IExlZSBKb25lcyA8bGVlLmpvbmVzQGxpbmFyby5v
cmc+Cj4gQ2M6IE5pcm1veSBEYXMgPG5pcm1veS5haWVtZEBnbWFpbC5jb20+Cj4gQ2M6IEJvcmlz
IEJyZXppbGxvbiA8Ym9yaXMuYnJlemlsbG9uQGNvbGxhYm9yYS5jb20+Cj4gQ2M6IEx1YmVuIFR1
aWtvdiA8bHViZW4udHVpa292QGFtZC5jb20+Cj4gQ2M6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVy
LmRldWNoZXJAYW1kLmNvbT4KPiBDYzogSmFjayBaaGFuZyA8SmFjay5aaGFuZzFAYW1kLmNvbT4K
PiBDYzogbGludXgtbWVkaWFAdmdlci5rZXJuZWwub3JnCj4gQ2M6IGxpbmFyby1tbS1zaWdAbGlz
dHMubGluYXJvLm9yZwo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL3NjaGVkdWxlci9zY2hlZF9l
bnRpdHkuYyB8ICAxOCArKystCj4gICBkcml2ZXJzL2dwdS9kcm0vc2NoZWR1bGVyL3NjaGVkX21h
aW4uYyAgIHwgMTAzICsrKysrKysrKysrKysrKysrKysrKysrCj4gICBpbmNsdWRlL2RybS9ncHVf
c2NoZWR1bGVyLmggICAgICAgICAgICAgIHwgIDMxICsrKysrKy0KPiAgIDMgZmlsZXMgY2hhbmdl
ZCwgMTQ2IGluc2VydGlvbnMoKyksIDYgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL3NjaGVkdWxlci9zY2hlZF9lbnRpdHkuYyBiL2RyaXZlcnMvZ3B1L2RybS9z
Y2hlZHVsZXIvc2NoZWRfZW50aXR5LmMKPiBpbmRleCBmNzM0N2MyODQ4ODYuLmI2ZjcyZmFmZDUw
NCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vc2NoZWR1bGVyL3NjaGVkX2VudGl0eS5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3NjaGVkdWxlci9zY2hlZF9lbnRpdHkuYwo+IEBAIC0y
MTEsNiArMjExLDE5IEBAIHN0YXRpYyB2b2lkIGRybV9zY2hlZF9lbnRpdHlfa2lsbF9qb2JzX2Ni
KHN0cnVjdCBkbWFfZmVuY2UgKmYsCj4gICAJam9iLT5zY2hlZC0+b3BzLT5mcmVlX2pvYihqb2Ip
Owo+ICAgfQo+ICAgCj4gK3N0YXRpYyBzdHJ1Y3QgZG1hX2ZlbmNlICoKPiArZHJtX3NjaGVkX2pv
Yl9kZXBlbmRlbmN5KHN0cnVjdCBkcm1fc2NoZWRfam9iICpqb2IsCj4gKwkJCSBzdHJ1Y3QgZHJt
X3NjaGVkX2VudGl0eSAqZW50aXR5KQo+ICt7Cj4gKwlpZiAoIXhhX2VtcHR5KCZqb2ItPmRlcGVu
ZGVuY2llcykpCj4gKwkJcmV0dXJuIHhhX2VyYXNlKCZqb2ItPmRlcGVuZGVuY2llcywgam9iLT5s
YXN0X2RlcGVuZGVuY3krKyk7Cj4gKwo+ICsJaWYgKGpvYi0+c2NoZWQtPm9wcy0+ZGVwZW5kZW5j
eSkKPiArCQlyZXR1cm4gam9iLT5zY2hlZC0+b3BzLT5kZXBlbmRlbmN5KGpvYiwgZW50aXR5KTsK
PiArCj4gKwlyZXR1cm4gTlVMTDsKPiArfQo+ICsKPiAgIC8qKgo+ICAgICogZHJtX3NjaGVkX2Vu
dGl0eV9raWxsX2pvYnMgLSBNYWtlIHN1cmUgYWxsIHJlbWFpbmluZyBqb2JzIGFyZSBraWxsZWQK
PiAgICAqCj4gQEAgLTIyOSw3ICsyNDIsNyBAQCBzdGF0aWMgdm9pZCBkcm1fc2NoZWRfZW50aXR5
X2tpbGxfam9icyhzdHJ1Y3QgZHJtX3NjaGVkX2VudGl0eSAqZW50aXR5KQo+ICAgCQlzdHJ1Y3Qg
ZHJtX3NjaGVkX2ZlbmNlICpzX2ZlbmNlID0gam9iLT5zX2ZlbmNlOwo+ICAgCj4gICAJCS8qIFdh
aXQgZm9yIGFsbCBkZXBlbmRlbmNpZXMgdG8gYXZvaWQgZGF0YSBjb3JydXB0aW9ucyAqLwo+IC0J
CXdoaWxlICgoZiA9IGpvYi0+c2NoZWQtPm9wcy0+ZGVwZW5kZW5jeShqb2IsIGVudGl0eSkpKQo+
ICsJCXdoaWxlICgoZiA9IGRybV9zY2hlZF9qb2JfZGVwZW5kZW5jeShqb2IsIGVudGl0eSkpKQo+
ICAgCQkJZG1hX2ZlbmNlX3dhaXQoZiwgZmFsc2UpOwo+ICAgCj4gICAJCWRybV9zY2hlZF9mZW5j
ZV9zY2hlZHVsZWQoc19mZW5jZSk7Cj4gQEAgLTQxOSw3ICs0MzIsNiBAQCBzdGF0aWMgYm9vbCBk
cm1fc2NoZWRfZW50aXR5X2FkZF9kZXBlbmRlbmN5X2NiKHN0cnVjdCBkcm1fc2NoZWRfZW50aXR5
ICplbnRpdHkpCj4gICAgKi8KPiAgIHN0cnVjdCBkcm1fc2NoZWRfam9iICpkcm1fc2NoZWRfZW50
aXR5X3BvcF9qb2Ioc3RydWN0IGRybV9zY2hlZF9lbnRpdHkgKmVudGl0eSkKPiAgIHsKPiAtCXN0
cnVjdCBkcm1fZ3B1X3NjaGVkdWxlciAqc2NoZWQgPSBlbnRpdHktPnJxLT5zY2hlZDsKPiAgIAlz
dHJ1Y3QgZHJtX3NjaGVkX2pvYiAqc2NoZWRfam9iOwo+ICAgCj4gICAJc2NoZWRfam9iID0gdG9f
ZHJtX3NjaGVkX2pvYihzcHNjX3F1ZXVlX3BlZWsoJmVudGl0eS0+am9iX3F1ZXVlKSk7Cj4gQEAg
LTQyNyw3ICs0MzksNyBAQCBzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAqZHJtX3NjaGVkX2VudGl0eV9w
b3Bfam9iKHN0cnVjdCBkcm1fc2NoZWRfZW50aXR5ICplbnRpdHkpCj4gICAJCXJldHVybiBOVUxM
Owo+ICAgCj4gICAJd2hpbGUgKChlbnRpdHktPmRlcGVuZGVuY3kgPQo+IC0JCQlzY2hlZC0+b3Bz
LT5kZXBlbmRlbmN5KHNjaGVkX2pvYiwgZW50aXR5KSkpIHsKPiArCQkJZHJtX3NjaGVkX2pvYl9k
ZXBlbmRlbmN5KHNjaGVkX2pvYiwgZW50aXR5KSkpIHsKPiAgIAkJdHJhY2VfZHJtX3NjaGVkX2pv
Yl93YWl0X2RlcChzY2hlZF9qb2IsIGVudGl0eS0+ZGVwZW5kZW5jeSk7Cj4gICAKPiAgIAkJaWYg
KGRybV9zY2hlZF9lbnRpdHlfYWRkX2RlcGVuZGVuY3lfY2IoZW50aXR5KSkKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL3NjaGVkdWxlci9zY2hlZF9tYWluLmMgYi9kcml2ZXJzL2dwdS9k
cm0vc2NoZWR1bGVyL3NjaGVkX21haW4uYwo+IGluZGV4IDVlODRlMTUwMGMzMi4uMTJkNTMzNDg2
NTE4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9zY2hlZHVsZXIvc2NoZWRfbWFpbi5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3NjaGVkdWxlci9zY2hlZF9tYWluLmMKPiBAQCAtNjA1
LDYgKzYwNSw4IEBAIGludCBkcm1fc2NoZWRfam9iX2luaXQoc3RydWN0IGRybV9zY2hlZF9qb2Ig
KmpvYiwKPiAgIAo+ICAgCUlOSVRfTElTVF9IRUFEKCZqb2ItPmxpc3QpOwo+ICAgCj4gKwl4YV9p
bml0X2ZsYWdzKCZqb2ItPmRlcGVuZGVuY2llcywgWEFfRkxBR1NfQUxMT0MpOwo+ICsKPiAgIAly
ZXR1cm4gMDsKPiAgIH0KPiAgIEVYUE9SVF9TWU1CT0woZHJtX3NjaGVkX2pvYl9pbml0KTsKPiBA
QCAtNjI4LDYgKzYzMCw5OCBAQCB2b2lkIGRybV9zY2hlZF9qb2JfYXJtKHN0cnVjdCBkcm1fc2No
ZWRfam9iICpqb2IpCj4gICB9Cj4gICBFWFBPUlRfU1lNQk9MKGRybV9zY2hlZF9qb2JfYXJtKTsK
PiAgIAo+ICsvKioKPiArICogZHJtX3NjaGVkX2pvYl9hd2FpdF9mZW5jZSAtIGFkZHMgdGhlIGZl
bmNlIGFzIGEgam9iIGRlcGVuZGVuY3kKPiArICogQGpvYjogc2NoZWR1bGVyIGpvYiB0byBhZGQg
dGhlIGRlcGVuZGVuY2llcyB0bwo+ICsgKiBAZmVuY2U6IHRoZSBkbWFfZmVuY2UgdG8gYWRkIHRv
IHRoZSBsaXN0IG9mIGRlcGVuZGVuY2llcy4KPiArICoKPiArICogTm90ZSB0aGF0IEBmZW5jZSBp
cyBjb25zdW1lZCBpbiBib3RoIHRoZSBzdWNjZXNzIGFuZCBlcnJvciBjYXNlcy4KPiArICoKPiAr
ICogUmV0dXJuczoKPiArICogMCBvbiBzdWNjZXNzLCBvciBhbiBlcnJvciBvbiBmYWlsaW5nIHRv
IGV4cGFuZCB0aGUgYXJyYXkuCj4gKyAqLwo+ICtpbnQgZHJtX3NjaGVkX2pvYl9hd2FpdF9mZW5j
ZShzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAqam9iLAo+ICsJCQkgICAgICBzdHJ1Y3QgZG1hX2ZlbmNl
ICpmZW5jZSkKCkknbSBzdGlsbCBub3QgdmVyeSBrZWVuIGFib3V0IHRoZSBuYW1pbmcgImF3YWl0
IiwgY2FuJ3Qgd2UganVzdCBjYWxsIAp0aGlzIF9hZGRfZGVwZW5kZW5jeT8gYW5kIF9yZW1vdmVf
ZGVwZW5kZW5jeSgpID8KCkNocmlzdGlhbi4KCj4gK3sKPiArCXN0cnVjdCBkbWFfZmVuY2UgKmVu
dHJ5Owo+ICsJdW5zaWduZWQgbG9uZyBpbmRleDsKPiArCXUzMiBpZCA9IDA7Cj4gKwlpbnQgcmV0
Owo+ICsKPiArCWlmICghZmVuY2UpCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJLyogRGVkdXBsaWNh
dGUgaWYgd2UgYWxyZWFkeSBkZXBlbmQgb24gYSBmZW5jZSBmcm9tIHRoZSBzYW1lIGNvbnRleHQu
Cj4gKwkgKiBUaGlzIGxldHMgdGhlIHNpemUgb2YgdGhlIGFycmF5IG9mIGRlcHMgc2NhbGUgd2l0
aCB0aGUgbnVtYmVyIG9mCj4gKwkgKiBlbmdpbmVzIGludm9sdmVkLCByYXRoZXIgdGhhbiB0aGUg
bnVtYmVyIG9mIEJPcy4KPiArCSAqLwo+ICsJeGFfZm9yX2VhY2goJmpvYi0+ZGVwZW5kZW5jaWVz
LCBpbmRleCwgZW50cnkpIHsKPiArCQlpZiAoZW50cnktPmNvbnRleHQgIT0gZmVuY2UtPmNvbnRl
eHQpCj4gKwkJCWNvbnRpbnVlOwo+ICsKPiArCQlpZiAoZG1hX2ZlbmNlX2lzX2xhdGVyKGZlbmNl
LCBlbnRyeSkpIHsKPiArCQkJZG1hX2ZlbmNlX3B1dChlbnRyeSk7Cj4gKwkJCXhhX3N0b3JlKCZq
b2ItPmRlcGVuZGVuY2llcywgaW5kZXgsIGZlbmNlLCBHRlBfS0VSTkVMKTsKPiArCQl9IGVsc2Ug
ewo+ICsJCQlkbWFfZmVuY2VfcHV0KGZlbmNlKTsKPiArCQl9Cj4gKwkJcmV0dXJuIDA7Cj4gKwl9
Cj4gKwo+ICsJcmV0ID0geGFfYWxsb2MoJmpvYi0+ZGVwZW5kZW5jaWVzLCAmaWQsIGZlbmNlLCB4
YV9saW1pdF8zMmIsIEdGUF9LRVJORUwpOwo+ICsJaWYgKHJldCAhPSAwKQo+ICsJCWRtYV9mZW5j
ZV9wdXQoZmVuY2UpOwo+ICsKPiArCXJldHVybiByZXQ7Cj4gK30KPiArRVhQT1JUX1NZTUJPTChk
cm1fc2NoZWRfam9iX2F3YWl0X2ZlbmNlKTsKPiArCj4gKy8qKgo+ICsgKiBkcm1fc2NoZWRfam9i
X2F3YWl0X2ltcGxpY2l0IC0gYWRkcyBpbXBsaWNpdCBkZXBlbmRlbmNpZXMgYXMgam9iIGRlcGVu
ZGVuY2llcwo+ICsgKiBAam9iOiBzY2hlZHVsZXIgam9iIHRvIGFkZCB0aGUgZGVwZW5kZW5jaWVz
IHRvCj4gKyAqIEBvYmo6IHRoZSBnZW0gb2JqZWN0IHRvIGFkZCBuZXcgZGVwZW5kZW5jaWVzIGZy
b20uCj4gKyAqIEB3cml0ZTogd2hldGhlciB0aGUgam9iIG1pZ2h0IHdyaXRlIHRoZSBvYmplY3Qg
KHNvIHdlIG5lZWQgdG8gZGVwZW5kIG9uCj4gKyAqIHNoYXJlZCBmZW5jZXMgaW4gdGhlIHJlc2Vy
dmF0aW9uIG9iamVjdCkuCj4gKyAqCj4gKyAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciBk
cm1fZ2VtX2xvY2tfcmVzZXJ2YXRpb25zKCkgb24geW91ciBhcnJheSBvZgo+ICsgKiBHRU0gb2Jq
ZWN0cyB1c2VkIGluIHRoZSBqb2IgYnV0IGJlZm9yZSB1cGRhdGluZyB0aGUgcmVzZXJ2YXRpb25z
IHdpdGggeW91cgo+ICsgKiBvd24gZmVuY2VzLgo+ICsgKgo+ICsgKiBSZXR1cm5zOgo+ICsgKiAw
IG9uIHN1Y2Nlc3MsIG9yIGFuIGVycm9yIG9uIGZhaWxpbmcgdG8gZXhwYW5kIHRoZSBhcnJheS4K
PiArICovCj4gK2ludCBkcm1fc2NoZWRfam9iX2F3YWl0X2ltcGxpY2l0KHN0cnVjdCBkcm1fc2No
ZWRfam9iICpqb2IsCj4gKwkJCQkgc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmosCj4gKwkJCQkg
Ym9vbCB3cml0ZSkKPiArewo+ICsJaW50IHJldDsKPiArCXN0cnVjdCBkbWFfZmVuY2UgKipmZW5j
ZXM7Cj4gKwl1bnNpZ25lZCBpbnQgaSwgZmVuY2VfY291bnQ7Cj4gKwo+ICsJaWYgKCF3cml0ZSkg
ewo+ICsJCXN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlID0gZG1hX3Jlc3ZfZ2V0X2V4Y2xfdW5sb2Nr
ZWQob2JqLT5yZXN2KTsKPiArCj4gKwkJcmV0dXJuIGRybV9zY2hlZF9qb2JfYXdhaXRfZmVuY2Uo
am9iLCBmZW5jZSk7Cj4gKwl9Cj4gKwo+ICsJcmV0ID0gZG1hX3Jlc3ZfZ2V0X2ZlbmNlcyhvYmot
PnJlc3YsIE5VTEwsICZmZW5jZV9jb3VudCwgJmZlbmNlcyk7Cj4gKwlpZiAocmV0IHx8ICFmZW5j
ZV9jb3VudCkKPiArCQlyZXR1cm4gcmV0Owo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCBmZW5jZV9j
b3VudDsgaSsrKSB7Cj4gKwkJcmV0ID0gZHJtX3NjaGVkX2pvYl9hd2FpdF9mZW5jZShqb2IsIGZl
bmNlc1tpXSk7Cj4gKwkJaWYgKHJldCkKPiArCQkJYnJlYWs7Cj4gKwl9Cj4gKwo+ICsJZm9yICg7
IGkgPCBmZW5jZV9jb3VudDsgaSsrKQo+ICsJCWRtYV9mZW5jZV9wdXQoZmVuY2VzW2ldKTsKPiAr
CWtmcmVlKGZlbmNlcyk7Cj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4gK0VYUE9SVF9TWU1CT0woZHJt
X3NjaGVkX2pvYl9hd2FpdF9pbXBsaWNpdCk7Cj4gKwo+ICsKPiAgIC8qKgo+ICAgICogZHJtX3Nj
aGVkX2pvYl9jbGVhbnVwIC0gY2xlYW4gdXAgc2NoZWR1bGVyIGpvYiByZXNvdXJjZXMKPiAgICAq
IEBqb2I6IHNjaGVkdWxlciBqb2IgdG8gY2xlYW4gdXAKPiBAQCAtNjQzLDYgKzczNyw5IEBAIEVY
UE9SVF9TWU1CT0woZHJtX3NjaGVkX2pvYl9hcm0pOwo+ICAgICovCj4gICB2b2lkIGRybV9zY2hl
ZF9qb2JfY2xlYW51cChzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAqam9iKQo+ICAgewo+ICsJc3RydWN0
IGRtYV9mZW5jZSAqZmVuY2U7Cj4gKwl1bnNpZ25lZCBsb25nIGluZGV4Owo+ICsKPiAgIAlpZiAo
IWtyZWZfcmVhZCgmam9iLT5zX2ZlbmNlLT5maW5pc2hlZC5yZWZjb3VudCkpIHsKPiAgIAkJLyog
ZHJtX3NjaGVkX2pvYl9hcm0oKSBoYXMgYmVlbiBjYWxsZWQgKi8KPiAgIAkJZG1hX2ZlbmNlX3B1
dCgmam9iLT5zX2ZlbmNlLT5maW5pc2hlZCk7Cj4gQEAgLTY1Miw2ICs3NDksMTIgQEAgdm9pZCBk
cm1fc2NoZWRfam9iX2NsZWFudXAoc3RydWN0IGRybV9zY2hlZF9qb2IgKmpvYikKPiAgIAl9Cj4g
ICAKPiAgIAlqb2ItPnNfZmVuY2UgPSBOVUxMOwo+ICsKPiArCXhhX2Zvcl9lYWNoKCZqb2ItPmRl
cGVuZGVuY2llcywgaW5kZXgsIGZlbmNlKSB7Cj4gKwkJZG1hX2ZlbmNlX3B1dChmZW5jZSk7Cj4g
Kwl9Cj4gKwl4YV9kZXN0cm95KCZqb2ItPmRlcGVuZGVuY2llcyk7Cj4gKwo+ICAgfQo+ICAgRVhQ
T1JUX1NZTUJPTChkcm1fc2NoZWRfam9iX2NsZWFudXApOwo+ICAgCj4gZGlmZiAtLWdpdCBhL2lu
Y2x1ZGUvZHJtL2dwdV9zY2hlZHVsZXIuaCBiL2luY2x1ZGUvZHJtL2dwdV9zY2hlZHVsZXIuaAo+
IGluZGV4IDgzYWZjM2FhOGUyZi4uNzRmYjMyMWRiYzQ0IDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUv
ZHJtL2dwdV9zY2hlZHVsZXIuaAo+ICsrKyBiL2luY2x1ZGUvZHJtL2dwdV9zY2hlZHVsZXIuaAo+
IEBAIC0yNyw5ICsyNywxMiBAQAo+ICAgI2luY2x1ZGUgPGRybS9zcHNjX3F1ZXVlLmg+Cj4gICAj
aW5jbHVkZSA8bGludXgvZG1hLWZlbmNlLmg+Cj4gICAjaW5jbHVkZSA8bGludXgvY29tcGxldGlv
bi5oPgo+ICsjaW5jbHVkZSA8bGludXgveGFycmF5Lmg+Cj4gICAKPiAgICNkZWZpbmUgTUFYX1dB
SVRfU0NIRURfRU5USVRZX1FfRU1QVFkgbXNlY3NfdG9famlmZmllcygxMDAwKQo+ICAgCj4gK3N0
cnVjdCBkcm1fZ2VtX29iamVjdDsKPiArCj4gICBzdHJ1Y3QgZHJtX2dwdV9zY2hlZHVsZXI7Cj4g
ICBzdHJ1Y3QgZHJtX3NjaGVkX3JxOwo+ICAgCj4gQEAgLTE5OCw2ICsyMDEsMTYgQEAgc3RydWN0
IGRybV9zY2hlZF9qb2Igewo+ICAgCWVudW0gZHJtX3NjaGVkX3ByaW9yaXR5CQlzX3ByaW9yaXR5
Owo+ICAgCXN0cnVjdCBkcm1fc2NoZWRfZW50aXR5ICAgICAgICAgKmVudGl0eTsKPiAgIAlzdHJ1
Y3QgZG1hX2ZlbmNlX2NiCQljYjsKPiArCS8qKgo+ICsJICogQGRlcGVuZGVuY2llczoKPiArCSAq
Cj4gKwkgKiBDb250YWlucyB0aGUgZGVwZW5kZW5jaWVzIGFzIHN0cnVjdCBkbWFfZmVuY2UgZm9y
IHRoaXMgam9iLCBzZWUKPiArCSAqIGRybV9zY2hlZF9qb2JfYXdhaXRfZmVuY2UoKSBhbmQgZHJt
X3NjaGVkX2pvYl9hd2FpdF9pbXBsaWNpdCgpLgo+ICsJICovCj4gKwlzdHJ1Y3QgeGFycmF5CQkJ
ZGVwZW5kZW5jaWVzOwo+ICsKPiArCS8qKiBAbGFzdF9kZXBlbmRlbmN5OiB0cmFja3MgQGRlcGVu
ZGVuY2llcyBhcyB0aGV5IHNpZ25hbCAqLwo+ICsJdW5zaWduZWQgbG9uZwkJCWxhc3RfZGVwZW5k
ZW5jeTsKPiAgIH07Cj4gICAKPiAgIHN0YXRpYyBpbmxpbmUgYm9vbCBkcm1fc2NoZWRfaW52YWxp
ZGF0ZV9qb2Ioc3RydWN0IGRybV9zY2hlZF9qb2IgKnNfam9iLAo+IEBAIC0yMjAsOSArMjMzLDE0
IEBAIGVudW0gZHJtX2dwdV9zY2hlZF9zdGF0IHsKPiAgICAqLwo+ICAgc3RydWN0IGRybV9zY2hl
ZF9iYWNrZW5kX29wcyB7Cj4gICAJLyoqCj4gLSAgICAgICAgICogQGRlcGVuZGVuY3k6IENhbGxl
ZCB3aGVuIHRoZSBzY2hlZHVsZXIgaXMgY29uc2lkZXJpbmcgc2NoZWR1bGluZwo+IC0gICAgICAg
ICAqIHRoaXMgam9iIG5leHQsIHRvIGdldCBhbm90aGVyIHN0cnVjdCBkbWFfZmVuY2UgZm9yIHRo
aXMgam9iIHRvCj4gLQkgKiBibG9jayBvbi4gIE9uY2UgaXQgcmV0dXJucyBOVUxMLCBydW5fam9i
KCkgbWF5IGJlIGNhbGxlZC4KPiArCSAqIEBkZXBlbmRlbmN5Ogo+ICsJICoKPiArCSAqIENhbGxl
ZCB3aGVuIHRoZSBzY2hlZHVsZXIgaXMgY29uc2lkZXJpbmcgc2NoZWR1bGluZyB0aGlzIGpvYiBu
ZXh0LCB0bwo+ICsJICogZ2V0IGFub3RoZXIgc3RydWN0IGRtYV9mZW5jZSBmb3IgdGhpcyBqb2Ig
dG8gYmxvY2sgb24uICBPbmNlIGl0Cj4gKwkgKiByZXR1cm5zIE5VTEwsIHJ1bl9qb2IoKSBtYXkg
YmUgY2FsbGVkLgo+ICsJICoKPiArCSAqIElmIGEgZHJpdmVyIGV4Y2x1c2l2ZWx5IHVzZXMgZHJt
X3NjaGVkX2pvYl9hd2FpdF9mZW5jZSgpIGFuZAo+ICsJICogZHJtX3NjaGVkX2pvYl9hd2FpdF9p
bXBsaWNpdCgpIHRoaXMgY2FuIGJlIG9tbWl0dGVkIGFuZCBsZWZ0IGFzIE5VTEwuCj4gICAJICov
Cj4gICAJc3RydWN0IGRtYV9mZW5jZSAqKCpkZXBlbmRlbmN5KShzdHJ1Y3QgZHJtX3NjaGVkX2pv
YiAqc2NoZWRfam9iLAo+ICAgCQkJCQlzdHJ1Y3QgZHJtX3NjaGVkX2VudGl0eSAqc19lbnRpdHkp
Owo+IEBAIC0zNDksNiArMzY3LDEzIEBAIGludCBkcm1fc2NoZWRfam9iX2luaXQoc3RydWN0IGRy
bV9zY2hlZF9qb2IgKmpvYiwKPiAgIAkJICAgICAgIHN0cnVjdCBkcm1fc2NoZWRfZW50aXR5ICpl
bnRpdHksCj4gICAJCSAgICAgICB2b2lkICpvd25lcik7Cj4gICB2b2lkIGRybV9zY2hlZF9qb2Jf
YXJtKHN0cnVjdCBkcm1fc2NoZWRfam9iICpqb2IpOwo+ICtpbnQgZHJtX3NjaGVkX2pvYl9hd2Fp
dF9mZW5jZShzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAqam9iLAo+ICsJCQkgICAgICBzdHJ1Y3QgZG1h
X2ZlbmNlICpmZW5jZSk7Cj4gK2ludCBkcm1fc2NoZWRfam9iX2F3YWl0X2ltcGxpY2l0KHN0cnVj
dCBkcm1fc2NoZWRfam9iICpqb2IsCj4gKwkJCQkgc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmos
Cj4gKwkJCQkgYm9vbCB3cml0ZSk7Cj4gKwo+ICsKPiAgIHZvaWQgZHJtX3NjaGVkX2VudGl0eV9t
b2RpZnlfc2NoZWQoc3RydWN0IGRybV9zY2hlZF9lbnRpdHkgKmVudGl0eSwKPiAgIAkJCQkgICAg
c3RydWN0IGRybV9ncHVfc2NoZWR1bGVyICoqc2NoZWRfbGlzdCwKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IG51bV9zY2hlZF9saXN0KTsKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkxpbmFyby1tbS1zaWcg
bWFpbGluZyBsaXN0CkxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9yZwpodHRwczovL2xpc3Rz
LmxpbmFyby5vcmcvbWFpbG1hbi9saXN0aW5mby9saW5hcm8tbW0tc2lnCg==
