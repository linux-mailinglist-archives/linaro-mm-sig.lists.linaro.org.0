Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 09CB442BF1A
	for <lists+linaro-mm-sig@lfdr.de>; Wed, 13 Oct 2021 13:42:29 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 74A70618C3
	for <lists+linaro-mm-sig@lfdr.de>; Wed, 13 Oct 2021 11:42:27 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 64ABA612A5; Wed, 13 Oct 2021 11:42:24 +0000 (UTC)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 184DD6118F;
	Wed, 13 Oct 2021 11:42:22 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id A9F65603EF
 for <linaro-mm-sig@lists.linaro.org>; Wed, 13 Oct 2021 11:42:20 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id A53116118F; Wed, 13 Oct 2021 11:42:20 +0000 (UTC)
Received: from mail-wr1-f51.google.com (mail-wr1-f51.google.com
 [209.85.221.51])
 by lists.linaro.org (Postfix) with ESMTPS id 97CBD603EF
 for <linaro-mm-sig@lists.linaro.org>; Wed, 13 Oct 2021 11:42:18 +0000 (UTC)
Received: by mail-wr1-f51.google.com with SMTP id r18so7333143wrg.6
 for <linaro-mm-sig@lists.linaro.org>; Wed, 13 Oct 2021 04:42:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=date:from:to:cc:subject:message-id:mail-followup-to:references
 :mime-version:content-disposition:content-transfer-encoding
 :in-reply-to; bh=eDEZPOoYhgNdY0W+bckD5ycsSF3eiL9qBGkEwyK/NGU=;
 b=iVkiDefQPc+vMfsz/o+C7Aysi1GjzuTelnULer8vNHMGpDmnFC5uEFwmCTWhfCCgbc
 5JwepXtDywX4gGNXXXm2MSyIpWHLmzPFZEBa+OGzHZbkLOrLG35xpTSSLoHrX2COsYqK
 BXOHjBtR5rbTdKORf3o2B/igUpbyGfxCCgfI0=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:date:from:to:cc:subject:message-id
 :mail-followup-to:references:mime-version:content-disposition
 :content-transfer-encoding:in-reply-to;
 bh=eDEZPOoYhgNdY0W+bckD5ycsSF3eiL9qBGkEwyK/NGU=;
 b=vSnE0euVJc2q4Zxsg4DjSXaBZLy2pMX2BhJvgc4KgURd++N0GPVF85APhw2Grljkyy
 cFpjI8ijnMdKyUhRzdxC9VdZLEdBn8hlurRbYkC5iY/NuUXgF7tv8GO4h0PdtcQZEdBK
 ojDTaOBrjnbAmE4EuDq/bgCPV8kAWAxOwNr5tUQ3rxl19xASGfCVN53fs8Z4flmd6xRQ
 s7iOG9Ptc16AG3Buq3AX0+QjQJJ1KpJDcnptr793zHjSDhmdryuhj3VFF3RdwjYpy6Uv
 z0jCjdqMm7S9Xsfgzq4bSRuDdhJN3h8msuXGMMdrJ95sTXum83cqd1KJ3rv1npFk3yBC
 GKtw==
X-Gm-Message-State: AOAM533ywclcqzQ8Q8bVU6TY5HnNUxginW+LAeLUIaAiq35pLZNpqtGL
 AfGGuP3DAcdyyj76ZN2wrlX/jw==
X-Google-Smtp-Source: ABdhPJweynnRqFq59hOzQwrRfFURETZnA2yZQYOzLoAR09kFqa75YtsU8w+pbsxg2Jj0LgPpIiyHNw==
X-Received: by 2002:a5d:64a6:: with SMTP id m6mr39870595wrp.282.1634125337597; 
 Wed, 13 Oct 2021 04:42:17 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:57f4:0:efd0:b9e5:5ae6:c2fa])
 by smtp.gmail.com with ESMTPSA id j14sm7674901wrw.12.2021.10.13.04.42.16
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 13 Oct 2021 04:42:16 -0700 (PDT)
Date: Wed, 13 Oct 2021 13:42:14 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: Shunsuke Mie <mie@igel.co.jp>
Message-ID: <YWbGFkzkFRHmBcpa@phenom.ffwll.local>
Mail-Followup-To: Shunsuke Mie <mie@igel.co.jp>,
 Zhu Yanjun <zyjzyj2000@gmail.com>,
 Christian =?iso-8859-1?Q?K=F6nig?= <christian.koenig@amd.com>,
 Alex Deucher <alexander.deucher@amd.com>,
 Doug Ledford <dledford@redhat.com>, Jason Gunthorpe <jgg@ziepe.ca>,
 Jianxin Xiong <jianxin.xiong@intel.com>,
 Leon Romanovsky <leon@kernel.org>, Maor Gottlieb <maorg@nvidia.com>,
 Sean Hefty <sean.hefty@intel.com>,
 Sumit Semwal <sumit.semwal@linaro.org>,
 dri-devel@lists.freedesktop.org, linaro-mm-sig@lists.linaro.org,
 linux-media@vger.kernel.org,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 linux-rdma <linux-rdma@vger.kernel.org>,
 Damian Hobson-Garcia <dhobsong@igel.co.jp>,
 Takanari Hayama <taki@igel.co.jp>, Tomohito Esaki <etom@igel.co.jp>
References: <20210929041905.126454-1-mie@igel.co.jp>
 <20210929041905.126454-3-mie@igel.co.jp>
 <YVXMkSDXybju88TU@phenom.ffwll.local>
 <CANXvt5rD82Lvvag_k9k+XE-Sj1S6Qwp5uf+-feUTvez1-t4xUA@mail.gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <CANXvt5rD82Lvvag_k9k+XE-Sj1S6Qwp5uf+-feUTvez1-t4xUA@mail.gmail.com>
X-Operating-System: Linux phenom 5.10.0-8-amd64 
X-Virus-Scanned: ClamAV using ClamSMTP
Subject: Re: [Linaro-mm-sig] [RFC PATCH v2 2/2] RDMA/rxe: Add dma-buf support
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Cc: Takanari Hayama <taki@igel.co.jp>, Leon Romanovsky <leon@kernel.org>,
 linux-rdma <linux-rdma@vger.kernel.org>,
 Damian Hobson-Garcia <dhobsong@igel.co.jp>, Tomohito Esaki <etom@igel.co.jp>,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 dri-devel@lists.freedesktop.org, linaro-mm-sig@lists.linaro.org,
 Jason Gunthorpe <jgg@ziepe.ca>, Doug Ledford <dledford@redhat.com>,
 Zhu Yanjun <zyjzyj2000@gmail.com>, Alex Deucher <alexander.deucher@amd.com>,
 Sean Hefty <sean.hefty@intel.com>, Maor Gottlieb <maorg@nvidia.com>,
 Christian =?iso-8859-1?Q?K=F6nig?= <christian.koenig@amd.com>,
 Jianxin Xiong <jianxin.xiong@intel.com>, linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

T24gRnJpLCBPY3QgMDEsIDIwMjEgYXQgMTI6NTY6NDhQTSArMDkwMCwgU2h1bnN1a2UgTWllIHdy
b3RlOgo+IDIwMjHlubQ55pyIMzDml6Uo5pyoKSAyMzo0MSBEYW5pZWwgVmV0dGVyIDxkYW5pZWxA
ZmZ3bGwuY2g+Ogo+ID4KPiA+IE9uIFdlZCwgU2VwIDI5LCAyMDIxIGF0IDAxOjE5OjA1UE0gKzA5
MDAsIFNodW5zdWtlIE1pZSB3cm90ZToKPiA+ID4gSW1wbGVtZW50IGEgaWIgZGV2aWNlIG9wZXJh
dGlvbiDigJhyZWdfdXNlcl9tcl9kbWFidWbigJkuIEdlbmVyYXRlIGEKPiA+ID4gcnhlX21hcCBm
cm9tIHRoZSBtZW1vcnkgc3BhY2UgbGlua2VkIHRoZSBwYXNzZWQgZG1hLWJ1Zi4KPiA+ID4KPiA+
ID4gU2lnbmVkLW9mZi1ieTogU2h1bnN1a2UgTWllIDxtaWVAaWdlbC5jby5qcD4KPiA+ID4gLS0t
Cj4gPiA+ICBkcml2ZXJzL2luZmluaWJhbmQvc3cvcnhlL3J4ZV9sb2MuaCAgIHwgICAyICsKPiA+
ID4gIGRyaXZlcnMvaW5maW5pYmFuZC9zdy9yeGUvcnhlX21yLmMgICAgfCAxMTggKysrKysrKysr
KysrKysrKysrKysrKysrKysKPiA+ID4gIGRyaXZlcnMvaW5maW5pYmFuZC9zdy9yeGUvcnhlX3Zl
cmJzLmMgfCAgMzQgKysrKysrKysKPiA+ID4gIGRyaXZlcnMvaW5maW5pYmFuZC9zdy9yeGUvcnhl
X3ZlcmJzLmggfCAgIDIgKwo+ID4gPiAgNCBmaWxlcyBjaGFuZ2VkLCAxNTYgaW5zZXJ0aW9ucygr
KQo+ID4gPgo+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9pbmZpbmliYW5kL3N3L3J4ZS9yeGVf
bG9jLmggYi9kcml2ZXJzL2luZmluaWJhbmQvc3cvcnhlL3J4ZV9sb2MuaAo+ID4gPiBpbmRleCAx
Y2E0M2I4NTlkODAuLjhiYzE5ZWExYTM3NiAxMDA2NDQKPiA+ID4gLS0tIGEvZHJpdmVycy9pbmZp
bmliYW5kL3N3L3J4ZS9yeGVfbG9jLmgKPiA+ID4gKysrIGIvZHJpdmVycy9pbmZpbmliYW5kL3N3
L3J4ZS9yeGVfbG9jLmgKPiA+ID4gQEAgLTc1LDYgKzc1LDggQEAgdTggcnhlX2dldF9uZXh0X2tl
eSh1MzIgbGFzdF9rZXkpOwo+ID4gPiAgdm9pZCByeGVfbXJfaW5pdF9kbWEoc3RydWN0IHJ4ZV9w
ZCAqcGQsIGludCBhY2Nlc3MsIHN0cnVjdCByeGVfbXIgKm1yKTsKPiA+ID4gIGludCByeGVfbXJf
aW5pdF91c2VyKHN0cnVjdCByeGVfcGQgKnBkLCB1NjQgc3RhcnQsIHU2NCBsZW5ndGgsIHU2NCBp
b3ZhLAo+ID4gPiAgICAgICAgICAgICAgICAgICAgaW50IGFjY2Vzcywgc3RydWN0IHJ4ZV9tciAq
bXIpOwo+ID4gPiAraW50IHJ4ZV9tcl9kbWFidWZfaW5pdF91c2VyKHN0cnVjdCByeGVfcGQgKnBk
LCBpbnQgZmQsIHU2NCBzdGFydCwgdTY0IGxlbmd0aCwKPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICB1NjQgaW92YSwgaW50IGFjY2Vzcywgc3RydWN0IHJ4ZV9tciAqbXIpOwo+ID4gPiAg
aW50IHJ4ZV9tcl9pbml0X2Zhc3Qoc3RydWN0IHJ4ZV9wZCAqcGQsIGludCBtYXhfcGFnZXMsIHN0
cnVjdCByeGVfbXIgKm1yKTsKPiA+ID4gIGludCByeGVfbXJfY29weShzdHJ1Y3QgcnhlX21yICpt
ciwgdTY0IGlvdmEsIHZvaWQgKmFkZHIsIGludCBsZW5ndGgsCj4gPiA+ICAgICAgICAgICAgICAg
ZW51bSByeGVfbXJfY29weV9kaXIgZGlyKTsKPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvaW5m
aW5pYmFuZC9zdy9yeGUvcnhlX21yLmMgYi9kcml2ZXJzL2luZmluaWJhbmQvc3cvcnhlL3J4ZV9t
ci5jCj4gPiA+IGluZGV4IDUzMjcxZGYxMGU0Ny4uYWY2ZWY2NzFjM2E1IDEwMDY0NAo+ID4gPiAt
LS0gYS9kcml2ZXJzL2luZmluaWJhbmQvc3cvcnhlL3J4ZV9tci5jCj4gPiA+ICsrKyBiL2RyaXZl
cnMvaW5maW5pYmFuZC9zdy9yeGUvcnhlX21yLmMKPiA+ID4gQEAgLTQsNiArNCw3IEBACj4gPiA+
ICAgKiBDb3B5cmlnaHQgKGMpIDIwMTUgU3lzdGVtIEZhYnJpYyBXb3JrcywgSW5jLiBBbGwgcmln
aHRzIHJlc2VydmVkLgo+ID4gPiAgICovCj4gPiA+Cj4gPiA+ICsjaW5jbHVkZSA8bGludXgvZG1h
LWJ1Zi5oPgo+ID4gPiAgI2luY2x1ZGUgInJ4ZS5oIgo+ID4gPiAgI2luY2x1ZGUgInJ4ZV9sb2Mu
aCIKPiA+ID4KPiA+ID4gQEAgLTI0NSw2ICsyNDYsMTIwIEBAIGludCByeGVfbXJfaW5pdF91c2Vy
KHN0cnVjdCByeGVfcGQgKnBkLCB1NjQgc3RhcnQsIHU2NCBsZW5ndGgsIHU2NCBpb3ZhLAo+ID4g
PiAgICAgICByZXR1cm4gZXJyOwo+ID4gPiAgfQo+ID4gPgo+ID4gPiArc3RhdGljIGludCByeGVf
bWFwX2RtYWJ1Zl9tcihzdHJ1Y3QgcnhlX21yICptciwKPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IGliX3VtZW1fZG1hYnVmICp1bWVtX2RtYWJ1ZikKPiA+ID4gK3sKPiA+
ID4gKyAgICAgc3RydWN0IHJ4ZV9tYXBfc2V0ICpzZXQ7Cj4gPiA+ICsgICAgIHN0cnVjdCByeGVf
cGh5c19idWYgKmJ1ZiA9IE5VTEw7Cj4gPiA+ICsgICAgIHN0cnVjdCByeGVfbWFwICoqbWFwOwo+
ID4gPiArICAgICB2b2lkICp2YWRkciwgKnZhZGRyX2VuZDsKPiA+ID4gKyAgICAgaW50IG51bV9i
dWYgPSAwOwo+ID4gPiArICAgICBpbnQgZXJyOwo+ID4gPiArICAgICBzaXplX3QgcmVtYWluOwo+
ID4gPiArCj4gPiA+ICsgICAgIG1yLT5kbWFidWZfbWFwID0ga3phbGxvYyhzaXplb2YgJm1yLT5k
bWFidWZfbWFwLCBHRlBfS0VSTkVMKTsKPiA+Cj4gPiBkbWFidWZfbWFwcyBhcmUganVzdCB0YWdn
ZWQgcG9pbnRlcnMgKGFuZCB3ZSBjb3VsZCBzaHJpbmsgdGhlbSB0byBhY3R1YWxseQo+ID4ganVz
dCBhIHRhZ2dlZCBwb2ludGVyIGlmIGFueW9uZSBjYXJlcyBhYm91dCB0aGUgb3ZlcmhlYWQgb2Yg
dGhlIHNlcGFyYXRlCj4gPiBib29sKSwgYWxsb2NhdGluZyB0aGVtIHNlcGVyYXRlbHkgaXMgb3Zl
cmtpbGwuCj4gCj4gSSBhZ3JlZSB3aXRoIHlvdS4gSG93ZXZlciwgSSB0aGluayBpdCBpcyBuZWVk
ZWQgdG8gdW5tYXAgYnkKPiBkbWFfYnVmX3Z1bm1hcCgpLiBJZiB0aGVyZSBpcyBhbm90aGVyIHNp
bXBsZSB3YXkgdG8gdW5tYXAgaXQuIEl0IGlzIG5vdAo+IG5lZWRlZCBJIHRoaW5rLiBXaGF0IGRv
IHlvdSB0aGluayBhYm91dCBpdD8KCmRtYV9idWZfdnVubWFwIGRvZXMgbm90IGtmcmVlIHRoZSBk
bWFfYnVmX21hcCBhcmd1bWVudCwgc28gdGhhdCdzIG5vCnJlYXNvbiB0byBhbGxvY2F0ZSBpdCBz
ZXBhcmF0ZWx5LiBPciBJJ20gY29uZnVzZWQuCgpBbHNvIGFwb2xvZ2llcywgSSdtIHdheSBiZWhp
bmQgb24gbWFpbHMuCi1EYW5pZWwKCj4gCj4gPiA+ICsgICAgIGlmICghbXItPmRtYWJ1Zl9tYXAp
IHsKPiA+ID4gKyAgICAgICAgICAgICBlcnIgPSAtRU5PTUVNOwo+ID4gPiArICAgICAgICAgICAg
IGdvdG8gZXJyX291dDsKPiA+ID4gKyAgICAgfQo+ID4gPiArCj4gPiA+ICsgICAgIGVyciA9IGRt
YV9idWZfdm1hcCh1bWVtX2RtYWJ1Zi0+ZG1hYnVmLCBtci0+ZG1hYnVmX21hcCk7Cj4gPiA+ICsg
ICAgIGlmIChlcnIpCj4gPiA+ICsgICAgICAgICAgICAgZ290byBlcnJfZnJlZV9kbWFidWZfbWFw
Owo+ID4gPiArCj4gPiA+ICsgICAgIHNldCA9IG1yLT5jdXJfbWFwX3NldDsKPiA+ID4gKyAgICAg
c2V0LT5wYWdlX3NoaWZ0ID0gUEFHRV9TSElGVDsKPiA+ID4gKyAgICAgc2V0LT5wYWdlX21hc2sg
PSBQQUdFX1NJWkUgLSAxOwo+ID4gPiArCj4gPiA+ICsgICAgIG1hcCA9IHNldC0+bWFwOwo+ID4g
PiArICAgICBidWYgPSBtYXBbMF0tPmJ1ZjsKPiA+ID4gKwo+ID4gPiArICAgICB2YWRkciA9IG1y
LT5kbWFidWZfbWFwLT52YWRkcjsKPiA+Cj4gPiBkbWFfYnVmX21hcCBjYW4gYmUgYW4gX19pb21l
bSB0b28sIHlvdSBzaG91bGRuJ3QgZGlnIGFyb3VuZCBpbiB0aGlzLCBidXQKPiA+IHVzZSB0aGUg
ZG1hLWJ1Zi1tYXAuaCBoZWxwZXJzIGluc3RlYWQuIE9uIHg4NiAoYW5kIEkgdGhpbmsgYWxzbyBv
biBtb3N0Cj4gPiBhcm0pIGl0IGRvZXNuJ3QgbWF0dGVyLCBidXQgaXQncyBraW5kYSBub3QgdmVy
eSBuaWNlIGluIGEgcHVyZSBzb2Z0d2FyZQo+ID4gZHJpdmVyLgo+ID4KPiA+IElmIGFueXRoaW5n
IGlzIG1pc3NpbmcgaW4gZG1hLWJ1Zi1tYXAuaCB3cmFwcGVycyBqdXN0IGFkZCBtb3JlLgo+ID4K
PiA+IE9yIGFsdGVybmF0aXZlbHkgeW91IG5lZWQgdG8gZmFpbCB0aGUgaW1wb3J0IGlmIHlvdSBj
YW4ndCBoYW5kbGUgX19pb21lbS4KPiA+Cj4gPiBBc2lkZSBmcm9tIHRoZXNlIEkgdGhpbmsgdGhl
IGRtYS1idWYgc2lkZSBoZXJlIGZvciBjcHUgYWNjZXNzIGxvb2tzCj4gPiByZWFzb25hYmxlIG5v
dy4KPiA+IC1EYW5pZWwKPiBJJ2xsIHNlZSB0aGUgZG1hLWJ1Zi1tYXAuaCBhbmQgY29uc2lkZXIg
dGhlIGVycm9yIGhhbmRsaW5nIHRoYXQgeW91IHN1Z2dlc3RlZC4KPiBJIGFwcHJlY2lhdGUgeW91
ciBzdXBwb3J0Lgo+IAo+IFRoYW5rcyBhIGxvdCwKPiBTaHVuc3VrZS4KPiAKPiA+ID4gKyAgICAg
dmFkZHJfZW5kID0gdmFkZHIgKyB1bWVtX2RtYWJ1Zi0+ZG1hYnVmLT5zaXplOwo+ID4gPiArICAg
ICByZW1haW4gPSB1bWVtX2RtYWJ1Zi0+ZG1hYnVmLT5zaXplOwo+ID4gPiArCj4gPiA+ICsgICAg
IGZvciAoOyByZW1haW47IHZhZGRyICs9IFBBR0VfU0laRSkgewo+ID4gPiArICAgICAgICAgICAg
IGlmIChudW1fYnVmID49IFJYRV9CVUZfUEVSX01BUCkgewo+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgbWFwKys7Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICBidWYgPSBtYXBbMF0tPmJ1
ZjsKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIG51bV9idWYgPSAwOwo+ID4gPiArICAgICAg
ICAgICAgIH0KPiA+ID4gKwo+ID4gPiArICAgICAgICAgICAgIGJ1Zi0+YWRkciA9ICh1aW50cHRy
X3QpdmFkZHI7Cj4gPiA+ICsgICAgICAgICAgICAgaWYgKHJlbWFpbiA+PSBQQUdFX1NJWkUpCj4g
PiA+ICsgICAgICAgICAgICAgICAgICAgICBidWYtPnNpemUgPSBQQUdFX1NJWkU7Cj4gPiA+ICsg
ICAgICAgICAgICAgZWxzZQo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgYnVmLT5zaXplID0g
cmVtYWluOwo+ID4gPiArICAgICAgICAgICAgIHJlbWFpbiAtPSBidWYtPnNpemU7Cj4gPiA+ICsK
PiA+ID4gKyAgICAgICAgICAgICBudW1fYnVmKys7Cj4gPiA+ICsgICAgICAgICAgICAgYnVmKys7
Cj4gPiA+ICsgICAgIH0KPiA+ID4gKwo+ID4gPiArICAgICByZXR1cm4gMDsKPiA+ID4gKwo+ID4g
PiArZXJyX2ZyZWVfZG1hYnVmX21hcDoKPiA+ID4gKyAgICAga2ZyZWUobXItPmRtYWJ1Zl9tYXAp
Owo+ID4gPiArZXJyX291dDoKPiA+ID4gKyAgICAgcmV0dXJuIGVycjsKPiA+ID4gK30KPiA+ID4g
Kwo+ID4gPiArc3RhdGljIHZvaWQgcnhlX3VubWFwX2RtYWJ1Zl9tcihzdHJ1Y3QgcnhlX21yICpt
cikKPiA+ID4gK3sKPiA+ID4gKyAgICAgc3RydWN0IGliX3VtZW1fZG1hYnVmICp1bWVtX2RtYWJ1
ZiA9IHRvX2liX3VtZW1fZG1hYnVmKG1yLT51bWVtKTsKPiA+ID4gKwo+ID4gPiArICAgICBkbWFf
YnVmX3Z1bm1hcCh1bWVtX2RtYWJ1Zi0+ZG1hYnVmLCBtci0+ZG1hYnVmX21hcCk7Cj4gPiA+ICsg
ICAgIGtmcmVlKG1yLT5kbWFidWZfbWFwKTsKPiA+ID4gK30KPiA+ID4gKwo+ID4gPiAraW50IHJ4
ZV9tcl9kbWFidWZfaW5pdF91c2VyKHN0cnVjdCByeGVfcGQgKnBkLCBpbnQgZmQsIHU2NCBzdGFy
dCwgdTY0IGxlbmd0aCwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICB1NjQgaW92YSwg
aW50IGFjY2Vzcywgc3RydWN0IHJ4ZV9tciAqbXIpCj4gPiA+ICt7Cj4gPiA+ICsgICAgIHN0cnVj
dCBpYl91bWVtX2RtYWJ1ZiAqdW1lbV9kbWFidWY7Cj4gPiA+ICsgICAgIHN0cnVjdCByeGVfbWFw
X3NldCAqc2V0Owo+ID4gPiArICAgICBpbnQgZXJyOwo+ID4gPiArCj4gPiA+ICsgICAgIHVtZW1f
ZG1hYnVmID0gaWJfdW1lbV9kbWFidWZfZ2V0KHBkLT5pYnBkLmRldmljZSwgc3RhcnQsIGxlbmd0
aCwgZmQsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vz
cywgTlVMTCk7Cj4gPiA+ICsgICAgIGlmIChJU19FUlIodW1lbV9kbWFidWYpKSB7Cj4gPiA+ICsg
ICAgICAgICAgICAgZXJyID0gUFRSX0VSUih1bWVtX2RtYWJ1Zik7Cj4gPiA+ICsgICAgICAgICAg
ICAgZ290byBlcnJfb3V0Owo+ID4gPiArICAgICB9Cj4gPiA+ICsKPiA+ID4gKyAgICAgcnhlX21y
X2luaXQoYWNjZXNzLCBtcik7Cj4gPiA+ICsKPiA+ID4gKyAgICAgZXJyID0gcnhlX21yX2FsbG9j
KG1yLCBpYl91bWVtX251bV9wYWdlcygmdW1lbV9kbWFidWYtPnVtZW0pLCAwKTsKPiA+ID4gKyAg
ICAgaWYgKGVycikgewo+ID4gPiArICAgICAgICAgICAgIHByX3dhcm4oIiVzOiBVbmFibGUgdG8g
YWxsb2NhdGUgbWVtb3J5IGZvciBtYXBcbiIsIF9fZnVuY19fKTsKPiA+ID4gKyAgICAgICAgICAg
ICBnb3RvIGVycl9yZWxlYXNlX3VtZW07Cj4gPiA+ICsgICAgIH0KPiA+ID4gKwo+ID4gPiArICAg
ICBtci0+aWJtci5wZCA9ICZwZC0+aWJwZDsKPiA+ID4gKyAgICAgbXItPnVtZW0gPSAmdW1lbV9k
bWFidWYtPnVtZW07Cj4gPiA+ICsgICAgIG1yLT5hY2Nlc3MgPSBhY2Nlc3M7Cj4gPiA+ICsgICAg
IG1yLT5zdGF0ZSA9IFJYRV9NUl9TVEFURV9WQUxJRDsKPiA+ID4gKyAgICAgbXItPnR5cGUgPSBJ
Ql9NUl9UWVBFX1VTRVI7Cj4gPiA+ICsKPiA+ID4gKyAgICAgc2V0ID0gbXItPmN1cl9tYXBfc2V0
Owo+ID4gPiArICAgICBzZXQtPmxlbmd0aCA9IGxlbmd0aDsKPiA+ID4gKyAgICAgc2V0LT5pb3Zh
ID0gaW92YTsKPiA+ID4gKyAgICAgc2V0LT52YSA9IHN0YXJ0Owo+ID4gPiArICAgICBzZXQtPm9m
ZnNldCA9IGliX3VtZW1fb2Zmc2V0KG1yLT51bWVtKTsKPiA+ID4gKwo+ID4gPiArICAgICBlcnIg
PSByeGVfbWFwX2RtYWJ1Zl9tcihtciwgdW1lbV9kbWFidWYpOwo+ID4gPiArICAgICBpZiAoZXJy
KQo+ID4gPiArICAgICAgICAgICAgIGdvdG8gZXJyX2ZyZWVfbWFwX3NldDsKPiA+ID4gKwo+ID4g
PiArICAgICByZXR1cm4gMDsKPiA+ID4gKwo+ID4gPiArZXJyX2ZyZWVfbWFwX3NldDoKPiA+ID4g
KyAgICAgcnhlX21yX2ZyZWVfbWFwX3NldChtci0+bnVtX21hcCwgbXItPmN1cl9tYXBfc2V0KTsK
PiA+ID4gK2Vycl9yZWxlYXNlX3VtZW06Cj4gPiA+ICsgICAgIGliX3VtZW1fcmVsZWFzZSgmdW1l
bV9kbWFidWYtPnVtZW0pOwo+ID4gPiArZXJyX291dDoKPiA+ID4gKyAgICAgcmV0dXJuIGVycjsK
PiA+ID4gK30KPiA+ID4gKwo+ID4gPiAgaW50IHJ4ZV9tcl9pbml0X2Zhc3Qoc3RydWN0IHJ4ZV9w
ZCAqcGQsIGludCBtYXhfcGFnZXMsIHN0cnVjdCByeGVfbXIgKm1yKQo+ID4gPiAgewo+ID4gPiAg
ICAgICBpbnQgZXJyOwo+ID4gPiBAQCAtNzAzLDYgKzgxOCw5IEBAIHZvaWQgcnhlX21yX2NsZWFu
dXAoc3RydWN0IHJ4ZV9wb29sX2VudHJ5ICphcmcpCj4gPiA+ICB7Cj4gPiA+ICAgICAgIHN0cnVj
dCByeGVfbXIgKm1yID0gY29udGFpbmVyX29mKGFyZywgdHlwZW9mKCptciksIHBlbGVtKTsKPiA+
ID4KPiA+ID4gKyAgICAgaWYgKG1yLT51bWVtICYmIG1yLT51bWVtLT5pc19kbWFidWYpCj4gPiA+
ICsgICAgICAgICAgICAgcnhlX3VubWFwX2RtYWJ1Zl9tcihtcik7Cj4gPiA+ICsKPiA+ID4gICAg
ICAgaWJfdW1lbV9yZWxlYXNlKG1yLT51bWVtKTsKPiA+ID4KPiA+ID4gICAgICAgaWYgKG1yLT5j
dXJfbWFwX3NldCkKPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvaW5maW5pYmFuZC9zdy9yeGUv
cnhlX3ZlcmJzLmMgYi9kcml2ZXJzL2luZmluaWJhbmQvc3cvcnhlL3J4ZV92ZXJicy5jCj4gPiA+
IGluZGV4IDlkMGJiOWFhNzUxNC4uNjE5MWJiNGY0MzRkIDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2
ZXJzL2luZmluaWJhbmQvc3cvcnhlL3J4ZV92ZXJicy5jCj4gPiA+ICsrKyBiL2RyaXZlcnMvaW5m
aW5pYmFuZC9zdy9yeGUvcnhlX3ZlcmJzLmMKPiA+ID4gQEAgLTkxNiw2ICs5MTYsMzkgQEAgc3Rh
dGljIHN0cnVjdCBpYl9tciAqcnhlX3JlZ191c2VyX21yKHN0cnVjdCBpYl9wZCAqaWJwZCwKPiA+
ID4gICAgICAgcmV0dXJuIEVSUl9QVFIoZXJyKTsKPiA+ID4gIH0KPiA+ID4KPiA+ID4gK3N0YXRp
YyBzdHJ1Y3QgaWJfbXIgKnJ4ZV9yZWdfdXNlcl9tcl9kbWFidWYoc3RydWN0IGliX3BkICppYnBk
LCB1NjQgc3RhcnQsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHU2NCBsZW5ndGgsIHU2NCBpb3ZhLCBpbnQgZmQsCj4gPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGludCBhY2Nlc3MsIHN0cnVjdCBpYl91ZGF0YSAqdWRh
dGEpCj4gPiA+ICt7Cj4gPiA+ICsgICAgIGludCBlcnI7Cj4gPiA+ICsgICAgIHN0cnVjdCByeGVf
ZGV2ICpyeGUgPSB0b19yZGV2KGlicGQtPmRldmljZSk7Cj4gPiA+ICsgICAgIHN0cnVjdCByeGVf
cGQgKnBkID0gdG9fcnBkKGlicGQpOwo+ID4gPiArICAgICBzdHJ1Y3QgcnhlX21yICptcjsKPiA+
ID4gKwo+ID4gPiArICAgICBtciA9IHJ4ZV9hbGxvYygmcnhlLT5tcl9wb29sKTsKPiA+ID4gKyAg
ICAgaWYgKCFtcikgewo+ID4gPiArICAgICAgICAgICAgIGVyciA9IC1FTk9NRU07Cj4gPiA+ICsg
ICAgICAgICAgICAgZ290byBlcnIyOwo+ID4gPiArICAgICB9Cj4gPiA+ICsKPiA+ID4gKyAgICAg
cnhlX2FkZF9pbmRleChtcik7Cj4gPiA+ICsKPiA+ID4gKyAgICAgcnhlX2FkZF9yZWYocGQpOwo+
ID4gPiArCj4gPiA+ICsgICAgIGVyciA9IHJ4ZV9tcl9kbWFidWZfaW5pdF91c2VyKHBkLCBmZCwg
c3RhcnQsIGxlbmd0aCwgaW92YSwgYWNjZXNzLCBtcik7Cj4gPiA+ICsgICAgIGlmIChlcnIpCj4g
PiA+ICsgICAgICAgICAgICAgZ290byBlcnIzOwo+ID4gPiArCj4gPiA+ICsgICAgIHJldHVybiAm
bXItPmlibXI7Cj4gPiA+ICsKPiA+ID4gK2VycjM6Cj4gPiA+ICsgICAgIHJ4ZV9kcm9wX3JlZihw
ZCk7Cj4gPiA+ICsgICAgIHJ4ZV9kcm9wX2luZGV4KG1yKTsKPiA+ID4gKyAgICAgcnhlX2Ryb3Bf
cmVmKG1yKTsKPiA+ID4gK2VycjI6Cj4gPiA+ICsgICAgIHJldHVybiBFUlJfUFRSKGVycik7Cj4g
PiA+ICt9Cj4gPiA+ICsKPiA+ID4gIHN0YXRpYyBzdHJ1Y3QgaWJfbXIgKnJ4ZV9hbGxvY19tcihz
dHJ1Y3QgaWJfcGQgKmlicGQsIGVudW0gaWJfbXJfdHlwZSBtcl90eXBlLAo+ID4gPiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHUzMiBtYXhfbnVtX3NnKQo+ID4gPiAgewo+ID4gPiBA
QCAtMTA4MSw2ICsxMTE0LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBpYl9kZXZpY2Vfb3BzIHJ4
ZV9kZXZfb3BzID0gewo+ID4gPiAgICAgICAucXVlcnlfcXAgPSByeGVfcXVlcnlfcXAsCj4gPiA+
ICAgICAgIC5xdWVyeV9zcnEgPSByeGVfcXVlcnlfc3JxLAo+ID4gPiAgICAgICAucmVnX3VzZXJf
bXIgPSByeGVfcmVnX3VzZXJfbXIsCj4gPiA+ICsgICAgIC5yZWdfdXNlcl9tcl9kbWFidWYgPSBy
eGVfcmVnX3VzZXJfbXJfZG1hYnVmLAo+ID4gPiAgICAgICAucmVxX25vdGlmeV9jcSA9IHJ4ZV9y
ZXFfbm90aWZ5X2NxLAo+ID4gPiAgICAgICAucmVzaXplX2NxID0gcnhlX3Jlc2l6ZV9jcSwKPiA+
ID4KPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvaW5maW5pYmFuZC9zdy9yeGUvcnhlX3ZlcmJz
LmggYi9kcml2ZXJzL2luZmluaWJhbmQvc3cvcnhlL3J4ZV92ZXJicy5oCj4gPiA+IGluZGV4IGM4
MDc2Mzk0MzVlYi4uMGFhOTVhYjA2YjZlIDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2luZmlu
aWJhbmQvc3cvcnhlL3J4ZV92ZXJicy5oCj4gPiA+ICsrKyBiL2RyaXZlcnMvaW5maW5pYmFuZC9z
dy9yeGUvcnhlX3ZlcmJzLmgKPiA+ID4gQEAgLTMzNCw2ICszMzQsOCBAQCBzdHJ1Y3QgcnhlX21y
IHsKPiA+ID4KPiA+ID4gICAgICAgc3RydWN0IHJ4ZV9tYXBfc2V0ICAgICAgKmN1cl9tYXBfc2V0
Owo+ID4gPiAgICAgICBzdHJ1Y3QgcnhlX21hcF9zZXQgICAgICAqbmV4dF9tYXBfc2V0Owo+ID4g
PiArCj4gPiA+ICsgICAgIHN0cnVjdCBkbWFfYnVmX21hcCAqZG1hYnVmX21hcDsKPiA+ID4gIH07
Cj4gPiA+Cj4gPiA+ICBlbnVtIHJ4ZV9td19zdGF0ZSB7Cj4gPiA+IC0tCj4gPiA+IDIuMTcuMQo+
ID4gPgo+ID4KPiA+IC0tCj4gPiBEYW5pZWwgVmV0dGVyCj4gPiBTb2Z0d2FyZSBFbmdpbmVlciwg
SW50ZWwgQ29ycG9yYXRpb24KPiA+IGh0dHA6Ly9ibG9nLmZmd2xsLmNoCgotLSAKRGFuaWVsIFZl
dHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KaHR0cDovL2Jsb2cuZmZ3
bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KTGlu
YXJvLW1tLXNpZyBtYWlsaW5nIGxpc3QKTGluYXJvLW1tLXNpZ0BsaXN0cy5saW5hcm8ub3JnCmh0
dHBzOi8vbGlzdHMubGluYXJvLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2xpbmFyby1tbS1zaWcK
