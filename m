Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 278E61D93EE
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 19 May 2020 12:03:56 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 52E3E619D5
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 19 May 2020 10:03:55 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 40587619EA; Tue, 19 May 2020 10:03:55 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,MAILING_LIST_MULTI,
	RCVD_IN_DNSWL_NONE,SPF_HELO_NONE autolearn=disabled version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id CB30C619D6;
	Tue, 19 May 2020 10:02:57 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 20690610EC
 for <linaro-mm-sig@lists.linaro.org>; Tue, 19 May 2020 10:02:54 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 0919A619D6; Tue, 19 May 2020 10:02:54 +0000 (UTC)
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [85.220.165.71])
 by lists.linaro.org (Postfix) with ESMTPS id 38D64610EC
 for <linaro-mm-sig@lists.linaro.org>; Tue, 19 May 2020 10:02:52 +0000 (UTC)
Received: from gallifrey.ext.pengutronix.de
 ([2001:67c:670:201:5054:ff:fe8d:eefb] helo=localhost)
 by metis.ext.pengutronix.de with esmtps
 (TLS1.3:ECDHE_RSA_AES_256_GCM_SHA384:256) (Exim 4.92)
 (envelope-from <l.stach@pengutronix.de>)
 id 1jaz4V-0000x4-QB; Tue, 19 May 2020 12:02:03 +0200
Message-ID: <0866cd8cdb0c22f0b2a6814c4dafa29202aad5f3.camel@pengutronix.de>
From: Lucas Stach <l.stach@pengutronix.de>
To: Shengjiu Wang <shengjiu.wang@nxp.com>, timur@kernel.org, 
 nicoleotsuka@gmail.com, Xiubo.Lee@gmail.com, festevam@gmail.com, 
 lgirdwood@gmail.com, broonie@kernel.org, perex@perex.cz, tiwai@suse.com, 
 shawnguo@kernel.org, s.hauer@pengutronix.de, kernel@pengutronix.de, 
 linux-imx@nxp.com, sumit.semwal@linaro.org, alsa-devel@alsa-project.org, 
 linuxppc-dev@lists.ozlabs.org, linux-arm-kernel@lists.infradead.org, 
 linux-kernel@vger.kernel.org, linux-media@vger.kernel.org, 
 dri-devel@lists.freedesktop.org, linaro-mm-sig@lists.linaro.org
Date: Tue, 19 May 2020 12:01:59 +0200
In-Reply-To: <1589881301-4143-1-git-send-email-shengjiu.wang@nxp.com>
References: <1589881301-4143-1-git-send-email-shengjiu.wang@nxp.com>
User-Agent: Evolution 3.36.2 (3.36.2-1.fc32) 
MIME-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:201:5054:ff:fe8d:eefb
X-SA-Exim-Mail-From: l.stach@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: linaro-mm-sig@lists.linaro.org
X-Virus-Scanned: ClamAV using ClamSMTP
Subject: Re: [Linaro-mm-sig] [PATCH] ASoC: fsl: imx-pcm-dma: Don't request
 dma channel in probe
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

QW0gRGllbnN0YWcsIGRlbiAxOS4wNS4yMDIwLCAxNzo0MSArMDgwMCBzY2hyaWViIFNoZW5naml1
IFdhbmc6Cj4gVGhlcmUgYXJlIHR3byByZXF1aXJlbWVudHMgdGhhdCB3ZSBuZWVkIHRvIG1vdmUg
dGhlIHJlcXVlc3QKPiBvZiBkbWEgY2hhbm5lbCBmcm9tIHByb2JlIHRvIG9wZW4uCgpIb3cgZG8g
eW91IGhhbmRsZSAtRVBST0JFX0RFRkVSIHJldHVybiBjb2RlIGZyb20gdGhlIGNoYW5uZWwgcmVx
dWVzdCBpZgp5b3UgZG9uJ3QgZG8gaXQgaW4gcHJvYmU/Cgo+IC0gV2hlbiBkbWEgZGV2aWNlIGJp
bmRzIHdpdGggcG93ZXItZG9tYWlucywgdGhlIHBvd2VyIHdpbGwKPiBiZSBlbmFibGVkIHdoZW4g
d2UgcmVxdWVzdCBkbWEgY2hhbm5lbC4gSWYgdGhlIHJlcXVlc3Qgb2YgZG1hCj4gY2hhbm5lbCBo
YXBwZW4gb24gcHJvYmUsIHRoZW4gdGhlIHBvd2VyLWRvbWFpbnMgd2lsbCBiZSBhbHdheXMKPiBl
bmFibGVkIGFmdGVyIGtlcm5lbCBib290IHVwLCAgd2hpY2ggaXMgbm90IGdvb2QgZm9yIHBvd2Vy
Cj4gc2F2aW5nLCAgc28gd2UgbmVlZCB0byBtb3ZlIHRoZSByZXF1ZXN0IG9mIGRtYSBjaGFubmVs
IHRvIC5vcGVuKCk7CgpUaGlzIGlzIGNlcnRhaW5seSBzb21ldGhpbmcgd2hpY2ggY291bGQgYmUg
Zml4ZWQgaW4gdGhlIGRtYWVuZ2luZQpkcml2ZXIuCgo+IC0gV2l0aCBGRS1CRSBjYXNlLCBpZiB0
aGUgZG1hIGNoYW5uZWwgaXMgcmVxdWVzdGVkIGluIHByb2JlLAo+IHRoZW4gdGhlcmUgd2lsbCBi
ZSBiZWxvdyBpc3N1ZSwgd2hpY2ggaXMgY2F1c2VkIGJ5IHRoYXQgdGhlCj4gZG1hIGNoYW5uZWwg
d2lsbCBiZSByZXF1ZXN0ZWQgZHVwbGljYXRlbHkKCldoeSBpcyB0aGlzIHJlcXVlc3RlZCBhIHNl
Y29uZCB0aW1lPyBJcyB0aGlzIGp1c3Qgc29tZSBtaXNzaW5nIGNsZWFudXAKb24gYSBkZWZlcnJl
ZCBwcm9iZSBwYXRoPwoKUmVnYXJkcywKTHVjYXMKCj4gWyAgNjM4LjkwNjI2OF0gc3lzZnM6IGNh
bm5vdCBjcmVhdGUgZHVwbGljYXRlIGZpbGVuYW1lICcvZGV2aWNlcy9zb2MwL3NvYy8yMDAwMDAw
LmJ1cy8yMDAwMDAwLnNwYmEtYnVzLzIwMjQwMDAuZXNhaS9kbWE6dHgnCj4gWyAgNjM4LjkxOTA2
MV0gQ1BVOiAxIFBJRDogNjczIENvbW06IGFwbGF5IE5vdCB0YWludGVkIDUuNy4wLXJjMS0xMjk1
Ni1nZmM2NGIyNTg1NTkzICMyODcKPiBbICA2MzguOTI3MTEzXSBIYXJkd2FyZSBuYW1lOiBGcmVl
c2NhbGUgaS5NWDYgUXVhZC9EdWFsTGl0ZSAoRGV2aWNlIFRyZWUpCj4gWyAgNjM4LjkzMzY5MF0g
WzxjMDExMGRkOD5dICh1bndpbmRfYmFja3RyYWNlKSBmcm9tIFs8YzAxMGI4ZWM+XSAoc2hvd19z
dGFjaysweDEwLzB4MTQpCj4gWyAgNjM4Ljk0MTQ2NF0gWzxjMDEwYjhlYz5dIChzaG93X3N0YWNr
KSBmcm9tIFs8YzA1NTdmYzA+XSAoZHVtcF9zdGFjaysweGU0LzB4MTE4KQo+IFsgIDYzOC45NDg4
MDhdIFs8YzA1NTdmYzA+XSAoZHVtcF9zdGFjaykgZnJvbSBbPGMwMzJhZWI0Pl0gKHN5c2ZzX3dh
cm5fZHVwKzB4NTAvMHg2NCkKPiBbICA2MzguOTU2NDA2XSBbPGMwMzJhZWI0Pl0gKHN5c2ZzX3dh
cm5fZHVwKSBmcm9tIFs8YzAzMmIxYTg+XSAoc3lzZnNfZG9fY3JlYXRlX2xpbmtfc2QrMHhjOC8w
eGQ0KQo+IFsgIDYzOC45NjUxMzRdIFs8YzAzMmIxYTg+XSAoc3lzZnNfZG9fY3JlYXRlX2xpbmtf
c2QpIGZyb20gWzxjMDVkYzY2OD5dIChkbWFfcmVxdWVzdF9jaGFuKzB4YjAvMHgyMTApCj4gWyAg
NjM4Ljk3NDEyMF0gWzxjMDVkYzY2OD5dIChkbWFfcmVxdWVzdF9jaGFuKSBmcm9tIFs8YzA1ZGM3
ZDA+XSAoZG1hX3JlcXVlc3Rfc2xhdmVfY2hhbm5lbCsweDgvMHgxNCkKPiBbICA2MzguOTgzMTEx
XSBbPGMwNWRjN2QwPl0gKGRtYV9yZXF1ZXN0X3NsYXZlX2NoYW5uZWwpIGZyb20gWzxjMDlkNTU0
OD5dIChmc2xfYXNyY19kbWFfaHdfcGFyYW1zKzB4MWUwLzB4NDM4KQo+IFsgIDYzOC45OTI4ODFd
IFs8YzA5ZDU1NDg+XSAoZnNsX2FzcmNfZG1hX2h3X3BhcmFtcykgZnJvbSBbPGMwOWMxNjU0Pl0g
KHNvY19wY21faHdfcGFyYW1zKzB4NGEwLzB4NmE4KQo+IFsgIDYzOS4wMDE5NTJdIFs8YzA5YzE2
NTQ+XSAoc29jX3BjbV9od19wYXJhbXMpIGZyb20gWzxjMDljMzlkND5dIChkcGNtX2ZlX2RhaV9o
d19wYXJhbXMrMHg3MC8weGU0KQo+IFsgIDYzOS4wMTA3NjVdIFs8YzA5YzM5ZDQ+XSAoZHBjbV9m
ZV9kYWlfaHdfcGFyYW1zKSBmcm9tIFs8YzA5OWIyNzQ+XSAoc25kX3BjbV9od19wYXJhbXMrMHgx
NTgvMHg0MTgpCj4gWyAgNjM5LjAxOTc1MF0gWzxjMDk5YjI3ND5dIChzbmRfcGNtX2h3X3BhcmFt
cykgZnJvbSBbPGMwOTljNWEwPl0gKHNuZF9wY21faW9jdGwrMHg3MzQvMHgxODNjKQo+IFsgIDYz
OS4wMjgxMjldIFs8YzA5OWM1YTA+XSAoc25kX3BjbV9pb2N0bCkgZnJvbSBbPGMwMjlmZjk0Pl0g
KGtzeXNfaW9jdGwrMHgyYWMvMHhiOTgpCj4gWyAgNjM5LjAzNTgxMl0gWzxjMDI5ZmY5ND5dIChr
c3lzX2lvY3RsKSBmcm9tIFs8YzAxMDAwODA+XSAocmV0X2Zhc3Rfc3lzY2FsbCsweDAvMHgyOCkK
PiBbICA2MzkuMDQzNDkwXSBFeGNlcHRpb24gc3RhY2soMHhlYzUyOWZhOCB0byAweGVjNTI5ZmYw
KQo+IFsgIDYzOS4wNDg1NjVdIDlmYTA6ICAgICAgICAgICAgICAgICAgIGJlZTg0NjUwIDAxMzIx
ODcwIDAwMDAwMDA0IGMyNWM0MTExIGJlZTg0NjUwIDAwMDIwMDBmCj4gWyAgNjM5LjA1Njc2Nl0g
OWZjMDogYmVlODQ2NTAgMDEzMjE4NzAgMDEzMjE4MjAgMDAwMDAwMzYgMDAwMDFmNDAgMDAwMDAw
MDAgMDAwMmMyZjggMDAwMDAwMDMKPiBbICA2MzkuMDY0OTY0XSA5ZmUwOiBiNmY0ODNmYyBiZWU4
NDUxYyBiNmVlMjY1NSBiNmUxZGNmOAo+IFsgIDYzOS4wNzAzMzldIGZzbC1lc2FpLWRhaSAyMDI0
MDAwLmVzYWk6IENhbm5vdCBjcmVhdGUgRE1BIGRtYTp0eCBzeW1saW5rCj4gCj4gU2lnbmVkLW9m
Zi1ieTogU2hlbmdqaXUgV2FuZyA8c2hlbmdqaXUud2FuZ0BueHAuY29tPgo+IC0tLQo+ICBzb3Vu
ZC9zb2MvZnNsL2lteC1wY20tZG1hLmMgfCAxNzMgKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrLS0tCj4gIDEgZmlsZSBjaGFuZ2VkLCAxNTkgaW5zZXJ0aW9ucygrKSwgMTQgZGVsZXRp
b25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL3NvdW5kL3NvYy9mc2wvaW14LXBjbS1kbWEuYyBiL3Nv
dW5kL3NvYy9mc2wvaW14LXBjbS1kbWEuYwo+IGluZGV4IDA0YTliYzc0OTAxNi4uZGFlNTNiMzg0
ZGY0IDEwMDY0NAo+IC0tLSBhL3NvdW5kL3NvYy9mc2wvaW14LXBjbS1kbWEuYwo+ICsrKyBiL3Nv
dW5kL3NvYy9mc2wvaW14LXBjbS1kbWEuYwo+IEBAIC0xMSw2ICsxMSw3IEBACj4gICNpbmNsdWRl
IDxsaW51eC9kbWFlbmdpbmUuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4gICNpbmNs
dWRlIDxsaW51eC9tb2R1bGUuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2RtYS1tYXBwaW5nLmg+Cj4g
IAo+ICAjaW5jbHVkZSA8c291bmQvY29yZS5oPgo+ICAjaW5jbHVkZSA8c291bmQvcGNtLmg+Cj4g
QEAgLTI5LDI0ICszMCwxNjggQEAgc3RhdGljIGJvb2wgZmlsdGVyKHN0cnVjdCBkbWFfY2hhbiAq
Y2hhbiwgdm9pZCAqcGFyYW0pCj4gIAlyZXR1cm4gdHJ1ZTsKPiAgfQo+ICAKPiAtc3RhdGljIGNv
bnN0IHN0cnVjdCBzbmRfZG1hZW5naW5lX3BjbV9jb25maWcgaW14X2RtYWVuZ2luZV9wY21fY29u
ZmlnID0gewo+IC0JLnByZXBhcmVfc2xhdmVfY29uZmlnID0gc25kX2RtYWVuZ2luZV9wY21fcHJl
cGFyZV9zbGF2ZV9jb25maWcsCj4gLQkuY29tcGF0X2ZpbHRlcl9mbiA9IGZpbHRlciwKPiAtfTsK
PiArc3RhdGljIGludCBpbXhfcGNtX2h3X3BhcmFtcyhzdHJ1Y3Qgc25kX3NvY19jb21wb25lbnQg
KmNvbXBvbmVudCwKPiArCQkJICAgICBzdHJ1Y3Qgc25kX3BjbV9zdWJzdHJlYW0gKnN1YnN0cmVh
bSwKPiArCQkJICAgICBzdHJ1Y3Qgc25kX3BjbV9od19wYXJhbXMgKnBhcmFtcykKPiArewo+ICsJ
c3RydWN0IHNuZF9wY21fcnVudGltZSAqcnVudGltZSA9IHN1YnN0cmVhbS0+cnVudGltZTsKPiAr
CXN0cnVjdCBzbmRfc29jX3BjbV9ydW50aW1lICpydGQgPSBzdWJzdHJlYW0tPnByaXZhdGVfZGF0
YTsKPiArCXN0cnVjdCBzbmRfc29jX2RhaSAqY3B1X2RhaSA9IGFzb2NfcnRkX3RvX2NwdShydGQs
IDApOwo+ICsJc3RydWN0IHNuZF9kbWFlbmdpbmVfZGFpX2RtYV9kYXRhICpkbWFfZGF0YTsKPiAr
CXN0cnVjdCBkbWFfc2xhdmVfY29uZmlnIGNvbmZpZzsKPiArCXN0cnVjdCBkbWFfY2hhbiAqY2hh
bjsKPiArCWludCByZXQgPSAwOwo+ICAKPiAtaW50IGlteF9wY21fZG1hX2luaXQoc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldiwgc2l6ZV90IHNpemUpCj4gKwlzbmRfcGNtX3NldF9ydW50aW1l
X2J1ZmZlcihzdWJzdHJlYW0sICZzdWJzdHJlYW0tPmRtYV9idWZmZXIpOwo+ICsJcnVudGltZS0+
ZG1hX2J5dGVzID0gcGFyYW1zX2J1ZmZlcl9ieXRlcyhwYXJhbXMpOwo+ICsKPiArCWNoYW4gPSBz
bmRfZG1hZW5naW5lX3BjbV9nZXRfY2hhbihzdWJzdHJlYW0pOwo+ICsJaWYgKCFjaGFuKQo+ICsJ
CXJldHVybiAtRUlOVkFMOwo+ICsKPiArCXJldCA9IHNuZF9od3BhcmFtc190b19kbWFfc2xhdmVf
Y29uZmlnKHN1YnN0cmVhbSwgcGFyYW1zLCAmY29uZmlnKTsKPiArCWlmIChyZXQpCj4gKwkJcmV0
dXJuIHJldDsKPiArCj4gKwlkbWFfZGF0YSA9IHNuZF9zb2NfZGFpX2dldF9kbWFfZGF0YShjcHVf
ZGFpLCBzdWJzdHJlYW0pOwo+ICsJaWYgKCFkbWFfZGF0YSkKPiArCQlyZXR1cm4gLUVJTlZBTDsK
PiArCj4gKwlzbmRfZG1hZW5naW5lX3BjbV9zZXRfY29uZmlnX2Zyb21fZGFpX2RhdGEoc3Vic3Ry
ZWFtLAo+ICsJCQkJCQkgICBkbWFfZGF0YSwKPiArCQkJCQkJICAgJmNvbmZpZyk7Cj4gKwlyZXR1
cm4gZG1hZW5naW5lX3NsYXZlX2NvbmZpZyhjaGFuLCAmY29uZmlnKTsKPiArfQo+ICsKPiArc3Rh
dGljIGludCBpbXhfcGNtX2h3X2ZyZWUoc3RydWN0IHNuZF9zb2NfY29tcG9uZW50ICpjb21wb25l
bnQsCj4gKwkJCSAgIHN0cnVjdCBzbmRfcGNtX3N1YnN0cmVhbSAqc3Vic3RyZWFtKQo+ICB7Cj4g
LQlzdHJ1Y3Qgc25kX2RtYWVuZ2luZV9wY21fY29uZmlnICpjb25maWc7Cj4gKwlzbmRfcGNtX3Nl
dF9ydW50aW1lX2J1ZmZlcihzdWJzdHJlYW0sIE5VTEwpOwo+ICsJcmV0dXJuIDA7Cj4gK30KPiAr
Cj4gK3N0YXRpYyBzbmRfcGNtX3VmcmFtZXNfdCBpbXhfcGNtX3BvaW50ZXIoc3RydWN0IHNuZF9z
b2NfY29tcG9uZW50ICpjb21wb25lbnQsCj4gKwkJCQkJIHN0cnVjdCBzbmRfcGNtX3N1YnN0cmVh
bSAqc3Vic3RyZWFtKQo+ICt7Cj4gKwlyZXR1cm4gc25kX2RtYWVuZ2luZV9wY21fcG9pbnRlcihz
dWJzdHJlYW0pOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IGlteF9wY21fdHJpZ2dlcihzdHJ1Y3Qg
c25kX3NvY19jb21wb25lbnQgKmNvbXBvbmVudCwKPiArCQkJICAgc3RydWN0IHNuZF9wY21fc3Vi
c3RyZWFtICpzdWJzdHJlYW0sIGludCBjbWQpCj4gK3sKPiArCXJldHVybiBzbmRfZG1hZW5naW5l
X3BjbV90cmlnZ2VyKHN1YnN0cmVhbSwgY21kKTsKPiArfQo+ICsKPiArc3RhdGljIGludCBpbXhf
cGNtX29wZW4oc3RydWN0IHNuZF9zb2NfY29tcG9uZW50ICpjb21wb25lbnQsCj4gKwkJCXN0cnVj
dCBzbmRfcGNtX3N1YnN0cmVhbSAqc3Vic3RyZWFtKQo+ICt7Cj4gKwlzdHJ1Y3Qgc25kX3NvY19w
Y21fcnVudGltZSAqcnRkID0gc3Vic3RyZWFtLT5wcml2YXRlX2RhdGE7Cj4gKwlib29sIHR4ID0g
c3Vic3RyZWFtLT5zdHJlYW0gPT0gU05EUlZfUENNX1NUUkVBTV9QTEFZQkFDSzsKPiArCXN0cnVj
dCBzbmRfc29jX2RhaSAqY3B1X2RhaSA9IGFzb2NfcnRkX3RvX2NwdShydGQsIDApOwo+ICsJc3Ry
dWN0IHNuZF9kbWFlbmdpbmVfZGFpX2RtYV9kYXRhICpkbWFfZGF0YTsKPiArCXN0cnVjdCBkZXZp
Y2UgKmRldiA9IGNvbXBvbmVudC0+ZGV2Owo+ICsJc3RydWN0IHNuZF9wY21faGFyZHdhcmUgaHc7
Cj4gKwlzdHJ1Y3QgZG1hX2NoYW4gKmNoYW47Cj4gKwlpbnQgcmV0Owo+ICsKPiArCXJldCA9IHNu
ZF9wY21faHdfY29uc3RyYWludF9pbnRlZ2VyKHN1YnN0cmVhbS0+cnVudGltZSwKPiArCQkJCQkg
ICAgU05EUlZfUENNX0hXX1BBUkFNX1BFUklPRFMpOwo+ICsJaWYgKHJldCA8IDApIHsKPiArCQlk
ZXZfZXJyKGRldiwgImZhaWxlZCB0byBzZXQgcGNtIGh3IHBhcmFtcyBwZXJpb2RzXG4iKTsKPiAr
CQlyZXR1cm4gcmV0Owo+ICsJfQo+ICsKPiArCWRtYV9kYXRhID0gc25kX3NvY19kYWlfZ2V0X2Rt
YV9kYXRhKGNwdV9kYWksIHN1YnN0cmVhbSk7Cj4gKwlpZiAoIWRtYV9kYXRhKQo+ICsJCXJldHVy
biAtRUlOVkFMOwo+ICsKPiArCWNoYW4gPSBkbWFfcmVxdWVzdF9zbGF2ZV9jaGFubmVsKGNwdV9k
YWktPmRldiwgdHggPyAidHgiIDogInJ4Iik7Cj4gKwlpZiAoIWNoYW4pIHsKPiArCQkvKiBUcnkg
dG8gcmVxdWVzdCBjaGFubmVsIHVzaW5nIGNvbXBhdF9maWx0ZXJfZm4gKi8KPiArCQljaGFuID0g
c25kX2RtYWVuZ2luZV9wY21fcmVxdWVzdF9jaGFubmVsKGZpbHRlciwKPiArCQkJCQkJCSBkbWFf
ZGF0YS0+ZmlsdGVyX2RhdGEpOwo+ICsJCWlmICghY2hhbikKPiArCQkJcmV0dXJuIC1FTlhJTzsK
PiArCX0KPiAgCj4gLQljb25maWcgPSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRldiwKPiAtCQkJc2l6
ZW9mKHN0cnVjdCBzbmRfZG1hZW5naW5lX3BjbV9jb25maWcpLCBHRlBfS0VSTkVMKTsKPiAtCWlm
ICghY29uZmlnKQo+IC0JCXJldHVybiAtRU5PTUVNOwo+IC0JKmNvbmZpZyA9IGlteF9kbWFlbmdp
bmVfcGNtX2NvbmZpZzsKPiArCXJldCA9IHNuZF9kbWFlbmdpbmVfcGNtX29wZW4oc3Vic3RyZWFt
LCBjaGFuKTsKPiArCWlmIChyZXQpCj4gKwkJZ290byBwY21fb3Blbl9mYWlsOwo+ICAKPiAtCXJl
dHVybiBkZXZtX3NuZF9kbWFlbmdpbmVfcGNtX3JlZ2lzdGVyKCZwZGV2LT5kZXYsCj4gLQkJY29u
ZmlnLAo+IC0JCVNORF9ETUFFTkdJTkVfUENNX0ZMQUdfQ09NUEFUKTsKPiArCW1lbXNldCgmaHcs
IDAsIHNpemVvZihodykpOwo+ICsJaHcuaW5mbyA9IFNORFJWX1BDTV9JTkZPX01NQVAgfCBTTkRS
Vl9QQ01fSU5GT19NTUFQX1ZBTElEIHwKPiArCQkJU05EUlZfUENNX0lORk9fSU5URVJMRUFWRUQ7
Cj4gKwlody5wZXJpb2RzX21pbiA9IDI7Cj4gKwlody5wZXJpb2RzX21heCA9IFVJTlRfTUFYOwo+
ICsJaHcucGVyaW9kX2J5dGVzX21pbiA9IDI1NjsKPiArCWh3LnBlcmlvZF9ieXRlc19tYXggPSBk
bWFfZ2V0X21heF9zZWdfc2l6ZShjaGFuLT5kZXZpY2UtPmRldik7Cj4gKwlody5idWZmZXJfYnl0
ZXNfbWF4ID0gSU1YX0RFRkFVTFRfRE1BQlVGX1NJWkU7Cj4gKwlody5maWZvX3NpemUgPSBkbWFf
ZGF0YS0+Zmlmb19zaXplOwo+ICsKPiArCS8qIFJlZmluZSB0aGUgaHcgYWNjb3JkaW5nIHRvIGNh
cHMgb2YgRE1BLiAqLwo+ICsJcmV0ID0gc25kX2RtYWVuZ2luZV9wY21fcmVmaW5lX3J1bnRpbWVf
aHdwYXJhbXMoc3Vic3RyZWFtLAo+ICsJCQkJCQkJZG1hX2RhdGEsCj4gKwkJCQkJCQkmaHcsCj4g
KwkJCQkJCQljaGFuKTsKPiArCWlmIChyZXQgPCAwKQo+ICsJCWdvdG8gcmVmaW5lX3J1bnRpbWVf
aHdwYXJhbXNfZmFpbDsKPiArCj4gKwlzbmRfc29jX3NldF9ydW50aW1lX2h3cGFyYW1zKHN1YnN0
cmVhbSwgJmh3KTsKPiArCj4gKwkvKiBTdXBwb3J0IGFsbG9jYXRlIG1lbW9yeSBmcm9tIElSQU0g
Ki8KPiArCXJldCA9IHNuZF9kbWFfYWxsb2NfcGFnZXMoU05EUlZfRE1BX1RZUEVfREVWX0lSQU0s
Cj4gKwkJCQkgIGNoYW4tPmRldmljZS0+ZGV2LAo+ICsJCQkJICBody5idWZmZXJfYnl0ZXNfbWF4
LAo+ICsJCQkJICAmc3Vic3RyZWFtLT5kbWFfYnVmZmVyKTsKPiArCWlmIChyZXQgPCAwKQo+ICsJ
CWdvdG8gYWxsb2NfcGFnYXNfZmFpbDsKPiArCj4gKwlyZXR1cm4gMDsKPiArCj4gK2FsbG9jX3Bh
Z2FzX2ZhaWw6Cj4gK3JlZmluZV9ydW50aW1lX2h3cGFyYW1zX2ZhaWw6Cj4gKwlzbmRfZG1hZW5n
aW5lX3BjbV9jbG9zZShzdWJzdHJlYW0pOwo+ICtwY21fb3Blbl9mYWlsOgo+ICsJZG1hX3JlbGVh
c2VfY2hhbm5lbChjaGFuKTsKPiArCj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4gKwo+ICtzdGF0aWMg
aW50IGlteF9wY21fY2xvc2Uoc3RydWN0IHNuZF9zb2NfY29tcG9uZW50ICpjb21wb25lbnQsCj4g
KwkJCSBzdHJ1Y3Qgc25kX3BjbV9zdWJzdHJlYW0gKnN1YnN0cmVhbSkKPiArewo+ICsJaWYgKHN1
YnN0cmVhbSkgewo+ICsJCXNuZF9kbWFfZnJlZV9wYWdlcygmc3Vic3RyZWFtLT5kbWFfYnVmZmVy
KTsKPiArCQlzdWJzdHJlYW0tPmRtYV9idWZmZXIuYXJlYSA9IE5VTEw7Cj4gKwkJc3Vic3RyZWFt
LT5kbWFfYnVmZmVyLmFkZHIgPSAwOwo+ICsJfQo+ICsKPiArCXJldHVybiBzbmRfZG1hZW5naW5l
X3BjbV9jbG9zZV9yZWxlYXNlX2NoYW4oc3Vic3RyZWFtKTsKPiArfQo+ICsKPiArc3RhdGljIGlu
dCBpbXhfcGNtX25ldyhzdHJ1Y3Qgc25kX3NvY19jb21wb25lbnQgKmNvbXBvbmVudCwKPiArCQkg
ICAgICAgc3RydWN0IHNuZF9zb2NfcGNtX3J1bnRpbWUgKnJ0ZCkKPiArewo+ICsJc3RydWN0IHNu
ZF9jYXJkICpjYXJkID0gcnRkLT5jYXJkLT5zbmRfY2FyZDsKPiArCj4gKwlyZXR1cm4gZG1hX2Nv
ZXJjZV9tYXNrX2FuZF9jb2hlcmVudChjYXJkLT5kZXYsIERNQV9CSVRfTUFTSygzMikpOwo+ICt9
Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHNuZF9zb2NfY29tcG9uZW50X2RyaXZlciBpbXhf
cGNtX2NvbXBvbmVudCA9IHsKPiArCS5uYW1lICAgICAgICAgICA9ICJpbXgtcGNtLWRtYSIsCj4g
KwkucGNtX2NvbnN0cnVjdAk9IGlteF9wY21fbmV3LAo+ICsJLm9wZW4JCT0gaW14X3BjbV9vcGVu
LAo+ICsJLmNsb3NlCQk9IGlteF9wY21fY2xvc2UsCj4gKwkuaHdfcGFyYW1zCT0gaW14X3BjbV9o
d19wYXJhbXMsCj4gKwkuaHdfZnJlZQk9IGlteF9wY21faHdfZnJlZSwKPiArCS50cmlnZ2VyCT0g
aW14X3BjbV90cmlnZ2VyLAo+ICsJLnBvaW50ZXIJPSBpbXhfcGNtX3BvaW50ZXIsCj4gK307Cj4g
Kwo+ICtpbnQgaW14X3BjbV9kbWFfaW5pdChzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2LCBz
aXplX3Qgc2l6ZSkKPiArewo+ICsJcmV0dXJuIGRldm1fc25kX3NvY19yZWdpc3Rlcl9jb21wb25l
bnQoJnBkZXYtPmRldiwKPiArCQkJCQkgICAgICAgJmlteF9wY21fY29tcG9uZW50LCBOVUxMLCAw
KTsKPiAgfQo+ICBFWFBPUlRfU1lNQk9MX0dQTChpbXhfcGNtX2RtYV9pbml0KTsKPiAgCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW5hcm8tbW0tc2ln
IG1haWxpbmcgbGlzdApMaW5hcm8tbW0tc2lnQGxpc3RzLmxpbmFyby5vcmcKaHR0cHM6Ly9saXN0
cy5saW5hcm8ub3JnL21haWxtYW4vbGlzdGluZm8vbGluYXJvLW1tLXNpZwo=
