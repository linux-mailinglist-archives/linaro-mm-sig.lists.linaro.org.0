Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id 759ED4F9217
	for <lists+linaro-mm-sig@lfdr.de>; Fri,  8 Apr 2022 11:33:57 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 882E7402C8
	for <lists+linaro-mm-sig@lfdr.de>; Fri,  8 Apr 2022 09:33:56 +0000 (UTC)
Received: from mail-ot1-f47.google.com (mail-ot1-f47.google.com [209.85.210.47])
	by lists.linaro.org (Postfix) with ESMTPS id AD14E3EA15
	for <linaro-mm-sig@lists.linaro.org>; Fri,  8 Apr 2022 09:33:52 +0000 (UTC)
Received: by mail-ot1-f47.google.com with SMTP id e25-20020a0568301e5900b005b236d5d74fso5759211otj.0
        for <linaro-mm-sig@lists.linaro.org>; Fri, 08 Apr 2022 02:33:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ffwll.ch; s=google;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :cc:content-transfer-encoding;
        bh=5sclF+IrdYw7kLMS4+PbaiC+DLOVATYfHwnkaUrWhQI=;
        b=XlEAe1I5Wq9XqirnOarVwTa60ijiNRrnbc4Yv5HKaVh/FcioMIu0gD7B+NkE5hc4kf
         x+kd74NaqDPBeeh3Z3ajfAlZOVcpPKPo8B7skTs7oPlIG/Q+HjjsxN6ps75+9wnOdNQS
         ZZj4UrcwBZom/1YfqdFauf5u9EzXcF8xDCS2g=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to:cc:content-transfer-encoding;
        bh=5sclF+IrdYw7kLMS4+PbaiC+DLOVATYfHwnkaUrWhQI=;
        b=EbSuhHt8g8V93VqRTE4fyMv1ZV02ub2SQlypTBvhzuDC1Ao7kQi/PS4UXTfu7ZfrN3
         L7VpL7CuXFHrExFFf18THdQ4SY/GB1yTrrVX/6kn98Dp0WyF4muFCTHC7tq1LjNTHfiY
         OLzUXm4cUjM42BtukPgVO6cWxlustd1NkGD+fqWfFsQxeYPACDUfp7nwFTFJBhxnppOy
         6LoqvLOc2uOSdlFj1ZLr36NfargoYTiI87MwSfPs2V5hxdSQRIxT0x3RDHe1f4YCxH3x
         wRDfFbXDAwLgC+2k5PkHIhypJIRpCEv6eXeEx0GohgbR3ipmggJC1PxKeJzjD6B4u3LD
         F7hg==
X-Gm-Message-State: AOAM532G0WK2UAWhg/kgT9eNKIYSRl6eMAgE57YDoUPDlU2A3gCo3cvw
	dIA8ISOxO4GpOTEHSMAZqMWH9ZQ7dc5uNj0+Sq0B+w==
X-Google-Smtp-Source: ABdhPJwAWRfwr432QP41MmQSuRe0ifBC5wTb4asvwvRMWC+cYyDLfoEdvfcS95NdsU4htY6D+ueitQKTueutE7XdWvc=
X-Received: by 2002:a9d:57c7:0:b0:5b2:3d6d:6469 with SMTP id
 q7-20020a9d57c7000000b005b23d6d6469mr6234428oti.301.1649410432050; Fri, 08
 Apr 2022 02:33:52 -0700 (PDT)
MIME-Version: 1.0
References: <20220407085946.744568-1-christian.koenig@amd.com>
 <20220407085946.744568-13-christian.koenig@amd.com> <87y20ghrmy.fsf@intel.com>
 <f6f56ad0-4a5b-69b7-500d-79663f690f13@amd.com>
In-Reply-To: <f6f56ad0-4a5b-69b7-500d-79663f690f13@amd.com>
From: Daniel Vetter <daniel.vetter@ffwll.ch>
Date: Fri, 8 Apr 2022 11:33:40 +0200
Message-ID: <CAKMK7uEYbNrNZAx1k_D7u01=2-d3chResyBo9NFzG9BPq84LpA@mail.gmail.com>
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
Message-ID-Hash: J7RR5XKXZTJHAA5OGH2HSNUIMOMJCXZN
X-Message-ID-Hash: J7RR5XKXZTJHAA5OGH2HSNUIMOMJCXZN
X-MailFrom: daniel.vetter@ffwll.ch
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: Jani Nikula <jani.nikula@linux.intel.com>, dri-devel@lists.freedesktop.org, linux-media@vger.kernel.org, linaro-mm-sig@lists.linaro.org, intel-gfx@lists.freedesktop.org, Joonas Lahtinen <joonas.lahtinen@linux.intel.com>, "Ursulin, Tvrtko" <tvrtko.ursulin@intel.com>, Rodrigo Vivi <rodrigo.vivi@intel.com>
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Re: [PATCH 12/15] drm/i915: drop bo->moving dependency
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/J7RR5XKXZTJHAA5OGH2HSNUIMOMJCXZN/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

T24gRnJpLCA4IEFwciAyMDIyIGF0IDExOjI3LCBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4u
a29lbmlnQGFtZC5jb20+IHdyb3RlOg0KPg0KPiBBbSAwOC4wNC4yMiB1bSAxMTowNSBzY2hyaWVi
IEphbmkgTmlrdWxhOg0KPiA+IE9uIFRodSwgMDcgQXByIDIwMjIsICJDaHJpc3RpYW4gS8O2bmln
IiA8Y2tvZW5pZy5sZWljaHR6dW1lcmtlbkBnbWFpbC5jb20+IHdyb3RlOg0KPiA+PiBUaGF0IHNo
b3VsZCBub3cgYmUgaGFuZGxlZCBieSB0aGUgY29tbW9uIGRtYV9yZXN2IGZyYW1ld29yay4NCj4g
Pj4NCj4gPj4gU2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5p
Z0BhbWQuY29tPg0KPiA+PiBSZXZpZXdlZC1ieTogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRl
ckBmZndsbC5jaD4NCj4gPj4gQ2M6IGludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj4g
PiBTbywgd2hlcmUgYXJlIHRoZSBpOTE1IG1haW50YWluZXIgYWNrcyBmb3IgbWVyZ2luZyB0aGlz
IChhbmQgdGhlIG90aGVyDQo+ID4gcGF0Y2hlcyBpbiB0aGUgc2VyaWVzIHRvdWNoaW5nIGk5MTUp
IHZpYSBkcm0tbWlzYy1uZXh0Pw0KPiA+DQo+ID4gRGFuaWVsJ3MgUmV2aWV3ZWQtYnkgaXMgbm90
IGFuIGFjayB0byBtZXJnZSBvdXRzaWRlIGRybS1pbnRlbC1uZXh0Lg0KPg0KPiBJIGhhZCB0aGUg
aW1wcmVzc2lvbiB0aGF0IGl0IHdvdWxkIGJlIHN1ZmZpY2llbnQuDQo+DQo+ID4gV2UgZG9uJ3Qg
bWVyZ2UgaTkxNSBzdHVmZiB3aXRob3V0IHBhc3NpbmcgQ0kgcmVzdWx0cy4gQXBwYXJlbnRseSB0
aGlzDQo+ID4gb25lIGZhaWxlZCBlbm91Z2ggbWFjaGluZXMgdGhhdCB0aGUgQ0kgaGFkIHRvIGJl
IHN0b3BwZWQgZW50aXJlbHkuDQo+DQo+IFRoYXQgd2FzIHVuZm9ydHVuYXRlbHkgcGFydGlhbGx5
IGV4cGVjdGVkIGFuZCBwb2ludGVkIG91dCBieSBNYXR0aGV3IGFuZA0KPiBEYW5pZWwgYmVmb3Jl
IHRoZSBwdXNoLg0KDQpVaCBJIGRpZG4ndCByZWFsaXplIHRoYXQgQ0kgbmV2ZXIgdGVzdGVkIHRo
aXMuIFVzdWFsbHkgdGhlIHdheSB0aGVuIGlzDQp0byByZWJhc2Ugb250byBkcm0tdGlwIGFuZCBm
aWd1cmUgb3V0IHRoZSBtZXJnZSBzdG9yeS4gRG9pbmcgc3Vic3lzdGVtDQp3aWRlIGNoYW5nZXMg
d2hpbGUgbm90IG9uIGxpbnV4LW5leHQgb3IgZHJtLXRpcCBvciBhbm90aGVyIGludGVncmF0aW9u
DQp0cmVlIGlzIGp1c3QgZnJhdWdodCB3aXRoIHN1cnByaXNlcyBkdWUgdG8gY29uZmxpY3RzLg0K
DQpBbHNvICJkb2Vzbid0IGV2ZW4gY29tcGlsZSIgaXMgcmVhbGx5IGJlbG93IHRoZSBiYXIsIGFu
ZCBub3QgdGhlIGZpcnN0DQp0aW1lIHRoaXMgaGFwcGVuZWQgYXQgYWxsLiBBbmQgaTkxNSBpc24n
dCByZWFsbHkgYW4gb2JzY3VyZSBkcml2ZXINCndoaWNoIGlzIGhhcmQgdG8gY29tcGlsZSB0ZXN0
IDotKQ0KLURhbmllbA0KDQo+IGk5MTUgZm9yIHNvbWUgcmVhc29uIGV4dGVuZGVkIHRoZSB1c2Fn
ZSBvZiB0aGUgYm8tPm1vdmluZyBmZW5jZSBkZXNwaXRlDQo+IHRoZSBmYWN0IHdlIGhhZCBwYXRj
aGVzIG9uIHRoZSBtYWlsaW5nIGxpc3QgdG8gZW50aXJlbHkgcmVtb3ZlIHRoaXMgZmVhdHVyZS4N
Cj4NCj4gSSBjb3VsZG4ndCBnZXQgYW55IHNhbmUgQ0kgcmVzdWx0cyBmb3Igd2Vla3MgYmVjYXVz
ZSBvZiB0aGlzIGFuZCBhdCBzb21lDQo+IHBvaW50IHdlIGp1c3QgaGFkIHRvIGdvIGFoZWFkIGFu
ZCBmaXggdGhlIGNsYXNoIGluIGRybS10aXAuDQo+DQo+IFNvcnJ5IGZvciBhbnkgaW5jb252ZW5p
ZW5jZSBjYXVzZSBieSB0aGF0LiBJIGhvcGVkIHRoYXQgd2UgZml4ZWQgYWxsDQo+IGNhc2VzLCBi
dXQgbG9va3MgbGlrZSB3ZSBzdGlsbCBtaXNzZWQgc29tZS4NCj4NCj4gUmVnYXJkcywNCj4gQ2hy
aXN0aWFuLg0KPg0KPiA+DQo+ID4NCj4gPiBCUiwNCj4gPiBKYW5pLg0KPiA+DQo+ID4NCj4gPj4g
LS0tDQo+ID4+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jICAg
IHwgNDEgKysrKy0tLS0tLS0tLS0tLS0tLQ0KPiA+PiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dl
bS9pOTE1X2dlbV9vYmplY3QuaCAgICB8ICA4ICstLS0NCj4gPj4gICBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9nZW0vaTkxNV9nZW1fdHRtX21vdmUuYyAgfCAxNSArLS0tLS0tDQo+ID4+ICAgLi4uL2Ry
bS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fbWlncmF0ZS5jIHwgIDMgKy0NCj4gPj4gICAu
Li4vZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFuLmMgICAgfCAgMyArLQ0KPiA+
PiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfdm1hLmMgICAgICAgICAgICAgICB8ICA5ICsr
Ky0NCj4gPj4gICA2IGZpbGVzIGNoYW5nZWQsIDIxIGluc2VydGlvbnMoKyksIDU4IGRlbGV0aW9u
cygtKQ0KPiA+Pg0KPiA+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5
MTVfZ2VtX29iamVjdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVj
dC5jDQo+ID4+IGluZGV4IDM3MmJjMjIwZmFlYi4uZmZkZTdiYzBhOTVkIDEwMDY0NA0KPiA+PiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmMNCj4gPj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jDQo+ID4+IEBAIC03
NDEsMzAgKzc0MSwxOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9nZW1fb2JqZWN0X2Z1bmNz
IGk5MTVfZ2VtX29iamVjdF9mdW5jcyA9IHsNCj4gPj4gICAvKioNCj4gPj4gICAgKiBpOTE1X2dl
bV9vYmplY3RfZ2V0X21vdmluZ19mZW5jZSAtIEdldCB0aGUgb2JqZWN0J3MgbW92aW5nIGZlbmNl
IGlmIGFueQ0KPiA+PiAgICAqIEBvYmo6IFRoZSBvYmplY3Qgd2hvc2UgbW92aW5nIGZlbmNlIHRv
IGdldC4NCj4gPj4gKyAqIEBmZW5jZTogVGhlIHJlc3VsdGluZyBmZW5jZQ0KPiA+PiAgICAqDQo+
ID4+ICAgICogQSBub24tc2lnbmFsZWQgbW92aW5nIGZlbmNlIG1lYW5zIHRoYXQgdGhlcmUgaXMg
YW4gYXN5bmMgb3BlcmF0aW9uDQo+ID4+ICAgICogcGVuZGluZyBvbiB0aGUgb2JqZWN0IHRoYXQg
bmVlZHMgdG8gYmUgd2FpdGVkIG9uIGJlZm9yZSBzZXR0aW5nIHVwDQo+ID4+ICAgICogYW55IEdQ
VS0gb3IgQ1BVIFBURXMgdG8gdGhlIG9iamVjdCdzIHBhZ2VzLg0KPiA+PiAgICAqDQo+ID4+IC0g
KiBSZXR1cm46IEEgcmVmY291bnRlZCBwb2ludGVyIHRvIHRoZSBvYmplY3QncyBtb3ZpbmcgZmVu
Y2UgaWYgYW55LA0KPiA+PiAtICogTlVMTCBvdGhlcndpc2UuDQo+ID4+ICsgKiBSZXR1cm46IE5l
Z2F0aXZlIGVycm9yIGNvZGUgb3IgMCBmb3Igc3VjY2Vzcy4NCj4gPj4gICAgKi8NCj4gPj4gLXN0
cnVjdCBkbWFfZmVuY2UgKg0KPiA+PiAtaTkxNV9nZW1fb2JqZWN0X2dldF9tb3ZpbmdfZmVuY2Uo
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikNCj4gPj4gK2ludCBpOTE1X2dlbV9vYmpl
Y3RfZ2V0X21vdmluZ19mZW5jZShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLA0KPiA+
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRtYV9mZW5jZSAqKmZl
bmNlKQ0KPiA+PiAgIHsNCj4gPj4gLSAgICByZXR1cm4gZG1hX2ZlbmNlX2dldChpOTE1X2dlbV90
b190dG0ob2JqKS0+bW92aW5nKTsNCj4gPj4gLX0NCj4gPj4gLQ0KPiA+PiAtdm9pZCBpOTE1X2dl
bV9vYmplY3Rfc2V0X21vdmluZ19mZW5jZShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2Jq
LA0KPiA+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkbWFfZmVu
Y2UgKmZlbmNlKQ0KPiA+PiAtew0KPiA+PiAtICAgIHN0cnVjdCBkbWFfZmVuY2UgKiptb3Zpbmcg
PSAmaTkxNV9nZW1fdG9fdHRtKG9iaiktPm1vdmluZzsNCj4gPj4gLQ0KPiA+PiAtICAgIGlmICgq
bW92aW5nID09IGZlbmNlKQ0KPiA+PiAtICAgICAgICAgICAgcmV0dXJuOw0KPiA+PiAtDQo+ID4+
IC0gICAgZG1hX2ZlbmNlX3B1dCgqbW92aW5nKTsNCj4gPj4gLSAgICAqbW92aW5nID0gZG1hX2Zl
bmNlX2dldChmZW5jZSk7DQo+ID4+ICsgICAgcmV0dXJuIGRtYV9yZXN2X2dldF9zaW5nbGV0b24o
b2JqLT5iYXNlLnJlc3YsIERNQV9SRVNWX1VTQUdFX0tFUk5FTCwNCj4gPj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBmZW5jZSk7DQo+ID4+ICAgfQ0KPiA+Pg0KPiA+PiAgIC8q
Kg0KPiA+PiBAQCAtNzgyLDIzICs3NzEsOSBAQCB2b2lkIGk5MTVfZ2VtX29iamVjdF9zZXRfbW92
aW5nX2ZlbmNlKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosDQo+ID4+ICAgaW50IGk5
MTVfZ2VtX29iamVjdF93YWl0X21vdmluZ19mZW5jZShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVj
dCAqb2JqLA0KPiA+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgaW50
cikNCj4gPj4gICB7DQo+ID4+IC0gICAgc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UgPSBpOTE1X2dl
bV90b190dG0ob2JqKS0+bW92aW5nOw0KPiA+PiAtICAgIGludCByZXQ7DQo+ID4+IC0NCj4gPj4g
ICAgICBhc3NlcnRfb2JqZWN0X2hlbGQob2JqKTsNCj4gPj4gLSAgICBpZiAoIWZlbmNlKQ0KPiA+
PiAtICAgICAgICAgICAgcmV0dXJuIDA7DQo+ID4+IC0NCj4gPj4gLSAgICByZXQgPSBkbWFfZmVu
Y2Vfd2FpdChmZW5jZSwgaW50cik7DQo+ID4+IC0gICAgaWYgKHJldCkNCj4gPj4gLSAgICAgICAg
ICAgIHJldHVybiByZXQ7DQo+ID4+IC0NCj4gPj4gLSAgICBpZiAoZmVuY2UtPmVycm9yKQ0KPiA+
PiAtICAgICAgICAgICAgcmV0dXJuIGZlbmNlLT5lcnJvcjsNCj4gPj4gLQ0KPiA+PiAtICAgIGk5
MTVfZ2VtX3RvX3R0bShvYmopLT5tb3ZpbmcgPSBOVUxMOw0KPiA+PiAtICAgIGRtYV9mZW5jZV9w
dXQoZmVuY2UpOw0KPiA+PiAtICAgIHJldHVybiAwOw0KPiA+PiArICAgIHJldHVybiBkbWFfcmVz
dl93YWl0X3RpbWVvdXQob2JqLT5iYXNlLiByZXN2LCBETUFfUkVTVl9VU0FHRV9LRVJORUwsDQo+
ID4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRyLCBNQVhfU0NIRURVTEVf
VElNRU9VVCk7DQo+ID4+ICAgfQ0KPiA+Pg0KPiA+PiAgICNpZiBJU19FTkFCTEVEKENPTkZJR19E
Uk1fSTkxNV9TRUxGVEVTVCkNCj4gPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9vYmplY3QuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9vYmplY3QuaA0KPiA+PiBpbmRleCAwMmMzN2ZlNGE1MzUuLmUxMWQ4MmE5ZjdjMyAxMDA2NDQN
Cj4gPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5oDQo+
ID4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaA0KPiA+
PiBAQCAtNTIwLDEyICs1MjAsOCBAQCBpOTE1X2dlbV9vYmplY3RfZmluaXNoX2FjY2VzcyhzdHJ1
Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQ0KPiA+PiAgICAgIGk5MTVfZ2VtX29iamVjdF91
bnBpbl9wYWdlcyhvYmopOw0KPiA+PiAgIH0NCj4gPj4NCj4gPj4gLXN0cnVjdCBkbWFfZmVuY2Ug
Kg0KPiA+PiAtaTkxNV9nZW1fb2JqZWN0X2dldF9tb3ZpbmdfZmVuY2Uoc3RydWN0IGRybV9pOTE1
X2dlbV9vYmplY3QgKm9iaik7DQo+ID4+IC0NCj4gPj4gLXZvaWQgaTkxNV9nZW1fb2JqZWN0X3Nl
dF9tb3ZpbmdfZmVuY2Uoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwNCj4gPj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSk7
DQo+ID4+IC0NCj4gPj4gK2ludCBpOTE1X2dlbV9vYmplY3RfZ2V0X21vdmluZ19mZW5jZShzdHJ1
Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLA0KPiA+PiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IGRtYV9mZW5jZSAqKmZlbmNlKTsNCj4gPj4gICBpbnQgaTkxNV9n
ZW1fb2JqZWN0X3dhaXRfbW92aW5nX2ZlbmNlKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpv
YmosDQo+ID4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBpbnRyKTsN
Cj4gPj4NCj4gPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV90dG1fbW92ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3R0bV9tb3Zl
LmMNCj4gPj4gaW5kZXggNDM4YjhhOTViM2QxLi5hMTA3MTZmNGU3MTcgMTAwNjQ0DQo+ID4+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV90dG1fbW92ZS5jDQo+ID4+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV90dG1fbW92ZS5jDQo+ID4+IEBA
IC00NjcsMTkgKzQ2Nyw2IEBAIF9faTkxNV90dG1fbW92ZShzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmpl
Y3QgKmJvLA0KPiA+PiAgICAgIHJldHVybiBmZW5jZTsNCj4gPj4gICB9DQo+ID4+DQo+ID4+IC1z
dGF0aWMgaW50DQo+ID4+IC1wcmV2X2RlcHMoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywg
c3RydWN0IHR0bV9vcGVyYXRpb25fY3R4ICpjdHgsDQo+ID4+IC0gICAgICBzdHJ1Y3QgaTkxNV9k
ZXBzICpkZXBzKQ0KPiA+PiAtew0KPiA+PiAtICAgIGludCByZXQ7DQo+ID4+IC0NCj4gPj4gLSAg
ICByZXQgPSBpOTE1X2RlcHNfYWRkX2RlcGVuZGVuY3koZGVwcywgYm8tPm1vdmluZywgY3R4KTsN
Cj4gPj4gLSAgICBpZiAoIXJldCkNCj4gPj4gLSAgICAgICAgICAgIHJldCA9IGk5MTVfZGVwc19h
ZGRfcmVzdihkZXBzLCBiby0+YmFzZS5yZXN2LCBjdHgpOw0KPiA+PiAtDQo+ID4+IC0gICAgcmV0
dXJuIHJldDsNCj4gPj4gLX0NCj4gPj4gLQ0KPiA+PiAgIC8qKg0KPiA+PiAgICAqIGk5MTVfdHRt
X21vdmUgLSBUaGUgVFRNIG1vdmUgY2FsbGJhY2sgdXNlZCBieSBpOTE1Lg0KPiA+PiAgICAqIEBi
bzogVGhlIGJ1ZmZlciBvYmplY3QuDQo+ID4+IEBAIC01MzQsNyArNTIxLDcgQEAgaW50IGk5MTVf
dHRtX21vdmUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywgYm9vbCBldmljdCwNCj4gPj4g
ICAgICAgICAgICAgIHN0cnVjdCBpOTE1X2RlcHMgZGVwczsNCj4gPj4NCj4gPj4gICAgICAgICAg
ICAgIGk5MTVfZGVwc19pbml0KCZkZXBzLCBHRlBfS0VSTkVMIHwgX19HRlBfTk9SRVRSWSB8IF9f
R0ZQX05PV0FSTik7DQo+ID4+IC0gICAgICAgICAgICByZXQgPSBwcmV2X2RlcHMoYm8sIGN0eCwg
JmRlcHMpOw0KPiA+PiArICAgICAgICAgICAgcmV0ID0gaTkxNV9kZXBzX2FkZF9yZXN2KCZkZXBz
LCBiby0+YmFzZS5yZXN2LCBjdHgpOw0KPiA+PiAgICAgICAgICAgICAgaWYgKHJldCkgew0KPiA+
PiAgICAgICAgICAgICAgICAgICAgICBpOTE1X3JlZmN0X3NndF9wdXQoZHN0X3JzZ3QpOw0KPiA+
PiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiA+PiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9taWdyYXRlLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX21pZ3JhdGUuYw0KPiA+PiBp
bmRleCA0OTk3ZWQxOGI2ZTQuLjBhZDQ0M2E5MGM4YiAxMDA2NDQNCj4gPj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9taWdyYXRlLmMNCj4gPj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9taWdyYXRlLmMN
Cj4gPj4gQEAgLTIxOSw4ICsyMTksNyBAQCBzdGF0aWMgaW50IF9faWd0X2xtZW1fcGFnZXNfbWln
cmF0ZShzdHJ1Y3QgaW50ZWxfZ3QgKmd0LA0KPiA+PiAgICAgICAgICAgICAgICAgICAgICBlcnIg
PSBkbWFfcmVzdl9yZXNlcnZlX2ZlbmNlcyhvYmotPmJhc2UucmVzdiwgMSk7DQo+ID4+ICAgICAg
ICAgICAgICAgICAgICAgIGlmICghZXJyKQ0KPiA+PiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGRtYV9yZXN2X2FkZF9mZW5jZShvYmotPmJhc2UucmVzdiwgJnJxLT5mZW5jZSwNCj4gPj4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRE1BX1JFU1Zf
VVNBR0VfV1JJVEUpOw0KPiA+PiAtICAgICAgICAgICAgICAgICAgICBpOTE1X2dlbV9vYmplY3Rf
c2V0X21vdmluZ19mZW5jZShvYmosICZycS0+ZmVuY2UpOw0KPiA+PiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBETUFfUkVTVl9VU0FHRV9LRVJORUwpOw0K
PiA+PiAgICAgICAgICAgICAgICAgICAgICBpOTE1X3JlcXVlc3RfcHV0KHJxKTsNCj4gPj4gICAg
ICAgICAgICAgIH0NCj4gPj4gICAgICAgICAgICAgIGlmIChlcnIpDQo+ID4+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX21tYW4uYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fbW1hbi5jDQo+ID4+IGlu
ZGV4IDNhNmUzZjZkMjM5Zi4uZGZjMzRjYzJlZjhjIDEwMDY0NA0KPiA+PiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX21tYW4uYw0KPiA+PiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX21tYW4uYw0KPiA+PiBA
QCAtMTIyMSw4ICsxMjIxLDcgQEAgc3RhdGljIGludCBfX2lndF9tbWFwX21pZ3JhdGUoc3RydWN0
IGludGVsX21lbW9yeV9yZWdpb24gKipwbGFjZW1lbnRzLA0KPiA+PiAgICAgIGk5MTVfZ2VtX29i
amVjdF91bnBpbl9wYWdlcyhvYmopOw0KPiA+PiAgICAgIGlmIChycSkgew0KPiA+PiAgICAgICAg
ICAgICAgZG1hX3Jlc3ZfYWRkX2ZlbmNlKG9iai0+YmFzZS5yZXN2LCAmcnEtPmZlbmNlLA0KPiA+
PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERNQV9SRVNWX1VTQUdFX1dSSVRFKTsN
Cj4gPj4gLSAgICAgICAgICAgIGk5MTVfZ2VtX29iamVjdF9zZXRfbW92aW5nX2ZlbmNlKG9iaiwg
JnJxLT5mZW5jZSk7DQo+ID4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRE1BX1JF
U1ZfVVNBR0VfS0VSTkVMKTsNCj4gPj4gICAgICAgICAgICAgIGk5MTVfcmVxdWVzdF9wdXQocnEp
Ow0KPiA+PiAgICAgIH0NCj4gPj4gICAgICBpOTE1X2dlbV9vYmplY3RfdW5sb2NrKG9iaik7DQo+
ID4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYw0KPiA+PiBpbmRleCA1MjQ0NzdkODkzOWUuLmQwNzdm
N2I5ZWFhZCAxMDA2NDQNCj4gPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEu
Yw0KPiA+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5jDQo+ID4+IEBAIC0x
MzU3LDEwICsxMzU3LDE3IEBAIGludCBpOTE1X3ZtYV9waW5fd3coc3RydWN0IGk5MTVfdm1hICp2
bWEsIHN0cnVjdCBpOTE1X2dlbV93d19jdHggKnd3LA0KPiA+PiAgICAgIGlmIChlcnIpDQo+ID4+
ICAgICAgICAgICAgICByZXR1cm4gZXJyOw0KPiA+Pg0KPiA+PiArICAgIGlmICh2bWEtPm9iaikg
ew0KPiA+PiArICAgICAgICAgICAgZXJyID0gaTkxNV9nZW1fb2JqZWN0X2dldF9tb3ZpbmdfZmVu
Y2Uodm1hLT5vYmosICZtb3ZpbmcpOw0KPiA+PiArICAgICAgICAgICAgaWYgKGVycikNCj4gPj4g
KyAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycjsNCj4gPj4gKyAgICB9IGVsc2Ugew0KPiA+
PiArICAgICAgICAgICAgbW92aW5nID0gTlVMTDsNCj4gPj4gKyAgICB9DQo+ID4+ICsNCj4gPj4g
ICAgICBpZiAoZmxhZ3MgJiBQSU5fR0xPQkFMKQ0KPiA+PiAgICAgICAgICAgICAgd2FrZXJlZiA9
IGludGVsX3J1bnRpbWVfcG1fZ2V0KCZ2bWEtPnZtLT5pOTE1LT5ydW50aW1lX3BtKTsNCj4gPj4N
Cj4gPj4gLSAgICBtb3ZpbmcgPSB2bWEtPm9iaiA/IGk5MTVfZ2VtX29iamVjdF9nZXRfbW92aW5n
X2ZlbmNlKHZtYS0+b2JqKSA6IE5VTEw7DQo+ID4+ICAgICAgaWYgKGZsYWdzICYgdm1hLT52bS0+
YmluZF9hc3luY19mbGFncyB8fCBtb3ZpbmcpIHsNCj4gPj4gICAgICAgICAgICAgIC8qIGxvY2sg
Vk0gKi8NCj4gPj4gICAgICAgICAgICAgIGVyciA9IGk5MTVfdm1fbG9ja19vYmplY3RzKHZtYS0+
dm0sIHd3KTsNCj4NCg0KDQotLSANCkRhbmllbCBWZXR0ZXINClNvZnR3YXJlIEVuZ2luZWVyLCBJ
bnRlbCBDb3Jwb3JhdGlvbg0KaHR0cDovL2Jsb2cuZmZ3bGwuY2gNCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkxpbmFyby1tbS1zaWcgbWFpbGluZyBsaXN0
IC0tIGxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9yZwpUbyB1bnN1YnNjcmliZSBzZW5kIGFu
IGVtYWlsIHRvIGxpbmFyby1tbS1zaWctbGVhdmVAbGlzdHMubGluYXJvLm9yZwo=
