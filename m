Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id 0F47BA88A23
	for <lists+linaro-mm-sig@lfdr.de>; Mon, 14 Apr 2025 19:44:19 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id CC14C44A48
	for <lists+linaro-mm-sig@lfdr.de>; Mon, 14 Apr 2025 17:44:17 +0000 (UTC)
Received: from lelvem-ot01.ext.ti.com (lelvem-ot01.ext.ti.com [198.47.23.234])
	by lists.linaro.org (Postfix) with ESMTPS id 29E554252F
	for <linaro-mm-sig@lists.linaro.org>; Mon, 14 Apr 2025 17:44:02 +0000 (UTC)
Authentication-Results: lists.linaro.org;
	dkim=pass header.d=ti.com header.s=ti-com-17Q1 header.b=Bm1lAKfl;
	spf=pass (lists.linaro.org: domain of afd@ti.com designates 198.47.23.234 as permitted sender) smtp.mailfrom=afd@ti.com;
	dmarc=pass (policy=quarantine) header.from=ti.com
Received: from lelv0266.itg.ti.com ([10.180.67.225])
	by lelvem-ot01.ext.ti.com (8.15.2/8.15.2) with ESMTPS id 53EHhkq02220803
	(version=TLSv1.2 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
	Mon, 14 Apr 2025 12:43:46 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ti.com;
	s=ti-com-17Q1; t=1744652626;
	bh=uSa+mwmKRsBHbiI7E5dH/18NMyqtwpzqZyLK302xmvo=;
	h=Date:Subject:To:CC:References:From:In-Reply-To;
	b=Bm1lAKflwAMgYAOCL2yVsM2jB/fBUu3cn1FssnlehWq6jbcwdnhFGtpOkaQ0gZKiy
	 tnQGJ1/oyRbco7PFdmQi19tAi/12G9iF+CFgwog6SSPDSQ6oHlzaSBUwohh+6fYcqQ
	 B51L9202lDKSXg9tvYPehbLnuSnTLVOBA906nzUc=
Received: from DFLE115.ent.ti.com (dfle115.ent.ti.com [10.64.6.36])
	by lelv0266.itg.ti.com (8.15.2/8.15.2) with ESMTPS id 53EHhk8m016722
	(version=TLSv1.2 cipher=AES256-GCM-SHA384 bits=256 verify=FAIL);
	Mon, 14 Apr 2025 12:43:46 -0500
Received: from DFLE102.ent.ti.com (10.64.6.23) by DFLE115.ent.ti.com
 (10.64.6.36) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.2507.23; Mon, 14
 Apr 2025 12:43:45 -0500
Received: from lelvsmtp5.itg.ti.com (10.180.75.250) by DFLE102.ent.ti.com
 (10.64.6.23) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.2507.23 via
 Frontend Transport; Mon, 14 Apr 2025 12:43:45 -0500
Received: from [10.249.42.149] ([10.249.42.149])
	by lelvsmtp5.itg.ti.com (8.15.2/8.15.2) with ESMTP id 53EHhjq3117844;
	Mon, 14 Apr 2025 12:43:45 -0500
Message-ID: <b3391234-ea53-4a18-a1e3-b8a92d9dff5d@ti.com>
Date: Mon, 14 Apr 2025 12:43:44 -0500
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
To: "T.J. Mercier" <tjmercier@google.com>, Maxime Ripard <mripard@kernel.org>
References: <20250407-dma-buf-ecc-heap-v3-0-97cdd36a5f29@kernel.org>
 <20250407-dma-buf-ecc-heap-v3-2-97cdd36a5f29@kernel.org>
 <CABdmKX0=Er-y41roEuZjGZ95YzMxt-mPd9K5982fm_eWhtX5vw@mail.gmail.com>
Content-Language: en-US
From: Andrew Davis <afd@ti.com>
In-Reply-To: <CABdmKX0=Er-y41roEuZjGZ95YzMxt-mPd9K5982fm_eWhtX5vw@mail.gmail.com>
X-C2ProcessedOrg: 333ef613-75bf-4e12-a4b1-8e3623f5dcea
X-Rspamd-Queue-Id: 29E554252F
X-Spamd-Bar: -----
X-Spamd-Result: default: False [-5.00 / 15.00];
	BAYES_HAM(-3.00)[100.00%];
	RBL_SENDERSCORE_REPUT_9(-1.00)[198.47.23.234:from];
	DMARC_POLICY_ALLOW(-0.50)[ti.com,quarantine];
	R_DKIM_ALLOW(-0.20)[ti.com:s=ti-com-17Q1];
	R_SPF_ALLOW(-0.20)[+ip4:198.47.23.224/27];
	MIME_GOOD(-0.10)[text/plain];
	ARC_NA(0.00)[];
	FROM_HAS_DN(0.00)[];
	MIME_TRACE(0.00)[0:+];
	ASN(0.00)[asn:161, ipnet:198.47.23.0/24, country:US];
	RCPT_COUNT_TWELVE(0.00)[15];
	NEURAL_HAM(-0.00)[-1.000];
	MID_RHS_MATCH_FROM(0.00)[];
	DNSWL_BLOCKED(0.00)[198.47.23.234:from];
	RCVD_COUNT_FIVE(0.00)[5];
	FROM_EQ_ENVFROM(0.00)[];
	TO_MATCH_ENVRCPT_SOME(0.00)[];
	TO_DN_SOME(0.00)[];
	RCVD_TLS_LAST(0.00)[];
	DKIM_TRACE(0.00)[ti.com:+]
X-Rspamd-Action: no action
X-Rspamd-Server: lists.linaro.org
Message-ID-Hash: 67RWBYO4N5JLVZUJLSWGJERR5RHQTBFU
X-Message-ID-Hash: 67RWBYO4N5JLVZUJLSWGJERR5RHQTBFU
X-MailFrom: afd@ti.com
X-Mailman-Rule-Hits: nonmember-moderation
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation
CC: Rob Herring <robh@kernel.org>, Saravana Kannan <saravanak@google.com>, Sumit Semwal <sumit.semwal@linaro.org>, Benjamin Gaignard <benjamin.gaignard@collabora.com>, Brian Starkey <Brian.Starkey@arm.com>, John Stultz <jstultz@google.com>, =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>, Mattijs Korpershoek <mkorpershoek@kernel.org>, devicetree@vger.kernel.org, linux-kernel@vger.kernel.org, linux-media@vger.kernel.org, dri-devel@lists.freedesktop.org, linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Re: [PATCH v3 2/2] dma-buf: heaps: Introduce a new heap for reserved memory
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/67RWBYO4N5JLVZUJLSWGJERR5RHQTBFU/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"; format="flowed"
Content-Transfer-Encoding: base64

T24gNC8xMS8yNSAzOjI2IFBNLCBULkouIE1lcmNpZXIgd3JvdGU6DQo+IE9uIE1vbiwgQXByIDcs
IDIwMjUgYXQgOToyOeKAr0FNIE1heGltZSBSaXBhcmQgPG1yaXBhcmRAa2VybmVsLm9yZz4gd3Jv
dGU6DQo+Pg0KPj4gU29tZSByZXNlcnZlZCBtZW1vcnkgcmVnaW9ucyBtaWdodCBoYXZlIHBhcnRp
Y3VsYXIgbWVtb3J5IHNldHVwIG9yDQo+PiBhdHRyaWJ1dGVzIHRoYXQgbWFrZSB0aGVtIGdvb2Qg
Y2FuZGlkYXRlcyBmb3IgaGVhcHMuDQo+Pg0KPj4gTGV0J3MgcHJvdmlkZSBhIGhlYXAgdHlwZSB0
aGF0IHdpbGwgY3JlYXRlIGEgbmV3IGhlYXAgZm9yIGVhY2ggcmVzZXJ2ZWQNCj4+IG1lbW9yeSBy
ZWdpb24gZmxhZ2dlZCBhcyBzdWNoLg0KPj4NCj4+IFNpZ25lZC1vZmYtYnk6IE1heGltZSBSaXBh
cmQgPG1yaXBhcmRAa2VybmVsLm9yZz4NCj4gDQo+IFRoaXMgcGF0Y2ggbG9va3MgZ29vZCB0byBt
ZSwgYnV0IEkgdGhpbmsgaXQnZCBiZSBnb29kIHRvIGFkZCBtb3JlDQo+IGp1c3RpZmljYXRpb24g
bGlrZSB5b3UgZGlkIGF0DQo+IGh0dHBzOi8vbG9yZS5rZXJuZWwub3JnL2FsbC8yMDI0MDUxNS1k
bWEtYnVmLWVjYy1oZWFwLXYxLTAtNTRjYmJkMDQ5NTExQGtlcm5lbC5vcmcNCj4gDQo+PiAtLS0N
Cj4+ICAgZHJpdmVycy9kbWEtYnVmL2hlYXBzL0tjb25maWcgICAgICAgICB8ICAgOCArDQo+PiAg
IGRyaXZlcnMvZG1hLWJ1Zi9oZWFwcy9NYWtlZmlsZSAgICAgICAgfCAgIDEgKw0KPj4gICBkcml2
ZXJzL2RtYS1idWYvaGVhcHMvY2FydmVvdXRfaGVhcC5jIHwgMzYwICsrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysNCj4+ICAgMyBmaWxlcyBjaGFuZ2VkLCAzNjkgaW5zZXJ0aW9ucygr
KQ0KPj4NCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2RtYS1idWYvaGVhcHMvS2NvbmZpZyBiL2Ry
aXZlcnMvZG1hLWJ1Zi9oZWFwcy9LY29uZmlnDQo+PiBpbmRleCBhNWVlZjA2YzQyMjY0NGU4YWFk
YWY1YWZmMmJkOWEzM2M0OWMxYmEzLi5jNjk4MWQ2OTY3MzNiNGQ4ZDBjM2Y2ZjVhMzdkOTY3ZmQ2
YTFhNGEyIDEwMDY0NA0KPj4gLS0tIGEvZHJpdmVycy9kbWEtYnVmL2hlYXBzL0tjb25maWcNCj4+
ICsrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9oZWFwcy9LY29uZmlnDQo+PiBAQCAtMSw1ICsxLDEzIEBA
DQo+PiArY29uZmlnIERNQUJVRl9IRUFQU19DQVJWRU9VVA0KPj4gKyAgICAgICBib29sICJDYXJ2
ZW91dCBIZWFwcyINCj4+ICsgICAgICAgZGVwZW5kcyBvbiBETUFCVUZfSEVBUFMNCj4+ICsgICAg
ICAgaGVscA0KPj4gKyAgICAgICAgIENob29zZSB0aGlzIG9wdGlvbiB0byBlbmFibGUgdGhlIGNh
cnZlb3V0IGRtYWJ1ZiBoZWFwLiBUaGUgY2FydmVvdXQNCj4+ICsgICAgICAgICBoZWFwIGlzIGJh
Y2tlZCBieSBwYWdlcyBmcm9tIHJlc2VydmVkIG1lbW9yeSByZWdpb25zIGZsYWdnZWQgYXMNCj4+
ICsgICAgICAgICBleHBvcnRhYmxlLiBJZiBpbiBkb3VidCwgc2F5IFkuDQo+PiArDQo+PiAgIGNv
bmZpZyBETUFCVUZfSEVBUFNfU1lTVEVNDQo+PiAgICAgICAgICBib29sICJETUEtQlVGIFN5c3Rl
bSBIZWFwIg0KPj4gICAgICAgICAgZGVwZW5kcyBvbiBETUFCVUZfSEVBUFMNCj4+ICAgICAgICAg
IGhlbHANCj4+ICAgICAgICAgICAgQ2hvb3NlIHRoaXMgb3B0aW9uIHRvIGVuYWJsZSB0aGUgc3lz
dGVtIGRtYWJ1ZiBoZWFwLiBUaGUgc3lzdGVtIGhlYXANCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2RtYS1idWYvaGVhcHMvTWFrZWZpbGUgYi9kcml2ZXJzL2RtYS1idWYvaGVhcHMvTWFrZWZpbGUN
Cj4+IGluZGV4IDk3NDQ2Nzc5MTAzMmZmYjhhN2FiYTE3YjE0MDdkOWExOWIzZjNiNDQuLmI3MzQ2
NDdhZDVjODRmNDQ5MTA2NzQ4MTYwMjU4ZTM3MmYxNTNkZjIgMTAwNjQ0DQo+PiAtLS0gYS9kcml2
ZXJzL2RtYS1idWYvaGVhcHMvTWFrZWZpbGUNCj4+ICsrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9oZWFw
cy9NYWtlZmlsZQ0KPj4gQEAgLTEsMyArMSw0IEBADQo+PiAgICMgU1BEWC1MaWNlbnNlLUlkZW50
aWZpZXI6IEdQTC0yLjANCj4+ICtvYmotJChDT05GSUdfRE1BQlVGX0hFQVBTX0NBUlZFT1VUKSAg
ICArPSBjYXJ2ZW91dF9oZWFwLm8NCj4+ICAgb2JqLSQoQ09ORklHX0RNQUJVRl9IRUFQU19TWVNU
RU0pICAgICAgKz0gc3lzdGVtX2hlYXAubw0KPj4gICBvYmotJChDT05GSUdfRE1BQlVGX0hFQVBT
X0NNQSkgICAgICAgICArPSBjbWFfaGVhcC5vDQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9kbWEt
YnVmL2hlYXBzL2NhcnZlb3V0X2hlYXAuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9oZWFwcy9jYXJ2ZW91
dF9oZWFwLmMNCj4+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0DQo+PiBpbmRleCAwMDAwMDAwMDAwMDAw
MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwLi5mNzE5OGI3ODFlYTU3ZjRmNjBlNTU0ZDkxN2M5
Mjc3ZTlhNzE2YjE2DQo+PiAtLS0gL2Rldi9udWxsDQo+PiArKysgYi9kcml2ZXJzL2RtYS1idWYv
aGVhcHMvY2FydmVvdXRfaGVhcC5jDQo+PiBAQCAtMCwwICsxLDM2MCBAQA0KPj4gKy8vIFNQRFgt
TGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wDQo+PiArDQo+PiArI2luY2x1ZGUgPGxpbnV4L2Rt
YS1idWYuaD4NCj4+ICsjaW5jbHVkZSA8bGludXgvZG1hLWhlYXAuaD4NCj4+ICsjaW5jbHVkZSA8
bGludXgvZ2VuYWxsb2MuaD4NCj4+ICsjaW5jbHVkZSA8bGludXgvaGlnaG1lbS5oPg0KPj4gKyNp
bmNsdWRlIDxsaW51eC9vZl9yZXNlcnZlZF9tZW0uaD4NCj4+ICsNCj4+ICtzdHJ1Y3QgY2FydmVv
dXRfaGVhcF9wcml2IHsNCj4+ICsgICAgICAgc3RydWN0IGRtYV9oZWFwICpoZWFwOw0KPj4gKyAg
ICAgICBzdHJ1Y3QgZ2VuX3Bvb2wgKnBvb2w7DQo+PiArfTsNCj4+ICsNCj4+ICtzdHJ1Y3QgY2Fy
dmVvdXRfaGVhcF9idWZmZXJfcHJpdiB7DQo+PiArICAgICAgIHN0cnVjdCBtdXRleCBsb2NrOw0K
Pj4gKyAgICAgICBzdHJ1Y3QgbGlzdF9oZWFkIGF0dGFjaG1lbnRzOw0KPj4gKw0KPj4gKyAgICAg
ICB1bnNpZ25lZCBsb25nIG51bV9wYWdlczsNCj4+ICsgICAgICAgc3RydWN0IGNhcnZlb3V0X2hl
YXBfcHJpdiAqaGVhcDsNCj4+ICsgICAgICAgZG1hX2FkZHJfdCBkYWRkcjsNCj4+ICsgICAgICAg
dm9pZCAqdmFkZHI7DQo+PiArICAgICAgIHVuc2lnbmVkIGludCB2bWFwX2NudDsNCj4+ICt9Ow0K
Pj4gKw0KPj4gK3N0cnVjdCBjYXJ2ZW91dF9oZWFwX2F0dGFjaG1lbnQgew0KPj4gKyAgICAgICBz
dHJ1Y3QgbGlzdF9oZWFkIGhlYWQ7DQo+PiArICAgICAgIHN0cnVjdCBzZ190YWJsZSB0YWJsZTsN
Cj4+ICsNCj4+ICsgICAgICAgc3RydWN0IGRldmljZSAqZGV2Ow0KPj4gKyAgICAgICBib29sIG1h
cHBlZDsNCj4+ICt9Ow0KPj4gKw0KPj4gK3N0YXRpYyBpbnQgY2FydmVvdXRfaGVhcF9hdHRhY2go
c3RydWN0IGRtYV9idWYgKmJ1ZiwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNobWVudCkNCj4+ICt7DQo+PiArICAgICAg
IHN0cnVjdCBjYXJ2ZW91dF9oZWFwX2J1ZmZlcl9wcml2ICpwcml2ID0gYnVmLT5wcml2Ow0KPj4g
KyAgICAgICBzdHJ1Y3QgY2FydmVvdXRfaGVhcF9hdHRhY2htZW50ICphOw0KPj4gKyAgICAgICBz
dHJ1Y3Qgc2dfdGFibGUgKnNndDsNCj4+ICsgICAgICAgdW5zaWduZWQgbG9uZyBsZW4gPSBwcml2
LT5udW1fcGFnZXMgKiBQQUdFX1NJWkU7DQo+PiArICAgICAgIGludCByZXQ7DQo+PiArDQo+PiAr
ICAgICAgIGEgPSBremFsbG9jKHNpemVvZigqYSksIEdGUF9LRVJORUwpOw0KPj4gKyAgICAgICBp
ZiAoIWEpDQo+PiArICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07DQo+PiArICAgICAgIElO
SVRfTElTVF9IRUFEKCZhLT5oZWFkKTsNCj4+ICsgICAgICAgYS0+ZGV2ID0gYXR0YWNobWVudC0+
ZGV2Ow0KPj4gKyAgICAgICBhdHRhY2htZW50LT5wcml2ID0gYTsNCj4+ICsNCj4+ICsgICAgICAg
c2d0ID0gJmEtPnRhYmxlOw0KPj4gKyAgICAgICByZXQgPSBzZ19hbGxvY190YWJsZShzZ3QsIDEs
IEdGUF9LRVJORUwpOw0KPj4gKyAgICAgICBpZiAocmV0KQ0KPj4gKyAgICAgICAgICAgICAgIGdv
dG8gZXJyX2NsZWFudXBfYXR0YWNoOw0KPj4gKw0KPj4gKyAgICAgICBzZ19kbWFfYWRkcmVzcyhz
Z3QtPnNnbCkgPSBwcml2LT5kYWRkcjsNCj4+ICsgICAgICAgc2dfZG1hX2xlbihzZ3QtPnNnbCkg
PSBsZW47DQo+PiArDQo+PiArICAgICAgIG11dGV4X2xvY2soJnByaXYtPmxvY2spOw0KPj4gKyAg
ICAgICBsaXN0X2FkZCgmYS0+aGVhZCwgJnByaXYtPmF0dGFjaG1lbnRzKTsNCj4+ICsgICAgICAg
bXV0ZXhfdW5sb2NrKCZwcml2LT5sb2NrKTsNCj4+ICsNCj4+ICsgICAgICAgcmV0dXJuIDA7DQo+
PiArDQo+PiArZXJyX2NsZWFudXBfYXR0YWNoOg0KPj4gKyAgICAgICBrZnJlZShhKTsNCj4+ICsg
ICAgICAgcmV0dXJuIHJldDsNCj4+ICt9DQo+PiArDQo+PiArc3RhdGljIHZvaWQgY2FydmVvdXRf
aGVhcF9kZXRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1ZiwNCj4+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaG1lbnQpDQo+
PiArew0KPj4gKyAgICAgICBzdHJ1Y3QgY2FydmVvdXRfaGVhcF9idWZmZXJfcHJpdiAqcHJpdiA9
IGRtYWJ1Zi0+cHJpdjsNCj4+ICsgICAgICAgc3RydWN0IGNhcnZlb3V0X2hlYXBfYXR0YWNobWVu
dCAqYSA9IGF0dGFjaG1lbnQtPnByaXY7DQo+PiArDQo+PiArICAgICAgIG11dGV4X2xvY2soJnBy
aXYtPmxvY2spOw0KPj4gKyAgICAgICBsaXN0X2RlbCgmYS0+aGVhZCk7DQo+PiArICAgICAgIG11
dGV4X3VubG9jaygmcHJpdi0+bG9jayk7DQo+PiArDQo+PiArICAgICAgIHNnX2ZyZWVfdGFibGUo
JmEtPnRhYmxlKTsNCj4+ICsgICAgICAga2ZyZWUoYSk7DQo+PiArfQ0KPj4gKw0KPj4gK3N0YXRp
YyBzdHJ1Y3Qgc2dfdGFibGUgKg0KPj4gK2NhcnZlb3V0X2hlYXBfbWFwX2RtYV9idWYoc3RydWN0
IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNobWVudCwNCj4+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyZWN0aW9uKQ0KPj4gK3sNCj4+ICsgICAg
ICAgc3RydWN0IGNhcnZlb3V0X2hlYXBfYXR0YWNobWVudCAqYSA9IGF0dGFjaG1lbnQtPnByaXY7
DQo+PiArICAgICAgIHN0cnVjdCBzZ190YWJsZSAqdGFibGUgPSAmYS0+dGFibGU7DQo+PiArICAg
ICAgIGludCByZXQ7DQo+PiArDQo+PiArICAgICAgIHJldCA9IGRtYV9tYXBfc2d0YWJsZShhLT5k
ZXYsIHRhYmxlLCBkaXJlY3Rpb24sIDApOw0KPj4gKyAgICAgICBpZiAocmV0KQ0KPj4gKyAgICAg
ICAgICAgICAgIHJldHVybiBFUlJfUFRSKC1FTk9NRU0pOw0KPiANCj4gTm90IEVSUl9QVFIocmV0
KT8gVGhpcyBpcyBhbHJlYWR5IGNvbnZlcnRlZCB0byBFTk9NRU0gYnkNCj4gZG1hX2J1Zl9tYXBf
YXR0YWNobWVudCBiZWZvcmUgbGVhdmluZyB0aGUgZG1hYnVmIGNvZGUsIGJ1dCBpdCBtaWdodCBi
ZQ0KPiBuaWNlIHRvIHJldGFpbiB0aGUgZXJyb3IgdHlwZSBpbnRlcm5hbGx5LiBUaGUgdHdvIGV4
aXN0aW5nIGhlYXBzDQo+IGFyZW4ndCBjb25zaXN0ZW50IGFib3V0IHRoaXMsIGFuZCBJIGhhdmUg
YSBzbGlnaHQgcHJlZmVyZW5jZSB0bw0KPiBwcm9wYWdhdGUgdGhlIGVycm9yIGhlcmUuDQo+IA0K
Pj4gKw0KPj4gKyAgICAgICBhLT5tYXBwZWQgPSB0cnVlOw0KPj4gKw0KPj4gKyAgICAgICByZXR1
cm4gdGFibGU7DQo+PiArfQ0KPj4gKw0KPj4gK3N0YXRpYyB2b2lkIGNhcnZlb3V0X2hlYXBfdW5t
YXBfZG1hX2J1ZihzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2htZW50LA0KPj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBzZ190YWJsZSAqdGFi
bGUsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bSBkbWFf
ZGF0YV9kaXJlY3Rpb24gZGlyZWN0aW9uKQ0KPj4gK3sNCj4+ICsgICAgICAgc3RydWN0IGNhcnZl
b3V0X2hlYXBfYXR0YWNobWVudCAqYSA9IGF0dGFjaG1lbnQtPnByaXY7DQo+PiArDQo+PiArICAg
ICAgIGEtPm1hcHBlZCA9IGZhbHNlOw0KPj4gKyAgICAgICBkbWFfdW5tYXBfc2d0YWJsZShhLT5k
ZXYsIHRhYmxlLCBkaXJlY3Rpb24sIDApOw0KPj4gK30NCj4+ICsNCj4+ICtzdGF0aWMgaW50DQo+
PiArY2FydmVvdXRfaGVhcF9kbWFfYnVmX2JlZ2luX2NwdV9hY2Nlc3Moc3RydWN0IGRtYV9idWYg
KmRtYWJ1ZiwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0g
ZG1hX2RhdGFfZGlyZWN0aW9uIGRpcmVjdGlvbikNCj4+ICt7DQo+PiArICAgICAgIHN0cnVjdCBj
YXJ2ZW91dF9oZWFwX2J1ZmZlcl9wcml2ICpwcml2ID0gZG1hYnVmLT5wcml2Ow0KPj4gKyAgICAg
ICBzdHJ1Y3QgY2FydmVvdXRfaGVhcF9hdHRhY2htZW50ICphOw0KPj4gKyAgICAgICB1bnNpZ25l
ZCBsb25nIGxlbiA9IHByaXYtPm51bV9wYWdlcyAqIFBBR0VfU0laRTsNCj4+ICsNCj4+ICsgICAg
ICAgbXV0ZXhfbG9jaygmcHJpdi0+bG9jayk7DQo+PiArDQo+PiArICAgICAgIGlmIChwcml2LT52
bWFwX2NudCA+IDApDQo+PiArICAgICAgICAgICAgICAgaW52YWxpZGF0ZV9rZXJuZWxfdm1hcF9y
YW5nZShwcml2LT52YWRkciwgbGVuKTsNCj4+ICsNCj4+ICsgICAgICAgbGlzdF9mb3JfZWFjaF9l
bnRyeShhLCAmcHJpdi0+YXR0YWNobWVudHMsIGhlYWQpIHsNCj4+ICsgICAgICAgICAgICAgICBp
ZiAoIWEtPm1hcHBlZCkNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KPj4g
Kw0KPj4gKyAgICAgICAgICAgICAgIGRtYV9zeW5jX3NndGFibGVfZm9yX2NwdShhLT5kZXYsICZh
LT50YWJsZSwgZGlyZWN0aW9uKTsNCj4+ICsgICAgICAgfQ0KPj4gKw0KPj4gKyAgICAgICBtdXRl
eF91bmxvY2soJnByaXYtPmxvY2spOw0KPj4gKw0KPj4gKyAgICAgICByZXR1cm4gMDsNCj4+ICt9
DQo+PiArDQo+PiArc3RhdGljIGludA0KPj4gK2NhcnZlb3V0X2hlYXBfZG1hX2J1Zl9lbmRfY3B1
X2FjY2VzcyhzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLA0KPj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGVudW0gZG1hX2RhdGFfZGlyZWN0aW9uIGRpcmVjdGlvbikNCj4+ICt7
DQo+PiArICAgICAgIHN0cnVjdCBjYXJ2ZW91dF9oZWFwX2J1ZmZlcl9wcml2ICpwcml2ID0gZG1h
YnVmLT5wcml2Ow0KPj4gKyAgICAgICBzdHJ1Y3QgY2FydmVvdXRfaGVhcF9hdHRhY2htZW50ICph
Ow0KPj4gKyAgICAgICB1bnNpZ25lZCBsb25nIGxlbiA9IHByaXYtPm51bV9wYWdlcyAqIFBBR0Vf
U0laRTsNCj4+ICsNCj4+ICsgICAgICAgbXV0ZXhfbG9jaygmcHJpdi0+bG9jayk7DQo+PiArDQo+
PiArICAgICAgIGlmIChwcml2LT52bWFwX2NudCA+IDApDQo+PiArICAgICAgICAgICAgICAgZmx1
c2hfa2VybmVsX3ZtYXBfcmFuZ2UocHJpdi0+dmFkZHIsIGxlbik7DQo+PiArDQo+PiArICAgICAg
IGxpc3RfZm9yX2VhY2hfZW50cnkoYSwgJnByaXYtPmF0dGFjaG1lbnRzLCBoZWFkKSB7DQo+PiAr
ICAgICAgICAgICAgICAgaWYgKCFhLT5tYXBwZWQpDQo+PiArICAgICAgICAgICAgICAgICAgICAg
ICBjb250aW51ZTsNCj4+ICsNCj4+ICsgICAgICAgICAgICAgICBkbWFfc3luY19zZ3RhYmxlX2Zv
cl9kZXZpY2UoYS0+ZGV2LCAmYS0+dGFibGUsIGRpcmVjdGlvbik7DQo+PiArICAgICAgIH0NCj4+
ICsNCj4+ICsgICAgICAgbXV0ZXhfdW5sb2NrKCZwcml2LT5sb2NrKTsNCj4+ICsNCj4+ICsgICAg
ICAgcmV0dXJuIDA7DQo+PiArfQ0KPj4gKw0KPj4gK3N0YXRpYyBpbnQgY2FydmVvdXRfaGVhcF9t
bWFwKHN0cnVjdCBkbWFfYnVmICpkbWFidWYsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSkNCj4+ICt7DQo+PiArICAgICAgIHN0cnVj
dCBjYXJ2ZW91dF9oZWFwX2J1ZmZlcl9wcml2ICpwcml2ID0gZG1hYnVmLT5wcml2Ow0KPj4gKyAg
ICAgICB1bnNpZ25lZCBsb25nIGxlbiA9IHByaXYtPm51bV9wYWdlcyAqIFBBR0VfU0laRTsNCj4+
ICsgICAgICAgc3RydWN0IHBhZ2UgKnBhZ2UgPSB2aXJ0X3RvX3BhZ2UocHJpdi0+dmFkZHIpOw0K
Pj4gKw0KPj4gKyAgICAgICByZXR1cm4gcmVtYXBfcGZuX3JhbmdlKHZtYSwgdm1hLT52bV9zdGFy
dCwgcGFnZV90b19wZm4ocGFnZSksDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
bGVuLCB2bWEtPnZtX3BhZ2VfcHJvdCk7DQo+PiArfQ0KPj4gKw0KPj4gK3N0YXRpYyBpbnQgY2Fy
dmVvdXRfaGVhcF92bWFwKHN0cnVjdCBkbWFfYnVmICpkbWFidWYsIHN0cnVjdCBpb3N5c19tYXAg
Km1hcCkNCj4+ICt7DQo+PiArICAgICAgIHN0cnVjdCBjYXJ2ZW91dF9oZWFwX2J1ZmZlcl9wcml2
ICpwcml2ID0gZG1hYnVmLT5wcml2Ow0KPj4gKw0KPj4gKyAgICAgICBtdXRleF9sb2NrKCZwcml2
LT5sb2NrKTsNCj4+ICsNCj4+ICsgICAgICAgaW9zeXNfbWFwX3NldF92YWRkcihtYXAsIHByaXYt
PnZhZGRyKTsNCj4+ICsgICAgICAgcHJpdi0+dm1hcF9jbnQrKzsNCj4+ICsNCj4+ICsgICAgICAg
bXV0ZXhfdW5sb2NrKCZwcml2LT5sb2NrKTsNCj4+ICsNCj4+ICsgICAgICAgcmV0dXJuIDA7DQo+
PiArfQ0KPj4gKw0KPj4gK3N0YXRpYyB2b2lkIGNhcnZlb3V0X2hlYXBfdnVubWFwKHN0cnVjdCBk
bWFfYnVmICpkbWFidWYsIHN0cnVjdCBpb3N5c19tYXAgKm1hcCkNCj4+ICt7DQo+PiArICAgICAg
IHN0cnVjdCBjYXJ2ZW91dF9oZWFwX2J1ZmZlcl9wcml2ICpwcml2ID0gZG1hYnVmLT5wcml2Ow0K
Pj4gKw0KPj4gKyAgICAgICBtdXRleF9sb2NrKCZwcml2LT5sb2NrKTsNCj4+ICsNCj4+ICsgICAg
ICAgcHJpdi0+dm1hcF9jbnQtLTsNCj4+ICsgICAgICAgbXV0ZXhfdW5sb2NrKCZwcml2LT5sb2Nr
KTsNCj4+ICsNCj4+ICsgICAgICAgaW9zeXNfbWFwX2NsZWFyKG1hcCk7DQo+PiArfQ0KPj4gKw0K
Pj4gK3N0YXRpYyB2b2lkIGNhcnZlb3V0X2hlYXBfZG1hX2J1Zl9yZWxlYXNlKHN0cnVjdCBkbWFf
YnVmICpidWYpDQo+PiArew0KPj4gKyAgICAgICBzdHJ1Y3QgY2FydmVvdXRfaGVhcF9idWZmZXJf
cHJpdiAqYnVmZmVyX3ByaXYgPSBidWYtPnByaXY7DQo+PiArICAgICAgIHN0cnVjdCBjYXJ2ZW91
dF9oZWFwX3ByaXYgKmhlYXBfcHJpdiA9IGJ1ZmZlcl9wcml2LT5oZWFwOw0KPj4gKyAgICAgICB1
bnNpZ25lZCBsb25nIGxlbiA9IGJ1ZmZlcl9wcml2LT5udW1fcGFnZXMgKiBQQUdFX1NJWkU7DQo+
PiArDQo+PiArICAgICAgIGdlbl9wb29sX2ZyZWUoaGVhcF9wcml2LT5wb29sLCAodW5zaWduZWQg
bG9uZylidWZmZXJfcHJpdi0+dmFkZHIsIGxlbik7DQo+PiArICAgICAgIGtmcmVlKGJ1ZmZlcl9w
cml2KTsNCj4+ICt9DQo+PiArDQo+PiArc3RhdGljIGNvbnN0IHN0cnVjdCBkbWFfYnVmX29wcyBj
YXJ2ZW91dF9oZWFwX2J1Zl9vcHMgPSB7DQo+PiArICAgICAgIC5hdHRhY2ggICAgICAgICA9IGNh
cnZlb3V0X2hlYXBfYXR0YWNoLA0KPj4gKyAgICAgICAuZGV0YWNoICAgICAgICAgPSBjYXJ2ZW91
dF9oZWFwX2RldGFjaCwNCj4+ICsgICAgICAgLm1hcF9kbWFfYnVmICAgID0gY2FydmVvdXRfaGVh
cF9tYXBfZG1hX2J1ZiwNCj4+ICsgICAgICAgLnVubWFwX2RtYV9idWYgID0gY2FydmVvdXRfaGVh
cF91bm1hcF9kbWFfYnVmLA0KPj4gKyAgICAgICAuYmVnaW5fY3B1X2FjY2VzcyAgICAgICA9IGNh
cnZlb3V0X2hlYXBfZG1hX2J1Zl9iZWdpbl9jcHVfYWNjZXNzLA0KPj4gKyAgICAgICAuZW5kX2Nw
dV9hY2Nlc3MgPSBjYXJ2ZW91dF9oZWFwX2RtYV9idWZfZW5kX2NwdV9hY2Nlc3MsDQo+PiArICAg
ICAgIC5tbWFwICAgICAgICAgICA9IGNhcnZlb3V0X2hlYXBfbW1hcCwNCj4+ICsgICAgICAgLnZt
YXAgICAgICAgICAgID0gY2FydmVvdXRfaGVhcF92bWFwLA0KPj4gKyAgICAgICAudnVubWFwICAg
ICAgICAgPSBjYXJ2ZW91dF9oZWFwX3Z1bm1hcCwNCj4+ICsgICAgICAgLnJlbGVhc2UgICAgICAg
ID0gY2FydmVvdXRfaGVhcF9kbWFfYnVmX3JlbGVhc2UsDQo+PiArfTsNCj4+ICsNCj4+ICtzdGF0
aWMgc3RydWN0IGRtYV9idWYgKmNhcnZlb3V0X2hlYXBfYWxsb2NhdGUoc3RydWN0IGRtYV9oZWFw
ICpoZWFwLA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVuc2lnbmVkIGxvbmcgbGVuLA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHUzMiBmZF9mbGFncywNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1NjQgaGVhcF9mbGFncykNCj4+ICt7DQo+PiArICAgICAgIHN0
cnVjdCBjYXJ2ZW91dF9oZWFwX3ByaXYgKmhlYXBfcHJpdiA9IGRtYV9oZWFwX2dldF9kcnZkYXRh
KGhlYXApOw0KPj4gKyAgICAgICBzdHJ1Y3QgY2FydmVvdXRfaGVhcF9idWZmZXJfcHJpdiAqYnVm
ZmVyX3ByaXY7DQo+PiArICAgICAgIERFRklORV9ETUFfQlVGX0VYUE9SVF9JTkZPKGV4cF9pbmZv
KTsNCj4+ICsgICAgICAgc3RydWN0IGRtYV9idWYgKmJ1ZjsNCj4+ICsgICAgICAgZG1hX2FkZHJf
dCBkYWRkcjsNCj4+ICsgICAgICAgc2l6ZV90IHNpemUgPSBQQUdFX0FMSUdOKGxlbik7DQo+IA0K
PiBUaGlzIFBBR0VfQUxJR04gaXMgbm90IG5lZWRlZCBzaW5jZSBkbWFfaGVhcF9idWZmZXJfYWxs
b2MgcmVxdWlyZXMgYWxsDQo+IGhlYXAgYWxsb2NhdGlvbnMgdG8gYmUgcGFnZSBhbGlnbmVkIGJl
Zm9yZSB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZC4NCj4gDQo+IA0KPiANCj4gDQo+IA0KPj4gKyAg
ICAgICB2b2lkICp2YWRkcjsNCj4+ICsgICAgICAgaW50IHJldDsNCj4+ICsNCj4+ICsgICAgICAg
YnVmZmVyX3ByaXYgPSBremFsbG9jKHNpemVvZigqYnVmZmVyX3ByaXYpLCBHRlBfS0VSTkVMKTsN
Cj4+ICsgICAgICAgaWYgKCFidWZmZXJfcHJpdikNCj4+ICsgICAgICAgICAgICAgICByZXR1cm4g
RVJSX1BUUigtRU5PTUVNKTsNCj4+ICsNCj4+ICsgICAgICAgSU5JVF9MSVNUX0hFQUQoJmJ1ZmZl
cl9wcml2LT5hdHRhY2htZW50cyk7DQo+PiArICAgICAgIG11dGV4X2luaXQoJmJ1ZmZlcl9wcml2
LT5sb2NrKTsNCj4+ICsNCj4+ICsgICAgICAgdmFkZHIgPSBnZW5fcG9vbF9kbWFfemFsbG9jKGhl
YXBfcHJpdi0+cG9vbCwgc2l6ZSwgJmRhZGRyKTsNCj4+ICsgICAgICAgaWYgKCF2YWRkcikgew0K
Pj4gKyAgICAgICAgICAgICAgIHJldCA9IC1FTk9NRU07DQo+PiArICAgICAgICAgICAgICAgZ290
byBlcnJfZnJlZV9idWZmZXJfcHJpdjsNCj4+ICsgICAgICAgfQ0KPj4gKw0KPj4gKyAgICAgICBi
dWZmZXJfcHJpdi0+dmFkZHIgPSB2YWRkcjsNCj4+ICsgICAgICAgYnVmZmVyX3ByaXYtPmRhZGRy
ID0gZGFkZHI7DQo+PiArICAgICAgIGJ1ZmZlcl9wcml2LT5oZWFwID0gaGVhcF9wcml2Ow0KPj4g
KyAgICAgICBidWZmZXJfcHJpdi0+bnVtX3BhZ2VzID0gc2l6ZSA+PiBQQUdFX1NISUZUOw0KPj4g
Kw0KPj4gKyAgICAgICAvKiBjcmVhdGUgdGhlIGRtYWJ1ZiAqLw0KPj4gKyAgICAgICBleHBfaW5m
by5leHBfbmFtZSA9IGRtYV9oZWFwX2dldF9uYW1lKGhlYXApOw0KPj4gKyAgICAgICBleHBfaW5m
by5vcHMgPSAmY2FydmVvdXRfaGVhcF9idWZfb3BzOw0KPj4gKyAgICAgICBleHBfaW5mby5zaXpl
ID0gc2l6ZTsNCj4+ICsgICAgICAgZXhwX2luZm8uZmxhZ3MgPSBmZF9mbGFnczsNCj4+ICsgICAg
ICAgZXhwX2luZm8ucHJpdiA9IGJ1ZmZlcl9wcml2Ow0KPj4gKw0KPj4gKyAgICAgICBidWYgPSBk
bWFfYnVmX2V4cG9ydCgmZXhwX2luZm8pOw0KPj4gKyAgICAgICBpZiAoSVNfRVJSKGJ1ZikpIHsN
Cj4+ICsgICAgICAgICAgICAgICByZXQgPSBQVFJfRVJSKGJ1Zik7DQo+PiArICAgICAgICAgICAg
ICAgZ290byBlcnJfZnJlZV9idWZmZXI7DQo+PiArICAgICAgIH0NCj4+ICsNCj4+ICsgICAgICAg
cmV0dXJuIGJ1ZjsNCj4+ICsNCj4+ICtlcnJfZnJlZV9idWZmZXI6DQo+PiArICAgICAgIGdlbl9w
b29sX2ZyZWUoaGVhcF9wcml2LT5wb29sLCAodW5zaWduZWQgbG9uZyl2YWRkciwgbGVuKTsNCj4+
ICtlcnJfZnJlZV9idWZmZXJfcHJpdjoNCj4+ICsgICAgICAga2ZyZWUoYnVmZmVyX3ByaXYpOw0K
Pj4gKw0KPj4gKyAgICAgICByZXR1cm4gRVJSX1BUUihyZXQpOw0KPj4gK30NCj4+ICsNCj4+ICtz
dGF0aWMgY29uc3Qgc3RydWN0IGRtYV9oZWFwX29wcyBjYXJ2ZW91dF9oZWFwX29wcyA9IHsNCj4+
ICsgICAgICAgLmFsbG9jYXRlID0gY2FydmVvdXRfaGVhcF9hbGxvY2F0ZSwNCj4+ICt9Ow0KPj4g
Kw0KPj4gK3N0YXRpYyBpbnQgX19pbml0IGNhcnZlb3V0X2hlYXBfc2V0dXAoc3RydWN0IGRldmlj
ZV9ub2RlICpub2RlKQ0KPj4gK3sNCj4+ICsgICAgICAgc3RydWN0IGRtYV9oZWFwX2V4cG9ydF9p
bmZvIGV4cF9pbmZvID0ge307DQo+PiArICAgICAgIGNvbnN0IHN0cnVjdCByZXNlcnZlZF9tZW0g
KnJtZW07DQo+PiArICAgICAgIHN0cnVjdCBjYXJ2ZW91dF9oZWFwX3ByaXYgKnByaXY7DQo+PiAr
ICAgICAgIHN0cnVjdCBkbWFfaGVhcCAqaGVhcDsNCj4+ICsgICAgICAgc3RydWN0IGdlbl9wb29s
ICpwb29sOw0KPj4gKyAgICAgICB2b2lkICpiYXNlOw0KPj4gKyAgICAgICBpbnQgcmV0Ow0KPj4g
Kw0KPj4gKyAgICAgICBybWVtID0gb2ZfcmVzZXJ2ZWRfbWVtX2xvb2t1cChub2RlKTsNCj4+ICsg
ICAgICAgaWYgKCFybWVtKQ0KPj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KPj4g
Kw0KPj4gKyAgICAgICBwcml2ID0ga3phbGxvYyhzaXplb2YoKnByaXYpLCBHRlBfS0VSTkVMKTsN
Cj4+ICsgICAgICAgaWYgKCFwcml2KQ0KPj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVN
Ow0KPj4gKw0KPj4gKyAgICAgICBwb29sID0gZ2VuX3Bvb2xfY3JlYXRlKFBBR0VfU0hJRlQsIE5V
TUFfTk9fTk9ERSk7DQo+PiArICAgICAgIGlmICghcG9vbCkgew0KPj4gKyAgICAgICAgICAgICAg
IHJldCA9IC1FTk9NRU07DQo+PiArICAgICAgICAgICAgICAgZ290byBlcnJfY2xlYW51cF9oZWFw
Ow0KPj4gKyAgICAgICB9DQo+PiArICAgICAgIHByaXYtPnBvb2wgPSBwb29sOw0KPj4gKw0KPj4g
KyAgICAgICBiYXNlID0gbWVtcmVtYXAocm1lbS0+YmFzZSwgcm1lbS0+c2l6ZSwgTUVNUkVNQVBf
V0IpOw0KDQpXaHkgYWRkIGEgbWFwcGluZyBoZXJlPyBXaGF0IGlmIHRoZSBjYXJ2ZW91dCBpcyBu
ZXZlciBtYXBwZWQgYnkgdGhlIENQVQ0KKG9yIG1heWJlIGl0IHNob3VsZG4ndCBiZSBtYXBwZWQg
Zm9yIHNvbWUgcmVhc29uKS4gSW5zdGVhZCB5b3UgY291bGQNCm1ha2UgdGhlIG1hcCBhdCBtYXAg
dGltZS4gSSBkbyBpdCB0aGF0IHdheSBpbiBvdXIgZXZpbCB2ZW5kb3IgdHJlZQ0KdmVyc2lvbiBv
ZiB0aGlzIGRyaXZlciBmb3IgcmVmZXJlbmNlWzBdLg0KDQo+PiArICAgICAgIGlmICghYmFzZSkg
ew0KPj4gKyAgICAgICAgICAgICAgIHJldCA9IC1FTk9NRU07DQo+PiArICAgICAgICAgICAgICAg
Z290byBlcnJfcmVsZWFzZV9tZW1fcmVnaW9uOw0KPj4gKyAgICAgICB9DQo+PiArDQo+PiArICAg
ICAgIHJldCA9IGdlbl9wb29sX2FkZF92aXJ0KHBvb2wsICh1bnNpZ25lZCBsb25nKWJhc2UsIHJt
ZW0tPmJhc2UsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJtZW0tPnNpemUs
IE5VTUFfTk9fTk9ERSk7DQo+PiArICAgICAgIGlmIChyZXQpDQo+PiArICAgICAgICAgICAgICAg
Z290byBlcnJfdW5tYXA7DQo+PiArDQo+PiArICAgICAgIGV4cF9pbmZvLm5hbWUgPSBub2RlLT5m
dWxsX25hbWU7DQoNClNvIHRoaXMgaXMgdGhlIG9ubHkgcGFydCB0aGF0IGNvbmNlcm5zIG1lLiBX
ZSByZWFsbHkgZ290IHRoZSB1c2VyIGV4cG9zZWQNCm5hbWluZyB3cm9uZyB3aXRoIHRoZSBDTUEg
SGVhcCBJTUhPIChwcm9iYWJseSBzaG91bGQgaGF2ZSBiZWVuIGFsd2F5cyBjYWxsZWQNCiJkZWZh
dWx0X2NtYSIgb3Igc29tdGhpbmcsIGluc3RlYWQgaXQgY2hhbmdlcyBiYXNlZCBvbiBob3cgdGhl
IGRlZmF1bHQgQ01BDQphcmVhIHdhcyBkZWZpbmVkKS4NCg0KSWYgdGhlIG5hbWUgb2YgdGhlIGhl
YXAgaXMgaG93IHVzZXJzIHNlbGVjdCB0aGUgaGVhcCwgaXQgbmVlZHMgdG8gYmUgY29uc2lzdGVu
dC4NCkFuZCBuYW1pbmcgaXQgYWZ0ZXIgdGhlIG5vZGUgbWFrZXMgdGhlIERUIG5hbWUgaW50byBB
QkkuIEl0IGFsc28gbWVhbnMgaXQgd2lsbA0KY2hhbmdlIGJhc2VkIG9uIGRldmljZSwgb3IgZXZl
biBiYXNlZCBvbiBob3cgaXQgaXMgY3JlYXRlZC4gV2hhdCBpZiB0aGlzIHNhbWUNCnJlc2VydmVk
IHJlZ2lvbiBpcyBkZWZpbmVkIGJ5IEFDUEkgaW5zdGVhZCBvZiBEVCBpbiBzb21lIGNhc2VzLCBv
ciBmcm9tIGtlcm5lbA0KY29tbWFuZC1saW5lLCBldGMuLiBNYWtlcyBmb3IgYmFkIEFCSSA6KA0K
DQpNYXliZSBpbiBhZGRpdGlvbiB0byB0aGUgImV4cG9ydCIgcHJvcGVydHksIGluIHRoZSBEVCBu
b2RlIHdlIGhhdmUgYSAiaGVhcC1uYW1lIg0KdGhhdCBjYW4gYmUgc2V0IHdoaWNoIHRoZW4gZGVm
aW5lcyB3aGF0IG5hbWUgaXMgcHJlc2VudGVkIHRvIHVzZXJzcGFjZS4gQXQNCnZlcnkgbGVhc3Qg
dGhhdCBhbGxvd3MgdXMgdG8ga2ljayB0aGUgY2FuIGRvd24gdGhlIHJvYWQgdGlsbCB3ZSBjYW4g
ZmlndXJlIG91dA0Kd2hhdCBnb29kIHBvcnRhYmxlIEhlYXAgbmFtZXMgc2hvdWxkIGxvb2sgbGlr
ZS4NCg0KQW5kcmV3DQoNClswXSBodHRwczovL2dpdC50aS5jb20vY2dpdC90aS1saW51eC1rZXJu
ZWwvdGktbGludXgta2VybmVsL3RyZWUvZHJpdmVycy9kbWEtYnVmL2hlYXBzL2NhcnZlb3V0LWhl
YXAuYz9oPXRpLWxpbnV4LTYuMTIueQ0KDQo+PiArICAgICAgIGV4cF9pbmZvLm9wcyA9ICZjYXJ2
ZW91dF9oZWFwX29wczsNCj4+ICsgICAgICAgZXhwX2luZm8ucHJpdiA9IHByaXY7DQo+PiArDQo+
PiArICAgICAgIGhlYXAgPSBkbWFfaGVhcF9hZGQoJmV4cF9pbmZvKTsNCj4+ICsgICAgICAgaWYg
KElTX0VSUihoZWFwKSkgew0KPj4gKyAgICAgICAgICAgICAgIHJldCA9IFBUUl9FUlIoaGVhcCk7
DQo+PiArICAgICAgICAgICAgICAgZ290byBlcnJfY2xlYW51cF9wb29sX3JlZ2lvbjsNCj4+ICsg
ICAgICAgfQ0KPj4gKyAgICAgICBwcml2LT5oZWFwID0gaGVhcDsNCj4+ICsNCj4+ICsgICAgICAg
cmV0dXJuIDA7DQo+PiArDQo+PiArZXJyX2NsZWFudXBfcG9vbF9yZWdpb246DQo+PiArICAgICAg
IGdlbl9wb29sX2ZyZWUocG9vbCwgKHVuc2lnbmVkIGxvbmcpYmFzZSwgcm1lbS0+c2l6ZSk7DQo+
PiArZXJyX3VubWFwOg0KPj4gKyAgICAgICBtZW11bm1hcChiYXNlKTsNCj4+ICtlcnJfcmVsZWFz
ZV9tZW1fcmVnaW9uOg0KPj4gKyAgICAgICBnZW5fcG9vbF9kZXN0cm95KHBvb2wpOw0KPj4gK2Vy
cl9jbGVhbnVwX2hlYXA6DQo+PiArICAgICAgIGtmcmVlKHByaXYpOw0KPj4gKyAgICAgICByZXR1
cm4gcmV0Ow0KPj4gK30NCj4+ICsNCj4+ICtzdGF0aWMgaW50IF9faW5pdCBjYXJ2ZW91dF9oZWFw
X2luaXQodm9pZCkNCj4+ICt7DQo+PiArICAgICAgIHN0cnVjdCBkZXZpY2Vfbm9kZSAqcm1lbV9u
b2RlOw0KPj4gKyAgICAgICBzdHJ1Y3QgZGV2aWNlX25vZGUgKm5vZGU7DQo+PiArICAgICAgIGlu
dCByZXQ7DQo+PiArDQo+PiArICAgICAgIHJtZW1fbm9kZSA9IG9mX2ZpbmRfbm9kZV9ieV9wYXRo
KCIvcmVzZXJ2ZWQtbWVtb3J5Iik7DQo+PiArICAgICAgIGlmICghcm1lbV9ub2RlKQ0KPj4gKyAg
ICAgICAgICAgICAgIHJldHVybiAwOw0KPj4gKw0KPj4gKyAgICAgICBmb3JfZWFjaF9jaGlsZF9v
Zl9ub2RlKHJtZW1fbm9kZSwgbm9kZSkgew0KPj4gKyAgICAgICAgICAgICAgIGlmICghb2ZfcHJv
cGVydHlfcmVhZF9ib29sKG5vZGUsICJleHBvcnQiKSkNCj4+ICsgICAgICAgICAgICAgICAgICAg
ICAgIGNvbnRpbnVlOw0KPj4gKw0KPj4gKyAgICAgICAgICAgICAgIHJldCA9IGNhcnZlb3V0X2hl
YXBfc2V0dXAobm9kZSk7DQo+PiArICAgICAgICAgICAgICAgaWYgKHJldCkNCj4+ICsgICAgICAg
ICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+PiArICAgICAgIH0NCj4+ICsNCj4+ICsgICAg
ICAgcmV0dXJuIDA7DQo+PiArfQ0KPj4gKw0KPj4gK21vZHVsZV9pbml0KGNhcnZlb3V0X2hlYXBf
aW5pdCk7DQo+Pg0KPj4gLS0NCj4+IDIuNDkuMA0KPj4NCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCkxpbmFyby1tbS1zaWcgbWFpbGluZyBsaXN0IC0tIGxp
bmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9yZwpUbyB1bnN1YnNjcmliZSBzZW5kIGFuIGVtYWls
IHRvIGxpbmFyby1tbS1zaWctbGVhdmVAbGlzdHMubGluYXJvLm9yZwo=
