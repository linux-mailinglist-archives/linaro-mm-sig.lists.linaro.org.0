Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id A4E8D4E715E
	for <lists+linaro-mm-sig@lfdr.de>; Fri, 25 Mar 2022 11:35:56 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id AAD0B3F072
	for <lists+linaro-mm-sig@lfdr.de>; Fri, 25 Mar 2022 10:35:55 +0000 (UTC)
Received: from mail-wr1-f49.google.com (mail-wr1-f49.google.com [209.85.221.49])
	by lists.linaro.org (Postfix) with ESMTPS id 9BFFD3EE7C
	for <linaro-mm-sig@lists.linaro.org>; Fri, 25 Mar 2022 10:35:52 +0000 (UTC)
Received: by mail-wr1-f49.google.com with SMTP id j18so10257887wrd.6
        for <linaro-mm-sig@lists.linaro.org>; Fri, 25 Mar 2022 03:35:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20210112;
        h=message-id:date:mime-version:user-agent:subject:content-language:to
         :cc:references:from:in-reply-to:content-transfer-encoding;
        bh=ThCn4geoMQpek8GKLLNmlyOOuxTDTdSXDAlHwQ0HQVE=;
        b=GBh57jXalMTHH94OB9bzOcNJ6Y/X36mSlqs877c2rbFIiOrAWEUIKu/t0pESO7o12K
         /AJRWqTCVRN7J98RqXLO+CakfvHcLMCzgLZG92GufthQiLkhwfJNMFSpG7celHBpgsQm
         xsBf4K9RR9Z3EFz6KvDNGkF4xxH2ClDXOd/lqGzy7qscGW0SRn4l7LRLIpWvmmHVT17T
         9GV4QH1fC5adSey1atHbkav6FCorrEUo46Tf9QQQDTwUnU8sHNy2arW5yIm8Ch4jF7Dt
         Z73rIcQnigyLjh61j+Sv03qSC8TtfUI/zNXfPNJ93AYtSgk4CFZTHzyDFswnSMqQpzmH
         4p/A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=x-gm-message-state:message-id:date:mime-version:user-agent:subject
         :content-language:to:cc:references:from:in-reply-to
         :content-transfer-encoding;
        bh=ThCn4geoMQpek8GKLLNmlyOOuxTDTdSXDAlHwQ0HQVE=;
        b=xQcRO6SAo/Hdpvlrpd70hDmPu4/spi4iNXZrqx6ngAVp9iigPKN6319BV1C9gHanB6
         X8q6qGdUIxGm3IhCZYVlnDxIkqR+AAzQBka5UQTAziupiDulIpG3OylaX3TpR5hHoG41
         k7cNWxXkDYB+bWDlVxqUpnKvL0/UZQ1rUFvYfM7BIGlScPbiUKCctKRyc/OP95J40n14
         eLyXu1UqrPTZDpzNsS3+Nkp1w1P4Fz0lS9zdMOzGDviQQAL+5cicLNMrH/akW5rdowEw
         Dk6NpXSH9EUwBkbL1Y00E7x7zM6NEJmldq5ZYMDZb5oE9/fmrNPB5JcMHT3a1cAGPTKO
         8u9A==
X-Gm-Message-State: AOAM530TzI6E5n9Up0kwqALMIIJlg1ivMXCV9mk+ort2TppI8f9d4IPN
	f0doBhDsnn7oPdvvVEnoZ7c=
X-Google-Smtp-Source: ABdhPJwAZGav1tycxkaAeI7AfFLYlKNTlXB8P2mqAkTa1/mPDnRCy7oZNj18kE2uCXyXXP+M306Xzw==
X-Received: by 2002:a05:6000:18a7:b0:204:1bc0:45a with SMTP id b7-20020a05600018a700b002041bc0045amr8402695wri.119.1648204551671;
        Fri, 25 Mar 2022 03:35:51 -0700 (PDT)
Received: from [192.168.178.21] (p5b0eab60.dip0.t-ipconnect.de. [91.14.171.96])
        by smtp.gmail.com with ESMTPSA id v8-20020a05600c12c800b0038cc2b67c97sm3857980wmd.19.2022.03.25.03.35.50
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Fri, 25 Mar 2022 03:35:51 -0700 (PDT)
Message-ID: <854a68de-2b35-df79-75bf-f13d7a67136f@gmail.com>
Date: Fri, 25 Mar 2022 11:35:49 +0100
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:91.0) Gecko/20100101
 Thunderbird/91.5.0
Content-Language: en-US
To: Daniel Vetter <daniel@ffwll.ch>
References: <20220311110244.1245-1-christian.koenig@amd.com>
 <20220311110244.1245-2-christian.koenig@amd.com>
 <Yj2VvjGUJl8kCS8H@phenom.ffwll.local>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
In-Reply-To: <Yj2VvjGUJl8kCS8H@phenom.ffwll.local>
Message-ID-Hash: NKCBWU7YDSVF6UMOX7PHNBSAFS55PHRO
X-Message-ID-Hash: NKCBWU7YDSVF6UMOX7PHNBSAFS55PHRO
X-MailFrom: ckoenig.leichtzumerken@gmail.com
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: gustavo@padovan.org, linux-media@vger.kernel.org, dri-devel@lists.freedesktop.org, linaro-mm-sig@lists.linaro.org, =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Re: [PATCH 2/2] dma-buf/sync-file: fix warning about fence containers
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/NKCBWU7YDSVF6UMOX7PHNBSAFS55PHRO/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"; format="flowed"
Content-Transfer-Encoding: base64

QW0gMjUuMDMuMjIgdW0gMTE6MTMgc2NocmllYiBEYW5pZWwgVmV0dGVyOg0KPiBPbiBGcmksIE1h
ciAxMSwgMjAyMiBhdCAxMjowMjo0NFBNICswMTAwLCBDaHJpc3RpYW4gS8O2bmlnIHdyb3RlOg0K
Pj4gVGhlIGRtYV9mZW5jZV9jaGFpbiBjb250YWluZXJzIGNhbiBzaG93IHVwIGluIHN5bmNfZmls
ZXMgYXMgd2VsbCByZXN1bHRpbmcgaW4NCj4+IHdhcm5pbmdzIHRoYXQgdGhvc2UgY2FuJ3QgYmUg
YWRkZWQgdG8gZG1hX2ZlbmNlX2FycmF5IGNvbnRhaW5lcnMgd2hlbiBtZXJnaW5nDQo+PiBtdWx0
aXBsZSBzeW5jX2ZpbGVzIHRvZ2V0aGVyLg0KPj4NCj4+IFNvbHZlIHRoaXMgYnkgdXNpbmcgdGhl
IGRtYV9mZW5jZV91bndyYXAgaXRlcmF0b3IgdG8gZGVlcCBkaXZlIGludG8gdGhlDQo+PiBjb250
YWluZWQgZmVuY2VzIGFuZCB0aGVuIGFkZCB0aG9zZSBmbGF0dGVuIG91dCBpbnRvIGEgZG1hX2Zl
bmNlX2FycmF5Lg0KPj4NCj4+IFNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlz
dGlhbi5rb2VuaWdAYW1kLmNvbT4NCj4gSSBoYXZlIG5vIGlkZWEgd2h5IHdlIHRyeSB0byBrZWVw
IGZlbmNlcyBzb3J0ZWQsIGJ1dCBvaCB3ZWxsIGl0IGxvb2tzIGxpa2UNCj4gdGhlIG1lcmdpbmcg
aXMgZG9uZSBjb3JyZWN0bHkuDQoNClRvIGJlIGhvbmVzdCBJIGRvbid0IGZ1bGx5IGtub3cgZWl0
aGVyLg0KDQpLZWVwaW5nIHRoZSBhcnJheSBzb3J0ZWQgYnkgY29udGV4dCBhbGxvd3MgdG8gbWVy
Z2UgaXQgd2l0aG91dCBhZGRpbmcgDQpkdXBsaWNhdGVzLCBidXQgYWRkaW5nIGR1cGxpY2F0ZXMg
aXMgbm90IGFuIGV4dHJhIG92ZXJoZWFkIHRvIGJlZ2luIHdpdGggDQpiZWNhdXNlIHdlIGFsd2F5
cyBhbGxvY2F0ZSBtZW1vcnkgZm9yIHRoZSB3b3JzdCBjYXNlIGFueXdheS4NCg0KSnVzdCBrZWVw
aW5nIGl0IGFyb3VuZCBmb3Igbm93Lg0KDQo+IFJldmlld2VkLWJ5OiBEYW5pZWwgVmV0dGVyIDxk
YW5pZWwudmV0dGVyQGZmd2xsLmNoPg0KDQpUaGFua3MsDQpDaHJpc3RpYW4uDQoNCj4NCj4+IC0t
LQ0KPj4gICBkcml2ZXJzL2RtYS1idWYvc3luY19maWxlLmMgfCAxNDEgKysrKysrKysrKysrKysr
KysrKy0tLS0tLS0tLS0tLS0tLS0tDQo+PiAgIDEgZmlsZSBjaGFuZ2VkLCA3MyBpbnNlcnRpb25z
KCspLCA2OCBkZWxldGlvbnMoLSkNCj4+DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9kbWEtYnVm
L3N5bmNfZmlsZS5jIGIvZHJpdmVycy9kbWEtYnVmL3N5bmNfZmlsZS5jDQo+PiBpbmRleCAzOTRl
NmUxZTk2ODYuLmI4ZGVhNGVjMTIzYiAxMDA2NDQNCj4+IC0tLSBhL2RyaXZlcnMvZG1hLWJ1Zi9z
eW5jX2ZpbGUuYw0KPj4gKysrIGIvZHJpdmVycy9kbWEtYnVmL3N5bmNfZmlsZS5jDQo+PiBAQCAt
NSw2ICs1LDcgQEANCj4+ICAgICogQ29weXJpZ2h0IChDKSAyMDEyIEdvb2dsZSwgSW5jLg0KPj4g
ICAgKi8NCj4+ICAgDQo+PiArI2luY2x1ZGUgPGxpbnV4L2RtYS1mZW5jZS11bndyYXAuaD4NCj4+
ICAgI2luY2x1ZGUgPGxpbnV4L2V4cG9ydC5oPg0KPj4gICAjaW5jbHVkZSA8bGludXgvZmlsZS5o
Pg0KPj4gICAjaW5jbHVkZSA8bGludXgvZnMuaD4NCj4+IEBAIC0xNzIsMjAgKzE3Myw2IEBAIHN0
YXRpYyBpbnQgc3luY19maWxlX3NldF9mZW5jZShzdHJ1Y3Qgc3luY19maWxlICpzeW5jX2ZpbGUs
DQo+PiAgIAlyZXR1cm4gMDsNCj4+ICAgfQ0KPj4gICANCj4+IC1zdGF0aWMgc3RydWN0IGRtYV9m
ZW5jZSAqKmdldF9mZW5jZXMoc3RydWN0IHN5bmNfZmlsZSAqc3luY19maWxlLA0KPj4gLQkJCQkg
ICAgIGludCAqbnVtX2ZlbmNlcykNCj4+IC17DQo+PiAtCWlmIChkbWFfZmVuY2VfaXNfYXJyYXko
c3luY19maWxlLT5mZW5jZSkpIHsNCj4+IC0JCXN0cnVjdCBkbWFfZmVuY2VfYXJyYXkgKmFycmF5
ID0gdG9fZG1hX2ZlbmNlX2FycmF5KHN5bmNfZmlsZS0+ZmVuY2UpOw0KPj4gLQ0KPj4gLQkJKm51
bV9mZW5jZXMgPSBhcnJheS0+bnVtX2ZlbmNlczsNCj4+IC0JCXJldHVybiBhcnJheS0+ZmVuY2Vz
Ow0KPj4gLQl9DQo+PiAtDQo+PiAtCSpudW1fZmVuY2VzID0gMTsNCj4+IC0JcmV0dXJuICZzeW5j
X2ZpbGUtPmZlbmNlOw0KPj4gLX0NCj4+IC0NCj4+ICAgc3RhdGljIHZvaWQgYWRkX2ZlbmNlKHN0
cnVjdCBkbWFfZmVuY2UgKipmZW5jZXMsDQo+PiAgIAkJICAgICAgaW50ICppLCBzdHJ1Y3QgZG1h
X2ZlbmNlICpmZW5jZSkNCj4+ICAgew0KPj4gQEAgLTIxMCw4NiArMTk3LDk3IEBAIHN0YXRpYyB2
b2lkIGFkZF9mZW5jZShzdHJ1Y3QgZG1hX2ZlbmNlICoqZmVuY2VzLA0KPj4gICBzdGF0aWMgc3Ry
dWN0IHN5bmNfZmlsZSAqc3luY19maWxlX21lcmdlKGNvbnN0IGNoYXIgKm5hbWUsIHN0cnVjdCBz
eW5jX2ZpbGUgKmEsDQo+PiAgIAkJCQkJIHN0cnVjdCBzeW5jX2ZpbGUgKmIpDQo+PiAgIHsNCj4+
ICsJc3RydWN0IGRtYV9mZW5jZSAqYV9mZW5jZSwgKmJfZmVuY2UsICoqZmVuY2VzOw0KPj4gKwlz
dHJ1Y3QgZG1hX2ZlbmNlX3Vud3JhcCBhX2l0ZXIsIGJfaXRlcjsNCj4+ICsJdW5zaWduZWQgaW50
IGluZGV4LCBudW1fZmVuY2VzOw0KPj4gICAJc3RydWN0IHN5bmNfZmlsZSAqc3luY19maWxlOw0K
Pj4gLQlzdHJ1Y3QgZG1hX2ZlbmNlICoqZmVuY2VzID0gTlVMTCwgKipuZmVuY2VzLCAqKmFfZmVu
Y2VzLCAqKmJfZmVuY2VzOw0KPj4gLQlpbnQgaSA9IDAsIGlfYSwgaV9iLCBudW1fZmVuY2VzLCBh
X251bV9mZW5jZXMsIGJfbnVtX2ZlbmNlczsNCj4+ICAgDQo+PiAgIAlzeW5jX2ZpbGUgPSBzeW5j
X2ZpbGVfYWxsb2MoKTsNCj4+ICAgCWlmICghc3luY19maWxlKQ0KPj4gICAJCXJldHVybiBOVUxM
Ow0KPj4gICANCj4+IC0JYV9mZW5jZXMgPSBnZXRfZmVuY2VzKGEsICZhX251bV9mZW5jZXMpOw0K
Pj4gLQliX2ZlbmNlcyA9IGdldF9mZW5jZXMoYiwgJmJfbnVtX2ZlbmNlcyk7DQo+PiAtCWlmIChh
X251bV9mZW5jZXMgPiBJTlRfTUFYIC0gYl9udW1fZmVuY2VzKQ0KPj4gLQkJZ290byBlcnI7DQo+
PiArCW51bV9mZW5jZXMgPSAwOw0KPj4gKwlkbWFfZmVuY2VfdW53cmFwX2Zvcl9lYWNoKGFfZmVu
Y2UsICZhX2l0ZXIsIGEtPmZlbmNlKQ0KPj4gKwkJKytudW1fZmVuY2VzOw0KPj4gKwlkbWFfZmVu
Y2VfdW53cmFwX2Zvcl9lYWNoKGJfZmVuY2UsICZiX2l0ZXIsIGItPmZlbmNlKQ0KPj4gKwkJKytu
dW1fZmVuY2VzOw0KPj4gICANCj4+IC0JbnVtX2ZlbmNlcyA9IGFfbnVtX2ZlbmNlcyArIGJfbnVt
X2ZlbmNlczsNCj4+ICsJaWYgKG51bV9mZW5jZXMgPiBJTlRfTUFYKQ0KPj4gKwkJZ290byBlcnJf
ZnJlZV9zeW5jX2ZpbGU7DQo+PiAgIA0KPj4gICAJZmVuY2VzID0ga2NhbGxvYyhudW1fZmVuY2Vz
LCBzaXplb2YoKmZlbmNlcyksIEdGUF9LRVJORUwpOw0KPj4gICAJaWYgKCFmZW5jZXMpDQo+PiAt
CQlnb3RvIGVycjsNCj4+ICsJCWdvdG8gZXJyX2ZyZWVfc3luY19maWxlOw0KPj4gICANCj4+ICAg
CS8qDQo+PiAtCSAqIEFzc3VtZSBzeW5jX2ZpbGUgYSBhbmQgYiBhcmUgYm90aCBvcmRlcmVkIGFu
ZCBoYXZlIG5vDQo+PiAtCSAqIGR1cGxpY2F0ZXMgd2l0aCB0aGUgc2FtZSBjb250ZXh0Lg0KPj4g
KwkgKiBXZSBjYW4ndCBndWFyYW50ZWUgdGhhdCBmZW5jZXMgaW4gYm90aCBhIGFuZCBiIGFyZSBv
cmRlcmVkLCBidXQgaXQgaXMNCj4+ICsJICogc3RpbGwgcXVpdGUgbGlrZWx5Lg0KPj4gICAJICoN
Cj4+IC0JICogSWYgYSBzeW5jX2ZpbGUgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aXRoIHN5bmNfZmls
ZV9tZXJnZQ0KPj4gLQkgKiBhbmQgc3luY19maWxlX2NyZWF0ZSwgdGhpcyBpcyBhIHJlYXNvbmFi
bGUgYXNzdW1wdGlvbi4NCj4+ICsJICogU28gYXR0ZW1wdCB0byBvcmRlciB0aGUgZmVuY2VzIGFz
IHdlIHBhc3Mgb3ZlciB0aGVtIGFuZCBtZXJnZSBmZW5jZXMNCj4+ICsJICogd2l0aCB0aGUgc2Ft
ZSBjb250ZXh0Lg0KPj4gICAJICovDQo+PiAtCWZvciAoaV9hID0gaV9iID0gMDsgaV9hIDwgYV9u
dW1fZmVuY2VzICYmIGlfYiA8IGJfbnVtX2ZlbmNlczsgKSB7DQo+PiAtCQlzdHJ1Y3QgZG1hX2Zl
bmNlICpwdF9hID0gYV9mZW5jZXNbaV9hXTsNCj4+IC0JCXN0cnVjdCBkbWFfZmVuY2UgKnB0X2Ig
PSBiX2ZlbmNlc1tpX2JdOw0KPj4gICANCj4+IC0JCWlmIChwdF9hLT5jb250ZXh0IDwgcHRfYi0+
Y29udGV4dCkgew0KPj4gLQkJCWFkZF9mZW5jZShmZW5jZXMsICZpLCBwdF9hKTsNCj4+ICsJaW5k
ZXggPSAwOw0KPj4gKwlmb3IgKGFfZmVuY2UgPSBkbWFfZmVuY2VfdW53cmFwX2ZpcnN0KGEtPmZl
bmNlLCAmYV9pdGVyKSwNCj4+ICsJICAgICBiX2ZlbmNlID0gZG1hX2ZlbmNlX3Vud3JhcF9maXJz
dChiLT5mZW5jZSwgJmJfaXRlcik7DQo+PiArCSAgICAgYV9mZW5jZSB8fCBiX2ZlbmNlOyApIHsN
Cj4+ICsNCj4+ICsJCWlmICghYl9mZW5jZSkgew0KPj4gKwkJCWFkZF9mZW5jZShmZW5jZXMsICZp
bmRleCwgYV9mZW5jZSk7DQo+PiArCQkJYV9mZW5jZSA9IGRtYV9mZW5jZV91bndyYXBfbmV4dCgm
YV9pdGVyKTsNCj4+ICsNCj4+ICsJCX0gZWxzZSBpZiAoIWFfZmVuY2UpIHsNCj4+ICsJCQlhZGRf
ZmVuY2UoZmVuY2VzLCAmaW5kZXgsIGJfZmVuY2UpOw0KPj4gKwkJCWJfZmVuY2UgPSBkbWFfZmVu
Y2VfdW53cmFwX25leHQoJmJfaXRlcik7DQo+PiArDQo+PiArCQl9IGVsc2UgaWYgKGFfZmVuY2Ut
PmNvbnRleHQgPCBiX2ZlbmNlLT5jb250ZXh0KSB7DQo+PiArCQkJYWRkX2ZlbmNlKGZlbmNlcywg
JmluZGV4LCBhX2ZlbmNlKTsNCj4+ICsJCQlhX2ZlbmNlID0gZG1hX2ZlbmNlX3Vud3JhcF9uZXh0
KCZhX2l0ZXIpOw0KPj4gICANCj4+IC0JCQlpX2ErKzsNCj4+IC0JCX0gZWxzZSBpZiAocHRfYS0+
Y29udGV4dCA+IHB0X2ItPmNvbnRleHQpIHsNCj4+IC0JCQlhZGRfZmVuY2UoZmVuY2VzLCAmaSwg
cHRfYik7DQo+PiArCQl9IGVsc2UgaWYgKGJfZmVuY2UtPmNvbnRleHQgPCBhX2ZlbmNlLT5jb250
ZXh0KSB7DQo+PiArCQkJYWRkX2ZlbmNlKGZlbmNlcywgJmluZGV4LCBiX2ZlbmNlKTsNCj4+ICsJ
CQliX2ZlbmNlID0gZG1hX2ZlbmNlX3Vud3JhcF9uZXh0KCZiX2l0ZXIpOw0KPj4gKw0KPj4gKwkJ
fSBlbHNlIGlmIChfX2RtYV9mZW5jZV9pc19sYXRlcihhX2ZlbmNlLT5zZXFubywgYl9mZW5jZS0+
c2Vxbm8sDQo+PiArCQkJCQkJYV9mZW5jZS0+b3BzKSkgew0KPj4gKwkJCWFkZF9mZW5jZShmZW5j
ZXMsICZpbmRleCwgYV9mZW5jZSk7DQo+PiArCQkJYV9mZW5jZSA9IGRtYV9mZW5jZV91bndyYXBf
bmV4dCgmYV9pdGVyKTsNCj4+ICsJCQliX2ZlbmNlID0gZG1hX2ZlbmNlX3Vud3JhcF9uZXh0KCZi
X2l0ZXIpOw0KPj4gICANCj4+IC0JCQlpX2IrKzsNCj4+ICAgCQl9IGVsc2Ugew0KPj4gLQkJCWlm
IChfX2RtYV9mZW5jZV9pc19sYXRlcihwdF9hLT5zZXFubywgcHRfYi0+c2Vxbm8sDQo+PiAtCQkJ
CQkJIHB0X2EtPm9wcykpDQo+PiAtCQkJCWFkZF9mZW5jZShmZW5jZXMsICZpLCBwdF9hKTsNCj4+
IC0JCQllbHNlDQo+PiAtCQkJCWFkZF9mZW5jZShmZW5jZXMsICZpLCBwdF9iKTsNCj4+IC0NCj4+
IC0JCQlpX2ErKzsNCj4+IC0JCQlpX2IrKzsNCj4+ICsJCQlhZGRfZmVuY2UoZmVuY2VzLCAmaW5k
ZXgsIGJfZmVuY2UpOw0KPj4gKwkJCWFfZmVuY2UgPSBkbWFfZmVuY2VfdW53cmFwX25leHQoJmFf
aXRlcik7DQo+PiArCQkJYl9mZW5jZSA9IGRtYV9mZW5jZV91bndyYXBfbmV4dCgmYl9pdGVyKTsN
Cj4+ICAgCQl9DQo+PiAgIAl9DQo+PiAgIA0KPj4gLQlmb3IgKDsgaV9hIDwgYV9udW1fZmVuY2Vz
OyBpX2ErKykNCj4+IC0JCWFkZF9mZW5jZShmZW5jZXMsICZpLCBhX2ZlbmNlc1tpX2FdKTsNCj4+
IC0NCj4+IC0JZm9yICg7IGlfYiA8IGJfbnVtX2ZlbmNlczsgaV9iKyspDQo+PiAtCQlhZGRfZmVu
Y2UoZmVuY2VzLCAmaSwgYl9mZW5jZXNbaV9iXSk7DQo+PiAtDQo+PiAtCWlmIChpID09IDApDQo+
PiAtCQlmZW5jZXNbaSsrXSA9IGRtYV9mZW5jZV9nZXQoYV9mZW5jZXNbMF0pOw0KPj4gKwlpZiAo
aW5kZXggPT0gMCkNCj4+ICsJCWFkZF9mZW5jZShmZW5jZXMsICZpbmRleCwgZG1hX2ZlbmNlX2dl
dF9zdHViKCkpOw0KPj4gICANCj4+IC0JaWYgKG51bV9mZW5jZXMgPiBpKSB7DQo+PiAtCQluZmVu
Y2VzID0ga3JlYWxsb2NfYXJyYXkoZmVuY2VzLCBpLCBzaXplb2YoKmZlbmNlcyksIEdGUF9LRVJO
RUwpOw0KPj4gLQkJaWYgKCFuZmVuY2VzKQ0KPj4gLQkJCWdvdG8gZXJyOw0KPj4gKwlpZiAobnVt
X2ZlbmNlcyA+IGluZGV4KSB7DQo+PiArCQlzdHJ1Y3QgZG1hX2ZlbmNlICoqdG1wOw0KPj4gICAN
Cj4+IC0JCWZlbmNlcyA9IG5mZW5jZXM7DQo+PiArCQkvKiBLZWVwIGdvaW5nIGV2ZW4gd2hlbiBy
ZWR1Y2luZyB0aGUgc2l6ZSBmYWlsZWQgKi8NCj4+ICsJCXRtcCA9IGtyZWFsbG9jX2FycmF5KGZl
bmNlcywgaW5kZXgsIHNpemVvZigqZmVuY2VzKSwNCj4+ICsJCQkJICAgICBHRlBfS0VSTkVMKTsN
Cj4+ICsJCWlmICh0bXApDQo+PiArCQkJZmVuY2VzID0gdG1wOw0KPj4gICAJfQ0KPj4gICANCj4+
IC0JaWYgKHN5bmNfZmlsZV9zZXRfZmVuY2Uoc3luY19maWxlLCBmZW5jZXMsIGkpIDwgMCkNCj4+
IC0JCWdvdG8gZXJyOw0KPj4gKwlpZiAoc3luY19maWxlX3NldF9mZW5jZShzeW5jX2ZpbGUsIGZl
bmNlcywgaW5kZXgpIDwgMCkNCj4+ICsJCWdvdG8gZXJyX3B1dF9mZW5jZXM7DQo+PiAgIA0KPj4g
ICAJc3RybGNweShzeW5jX2ZpbGUtPnVzZXJfbmFtZSwgbmFtZSwgc2l6ZW9mKHN5bmNfZmlsZS0+
dXNlcl9uYW1lKSk7DQo+PiAgIAlyZXR1cm4gc3luY19maWxlOw0KPj4gICANCj4+IC1lcnI6DQo+
PiAtCXdoaWxlIChpKQ0KPj4gLQkJZG1hX2ZlbmNlX3B1dChmZW5jZXNbLS1pXSk7DQo+PiArZXJy
X3B1dF9mZW5jZXM6DQo+PiArCXdoaWxlIChpbmRleCkNCj4+ICsJCWRtYV9mZW5jZV9wdXQoZmVu
Y2VzWy0taW5kZXhdKTsNCj4+ICAgCWtmcmVlKGZlbmNlcyk7DQo+PiArDQo+PiArZXJyX2ZyZWVf
c3luY19maWxlOg0KPj4gICAJZnB1dChzeW5jX2ZpbGUtPmZpbGUpOw0KPj4gICAJcmV0dXJuIE5V
TEw7DQo+PiAtDQo+PiAgIH0NCj4+ICAgDQo+PiAgIHN0YXRpYyBpbnQgc3luY19maWxlX3JlbGVh
c2Uoc3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGZpbGUgKmZpbGUpDQo+PiBAQCAtMzk4LDEx
ICszOTYsMTMgQEAgc3RhdGljIGludCBzeW5jX2ZpbGxfZmVuY2VfaW5mbyhzdHJ1Y3QgZG1hX2Zl
bmNlICpmZW5jZSwNCj4+ICAgc3RhdGljIGxvbmcgc3luY19maWxlX2lvY3RsX2ZlbmNlX2luZm8o
c3RydWN0IHN5bmNfZmlsZSAqc3luY19maWxlLA0KPj4gICAJCQkJICAgICAgIHVuc2lnbmVkIGxv
bmcgYXJnKQ0KPj4gICB7DQo+PiAtCXN0cnVjdCBzeW5jX2ZpbGVfaW5mbyBpbmZvOw0KPj4gICAJ
c3RydWN0IHN5bmNfZmVuY2VfaW5mbyAqZmVuY2VfaW5mbyA9IE5VTEw7DQo+PiAtCXN0cnVjdCBk
bWFfZmVuY2UgKipmZW5jZXM7DQo+PiArCXN0cnVjdCBkbWFfZmVuY2VfdW53cmFwIGl0ZXI7DQo+
PiArCXN0cnVjdCBzeW5jX2ZpbGVfaW5mbyBpbmZvOw0KPj4gKwl1bnNpZ25lZCBpbnQgbnVtX2Zl
bmNlczsNCj4+ICsJc3RydWN0IGRtYV9mZW5jZSAqZmVuY2U7DQo+PiArCWludCByZXQ7DQo+PiAg
IAlfX3UzMiBzaXplOw0KPj4gLQlpbnQgbnVtX2ZlbmNlcywgcmV0LCBpOw0KPj4gICANCj4+ICAg
CWlmIChjb3B5X2Zyb21fdXNlcigmaW5mbywgKHZvaWQgX191c2VyICopYXJnLCBzaXplb2YoaW5m
bykpKQ0KPj4gICAJCXJldHVybiAtRUZBVUxUOw0KPj4gQEAgLTQxMCw3ICs0MTAsOSBAQCBzdGF0
aWMgbG9uZyBzeW5jX2ZpbGVfaW9jdGxfZmVuY2VfaW5mbyhzdHJ1Y3Qgc3luY19maWxlICpzeW5j
X2ZpbGUsDQo+PiAgIAlpZiAoaW5mby5mbGFncyB8fCBpbmZvLnBhZCkNCj4+ICAgCQlyZXR1cm4g
LUVJTlZBTDsNCj4+ICAgDQo+PiAtCWZlbmNlcyA9IGdldF9mZW5jZXMoc3luY19maWxlLCAmbnVt
X2ZlbmNlcyk7DQo+PiArCW51bV9mZW5jZXMgPSAwOw0KPj4gKwlkbWFfZmVuY2VfdW53cmFwX2Zv
cl9lYWNoKGZlbmNlLCAmaXRlciwgc3luY19maWxlLT5mZW5jZSkNCj4+ICsJCSsrbnVtX2ZlbmNl
czsNCj4+ICAgDQo+PiAgIAkvKg0KPj4gICAJICogUGFzc2luZyBudW1fZmVuY2VzID0gMCBtZWFu
cyB0aGF0IHVzZXJzcGFjZSBkb2Vzbid0IHdhbnQgdG8NCj4+IEBAIC00MzMsOCArNDM1LDExIEBA
IHN0YXRpYyBsb25nIHN5bmNfZmlsZV9pb2N0bF9mZW5jZV9pbmZvKHN0cnVjdCBzeW5jX2ZpbGUg
KnN5bmNfZmlsZSwNCj4+ICAgCWlmICghZmVuY2VfaW5mbykNCj4+ICAgCQlyZXR1cm4gLUVOT01F
TTsNCj4+ICAgDQo+PiAtCWZvciAoaSA9IDA7IGkgPCBudW1fZmVuY2VzOyBpKyspIHsNCj4+IC0J
CWludCBzdGF0dXMgPSBzeW5jX2ZpbGxfZmVuY2VfaW5mbyhmZW5jZXNbaV0sICZmZW5jZV9pbmZv
W2ldKTsNCj4+ICsJbnVtX2ZlbmNlcyA9IDA7DQo+PiArCWRtYV9mZW5jZV91bndyYXBfZm9yX2Vh
Y2goZmVuY2UsICZpdGVyLCBzeW5jX2ZpbGUtPmZlbmNlKSB7DQo+PiArCQlpbnQgc3RhdHVzOw0K
Pj4gKw0KPj4gKwkJc3RhdHVzID0gc3luY19maWxsX2ZlbmNlX2luZm8oZmVuY2UsICZmZW5jZV9p
bmZvW251bV9mZW5jZXMrK10pOw0KPj4gICAJCWluZm8uc3RhdHVzID0gaW5mby5zdGF0dXMgPD0g
MCA/IGluZm8uc3RhdHVzIDogc3RhdHVzOw0KPj4gICAJfQ0KPj4gICANCj4+IC0tIA0KPj4gMi4y
NS4xDQo+Pg0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpMaW5hcm8tbW0tc2lnIG1haWxpbmcgbGlzdCAtLSBsaW5hcm8tbW0tc2lnQGxpc3RzLmxpbmFy
by5vcmcKVG8gdW5zdWJzY3JpYmUgc2VuZCBhbiBlbWFpbCB0byBsaW5hcm8tbW0tc2lnLWxlYXZl
QGxpc3RzLmxpbmFyby5vcmcK
