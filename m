Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 9E7AE288C43
	for <lists+linaro-mm-sig@lfdr.de>; Fri,  9 Oct 2020 17:09:11 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 2B1F7664EC
	for <lists+linaro-mm-sig@lfdr.de>; Fri,  9 Oct 2020 15:09:08 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 1F93566529; Fri,  9 Oct 2020 15:09:08 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,DKIM_ADSP_CUSTOM_MED,
	FREEMAIL_FROM,MAILING_LIST_MULTI,RCVD_IN_DNSWL_BLOCKED,
	RCVD_IN_MSPIKE_H3,RCVD_IN_MSPIKE_WL,SPF_HELO_NONE autolearn=disabled
	version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 880716652F;
	Fri,  9 Oct 2020 15:04:23 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 0CD3D664EC
 for <linaro-mm-sig@lists.linaro.org>; Fri,  9 Oct 2020 15:03:58 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 018216650A; Fri,  9 Oct 2020 15:03:57 +0000 (UTC)
Received: from mail-ej1-f65.google.com (mail-ej1-f65.google.com
 [209.85.218.65])
 by lists.linaro.org (Postfix) with ESMTPS id 9AC7B664FE
 for <linaro-mm-sig@lists.linaro.org>; Fri,  9 Oct 2020 15:03:51 +0000 (UTC)
Received: by mail-ej1-f65.google.com with SMTP id t25so13474994ejd.13
 for <linaro-mm-sig@lists.linaro.org>; Fri, 09 Oct 2020 08:03:51 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=6ugvF4IgTz7tWf0PCaB/4auf5Wv0lFq59SvvHpBULxI=;
 b=cUO+DsT0vv65m1qAMKyK6HvFUuuR4mdPA6JAVqach2oYdbebTwSbHfryL/y2qGMzJs
 nQzt2tCmsziiH9gEnqosCfO58vM94sz/hAaeD/9dWcnJsOt+kfts2aKAVXQpxJidItQ3
 ZoNG0QWDeKb2z/jwv/+hbWMphghiefNiFxfBSAPWs2IHukq/Viq0R+X3cXd+dNm7fUgS
 qrOCFPSJBxDoq36Oycck/sK9mPjsl65/OKnfqLgd6vsWNXFho+TgmFQOREk6twQj3CcH
 EdWWn1tq8jBw2Jzfsbk+xu7KGS2CHv4Kb5v6N4/Rr4BOcaAlbHecJu74Vz8Pt2JGXan6
 nwZQ==
X-Gm-Message-State: AOAM530my9w3yPai+gicgUWKSpNs/Dda/YknvHved0bkOLi1cqUnzW1T
 nMIkAp0JlGVnlJKst2MBZTk=
X-Google-Smtp-Source: ABdhPJwqTN2lTowZ4dUG7uMxTX3cR2kAKfoqxbzhNBcJ7B0y+0q8e7eIiVVCBW5m7D99Ax7NgprkrQ==
X-Received: by 2002:a17:906:b353:: with SMTP id
 cd19mr14474953ejb.140.1602255830622; 
 Fri, 09 Oct 2020 08:03:50 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:65f3:51d4:50d0:15b0])
 by smtp.gmail.com with ESMTPSA id v14sm789364edy.68.2020.10.09.08.03.49
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Fri, 09 Oct 2020 08:03:50 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: linux-mm@kvack.org, linux-kernel@vger.kernel.org,
 linaro-mm-sig@lists.linaro.org, dri-devel@lists.freedesktop.org,
 linux-media@vger.kernel.org, chris@chris-wilson.co.uk, airlied@redhat.com,
 akpm@linux-foundation.org, daniel@ffwll.ch, sumit.semwal@linaro.org,
 willy@infradead.org, jhubbard@nvidia.com, jgg@ziepe.ca
Date: Fri,  9 Oct 2020 17:03:42 +0200
Message-Id: <20201009150342.1979-6-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20201009150342.1979-1-christian.koenig@amd.com>
References: <20201009150342.1979-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-Virus-Scanned: ClamAV using ClamSMTP
Subject: [Linaro-mm-sig] [PATCH 6/6] drm/prime: document that use the page
	array is deprecated v2
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

V2UgaGF2ZSByZW9jY3VycmluZyByZXF1ZXN0cyBvbiB0aGlzIHNvIGJldHRlciBkb2N1bWVudCB0
aGF0CnRoaXMgYXBwcm9hY2ggZG9lc24ndCB3b3JrIGFuZCBkbWFfYnVmX21tYXAoKSBuZWVkcyB0
byBiZSB1c2VkIGluc3RlYWQuCgp2Mjogc3BsaXQgaXQgaW50byB0d28gZnVuY3Rpb25zCgpTaWdu
ZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+Ci0t
LQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jICAgICB8ICA5ICsrLQog
ZHJpdmVycy9ncHUvZHJtL2RybV9wcmltZS5jICAgICAgICAgICAgICAgICB8IDY3ICsrKysrKysr
KysrKysrKy0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9nZW1fcHJpbWUu
YyB8ICAzICstCiBkcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9nZW0uYyAgICAgICAgICAgICAgIHwg
IDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYyAgICAgICAgfCAgNSAr
LQogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMgICAgICAgICB8ICA5ICsrLQog
ZHJpdmVycy9ncHUvZHJtL3ZnZW0vdmdlbV9kcnYuYyAgICAgICAgICAgICB8ICAzICstCiBkcml2
ZXJzL2dwdS9kcm0vdmttcy92a21zX2dlbS5jICAgICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMv
Z3B1L2RybS94ZW4veGVuX2RybV9mcm9udF9nZW0uYyAgICAgfCAgNCArLQogaW5jbHVkZS9kcm0v
ZHJtX3ByaW1lLmggICAgICAgICAgICAgICAgICAgICB8ICA3ICsrLQogMTAgZmlsZXMgY2hhbmdl
ZCwgNjkgaW5zZXJ0aW9ucygrKSwgNDIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X3R0bS5jCmluZGV4IGFjNDYzZTcwNmIxOS4uNmE2NTQ5MGRlMzkxIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jCkBAIC0xMDExLDggKzEwMTEsOCBA
QCBzdGF0aWMgaW50IGFtZGdwdV90dG1fdHRfcGluX3VzZXJwdHIoc3RydWN0IHR0bV9ib19kZXZp
Y2UgKmJkZXYsCiAJCWdvdG8gcmVsZWFzZV9zZzsKIAogCS8qIGNvbnZlcnQgU0cgdG8gbGluZWFy
IGFycmF5IG9mIHBhZ2VzIGFuZCBkbWEgYWRkcmVzc2VzICovCi0JZHJtX3ByaW1lX3NnX3RvX3Bh
Z2VfYWRkcl9hcnJheXModHRtLT5zZywgTlVMTCwgZ3R0LT50dG0uZG1hX2FkZHJlc3MsCi0JCQkJ
CSB0dG0tPm51bV9wYWdlcyk7CisJZHJtX3ByaW1lX3NnX3RvX2RtYV9hZGRyX2FycmF5KHR0bS0+
c2csIGd0dC0+dHRtLmRtYV9hZGRyZXNzLAorCQkJCSAgICAgICB0dG0tPm51bV9wYWdlcyk7CiAK
IAlyZXR1cm4gMDsKIApAQCAtMTM0NSw5ICsxMzQ1LDggQEAgc3RhdGljIGludCBhbWRncHVfdHRt
X3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2LAogCQkJdHRtLT5zZyA9IHNn
dDsKIAkJfQogCi0JCWRybV9wcmltZV9zZ190b19wYWdlX2FkZHJfYXJyYXlzKHR0bS0+c2csIE5V
TEwsCi0JCQkJCQkgZ3R0LT50dG0uZG1hX2FkZHJlc3MsCi0JCQkJCQkgdHRtLT5udW1fcGFnZXMp
OworCQlkcm1fcHJpbWVfc2dfdG9fZG1hX2FkZHJfYXJyYXkodHRtLT5zZywgZ3R0LT50dG0uZG1h
X2FkZHJlc3MsCisJCQkJCSAgICAgICB0dG0tPm51bV9wYWdlcyk7CiAJCXR0bV90dF9zZXRfcG9w
dWxhdGVkKHR0bSk7CiAJCXJldHVybiAwOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9kcm1fcHJpbWUuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fcHJpbWUuYwppbmRleCA0OTEwYzQ0
NmRiODMuLjhiNzUwYzA3NDQ5NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2RybV9wcmlt
ZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fcHJpbWUuYwpAQCAtOTU0LDI3ICs5NTQsMjUg
QEAgc3RydWN0IGRybV9nZW1fb2JqZWN0ICpkcm1fZ2VtX3ByaW1lX2ltcG9ydChzdHJ1Y3QgZHJt
X2RldmljZSAqZGV2LAogRVhQT1JUX1NZTUJPTChkcm1fZ2VtX3ByaW1lX2ltcG9ydCk7CiAKIC8q
KgotICogZHJtX3ByaW1lX3NnX3RvX3BhZ2VfYWRkcl9hcnJheXMgLSBjb252ZXJ0IGFuIHNnIHRh
YmxlIGludG8gYSBwYWdlIGFycmF5CisgKiBkcm1fcHJpbWVfc2dfdG9fcGFnZV9hcnJheSAtIGNv
bnZlcnQgYW4gc2cgdGFibGUgaW50byBhIHBhZ2UgYXJyYXkKICAqIEBzZ3Q6IHNjYXR0ZXItZ2F0
aGVyIHRhYmxlIHRvIGNvbnZlcnQKLSAqIEBwYWdlczogb3B0aW9uYWwgYXJyYXkgb2YgcGFnZSBw
b2ludGVycyB0byBzdG9yZSB0aGUgcGFnZSBhcnJheSBpbgotICogQGFkZHJzOiBvcHRpb25hbCBh
cnJheSB0byBzdG9yZSB0aGUgZG1hIGJ1cyBhZGRyZXNzIG9mIGVhY2ggcGFnZQotICogQG1heF9l
bnRyaWVzOiBzaXplIG9mIGJvdGggdGhlIHBhc3NlZC1pbiBhcnJheXMKKyAqIEBwYWdlczogYXJy
YXkgb2YgcGFnZSBwb2ludGVycyB0byBzdG9yZSB0aGUgcGFnZXMgaW4KKyAqIEBtYXhfZW50cmll
czogc2l6ZSBvZiB0aGUgcGFzc2VkLWluIGFycmF5CiAgKgotICogRXhwb3J0cyBhbiBzZyB0YWJs
ZSBpbnRvIGFuIGFycmF5IG9mIHBhZ2VzIGFuZCBhZGRyZXNzZXMuIFRoaXMgaXMgY3VycmVudGx5
Ci0gKiByZXF1aXJlZCBieSB0aGUgVFRNIGRyaXZlciBpbiBvcmRlciB0byBkbyBjb3JyZWN0IGZh
dWx0IGhhbmRsaW5nLgorICogRXhwb3J0cyBhbiBzZyB0YWJsZSBpbnRvIGFuIGFycmF5IG9mIHBh
Z2VzLgogICoKLSAqIERyaXZlcnMgY2FuIHVzZSB0aGlzIGluIHRoZWlyICZkcm1fZHJpdmVyLmdl
bV9wcmltZV9pbXBvcnRfc2dfdGFibGUKLSAqIGltcGxlbWVudGF0aW9uLgorICogVGhpcyBmdW5j
dGlvbiBpcyBkZXByZWNhdGVkIGFuZCBzdHJvbmdseSBkaXNjb3VyYWdlZCB0byBiZSB1c2VkLgor
ICogVGhlIHBhZ2UgYXJyYXkgaXMgb25seSB1c2VmdWwgZm9yIHBhZ2UgZmF1bHRzIGFuZCB0aG9z
ZSBjYW4gY29ycnVwdCBmaWVsZHMKKyAqIGluIHRoZSBzdHJ1Y3QgcGFnZSBpZiB0aGV5IGFyZSBu
b3QgaGFuZGxlZCBieSB0aGUgZXhwb3J0aW5nIGRyaXZlci4KICAqLwotaW50IGRybV9wcmltZV9z
Z190b19wYWdlX2FkZHJfYXJyYXlzKHN0cnVjdCBzZ190YWJsZSAqc2d0LCBzdHJ1Y3QgcGFnZSAq
KnBhZ2VzLAotCQkJCSAgICAgZG1hX2FkZHJfdCAqYWRkcnMsIGludCBtYXhfZW50cmllcykKK2lu
dCBfX2RlcHJlY2F0ZWQgZHJtX3ByaW1lX3NnX3RvX3BhZ2VfYXJyYXkoc3RydWN0IHNnX3RhYmxl
ICpzZ3QsCisJCQkJCSAgICBzdHJ1Y3QgcGFnZSAqKnBhZ2VzLAorCQkJCQkgICAgaW50IG1heF9l
bnRyaWVzKQogewogCXVuc2lnbmVkIGNvdW50OwogCXN0cnVjdCBzY2F0dGVybGlzdCAqc2c7CiAJ
c3RydWN0IHBhZ2UgKnBhZ2U7CiAJdTMyIHBhZ2VfbGVuLCBwYWdlX2luZGV4OwotCWRtYV9hZGRy
X3QgYWRkcjsKLQl1MzIgZG1hX2xlbiwgZG1hX2luZGV4OwogCiAJLyoKIAkgKiBTY2F0dGVybGlz
dCBlbGVtZW50cyBjb250YWlucyBib3RoIHBhZ2VzIGFuZCBETUEgYWRkcmVzc2VzLCBidXQKQEAg
LTk4NCwxNCArOTgyLDExIEBAIGludCBkcm1fcHJpbWVfc2dfdG9fcGFnZV9hZGRyX2FycmF5cyhz
dHJ1Y3Qgc2dfdGFibGUgKnNndCwgc3RydWN0IHBhZ2UgKipwYWdlcywKIAkgKiBkZXNjcmliZWQg
YnkgdGhlIHNnX2RtYV9hZGRyZXNzKHNnKS4KIAkgKi8KIAlwYWdlX2luZGV4ID0gMDsKLQlkbWFf
aW5kZXggPSAwOwogCWZvcl9lYWNoX3NnKHNndC0+c2dsLCBzZywgc2d0LT5uZW50cywgY291bnQp
IHsKIAkJcGFnZV9sZW4gPSBzZy0+bGVuZ3RoOwogCQlwYWdlID0gc2dfcGFnZShzZyk7Ci0JCWRt
YV9sZW4gPSBzZ19kbWFfbGVuKHNnKTsKLQkJYWRkciA9IHNnX2RtYV9hZGRyZXNzKHNnKTsKIAot
CQl3aGlsZSAocGFnZXMgJiYgcGFnZV9sZW4gPiAwKSB7CisJCXdoaWxlIChwYWdlX2xlbiA+IDAp
IHsKIAkJCWlmIChXQVJOX09OKHBhZ2VfaW5kZXggPj0gbWF4X2VudHJpZXMpKQogCQkJCXJldHVy
biAtMTsKIAkJCXBhZ2VzW3BhZ2VfaW5kZXhdID0gcGFnZTsKQEAgLTk5OSw3ICs5OTQsNDMgQEAg
aW50IGRybV9wcmltZV9zZ190b19wYWdlX2FkZHJfYXJyYXlzKHN0cnVjdCBzZ190YWJsZSAqc2d0
LCBzdHJ1Y3QgcGFnZSAqKnBhZ2VzLAogCQkJcGFnZV9sZW4gLT0gUEFHRV9TSVpFOwogCQkJcGFn
ZV9pbmRleCsrOwogCQl9Ci0JCXdoaWxlIChhZGRycyAmJiBkbWFfbGVuID4gMCkgeworCX0KKwly
ZXR1cm4gMDsKK30KK0VYUE9SVF9TWU1CT0woZHJtX3ByaW1lX3NnX3RvX3BhZ2VfYXJyYXkpOwor
CisvKioKKyAqIGRybV9wcmltZV9zZ190b19kbWFfYWRkcl9hcnJheSAtIGNvbnZlcnQgYW4gc2cg
dGFibGUgaW50byBhIGRtYSBhZGRyIGFycmF5CisgKiBAc2d0OiBzY2F0dGVyLWdhdGhlciB0YWJs
ZSB0byBjb252ZXJ0CisgKiBAYWRkcnM6IGFycmF5IHRvIHN0b3JlIHRoZSBkbWEgYnVzIGFkZHJl
c3Mgb2YgZWFjaCBwYWdlCisgKiBAbWF4X2VudHJpZXM6IHNpemUgb2YgYm90aCB0aGUgcGFzc2Vk
LWluIGFycmF5cworICoKKyAqIEV4cG9ydHMgYW4gc2cgdGFibGUgaW50byBhbiBhcnJheSBvZiBh
ZGRyZXNzZXMuCisgKgorICogRHJpdmVycyBzaG91bGQgdXNlIHRoaXMgaW4gdGhlaXIgJmRybV9k
cml2ZXIuZ2VtX3ByaW1lX2ltcG9ydF9zZ190YWJsZQorICogaW1wbGVtZW50YXRpb24uCisgKi8K
K2ludCBkcm1fcHJpbWVfc2dfdG9fZG1hX2FkZHJfYXJyYXkoc3RydWN0IHNnX3RhYmxlICpzZ3Qs
IGRtYV9hZGRyX3QgKmFkZHJzLAorCQkJCSAgIGludCBtYXhfZW50cmllcykKK3sKKwlzdHJ1Y3Qg
c2NhdHRlcmxpc3QgKnNnOworCXUzMiBkbWFfbGVuLCBkbWFfaW5kZXg7CisJZG1hX2FkZHJfdCBh
ZGRyOworCXVuc2lnbmVkIGNvdW50OworCisJLyoKKwkgKiBTY2F0dGVybGlzdCBlbGVtZW50cyBj
b250YWlucyBib3RoIHBhZ2VzIGFuZCBETUEgYWRkcmVzc2VzLCBidXQKKwkgKiBvbmUgc2hvdWQg
bm90IGFzc3VtZSAxOjEgcmVsYXRpb24gYmV0d2VlbiB0aGVtLiBUaGUgc2ctPmxlbmd0aCBpcwor
CSAqIHRoZSBzaXplIG9mIHRoZSBwaHlzaWNhbCBtZW1vcnkgY2h1bmsgZGVzY3JpYmVkIGJ5IHRo
ZSBzZy0+cGFnZSwKKwkgKiB3aGlsZSBzZ19kbWFfbGVuKHNnKSBpcyB0aGUgc2l6ZSBvZiB0aGUg
RE1BIChJTyB2aXJ0dWFsKSBjaHVuaworCSAqIGRlc2NyaWJlZCBieSB0aGUgc2dfZG1hX2FkZHJl
c3Moc2cpLgorCSAqLworCWRtYV9pbmRleCA9IDA7CisJZm9yX2VhY2hfc2coc2d0LT5zZ2wsIHNn
LCBzZ3QtPm5lbnRzLCBjb3VudCkgeworCQlkbWFfbGVuID0gc2dfZG1hX2xlbihzZyk7CisJCWFk
ZHIgPSBzZ19kbWFfYWRkcmVzcyhzZyk7CisKKwkJd2hpbGUgKGRtYV9sZW4gPiAwKSB7CiAJCQlp
ZiAoV0FSTl9PTihkbWFfaW5kZXggPj0gbWF4X2VudHJpZXMpKQogCQkJCXJldHVybiAtMTsKIAkJ
CWFkZHJzW2RtYV9pbmRleF0gPSBhZGRyOwpAQCAtMTAxMCw3ICsxMDQxLDcgQEAgaW50IGRybV9w
cmltZV9zZ190b19wYWdlX2FkZHJfYXJyYXlzKHN0cnVjdCBzZ190YWJsZSAqc2d0LCBzdHJ1Y3Qg
cGFnZSAqKnBhZ2VzLAogCX0KIAlyZXR1cm4gMDsKIH0KLUVYUE9SVF9TWU1CT0woZHJtX3ByaW1l
X3NnX3RvX3BhZ2VfYWRkcl9hcnJheXMpOworRVhQT1JUX1NZTUJPTChkcm1fcHJpbWVfc2dfdG9f
ZG1hX2FkZHJfYXJyYXkpOwogCiAvKioKICAqIGRybV9wcmltZV9nZW1fZGVzdHJveSAtIGhlbHBl
ciB0byBjbGVhbiB1cCBhIFBSSU1FLWltcG9ydGVkIEdFTSBvYmplY3QKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZ2VtX3ByaW1lLmMgYi9kcml2ZXJzL2dwdS9k
cm0vZXRuYXZpdi9ldG5hdml2X2dlbV9wcmltZS5jCmluZGV4IDEzNWZiZmY2ZmVjZi4uOGMwNGI4
ZTgwNTRjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dlbV9w
cmltZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZ2VtX3ByaW1lLmMK
QEAgLTEzMyw4ICsxMzMsNyBAQCBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmV0bmF2aXZfZ2VtX3By
aW1lX2ltcG9ydF9zZ190YWJsZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAogCQlnb3RvIGZhaWw7
CiAJfQogCi0JcmV0ID0gZHJtX3ByaW1lX3NnX3RvX3BhZ2VfYWRkcl9hcnJheXMoc2d0LCBldG5h
dml2X29iai0+cGFnZXMsCi0JCQkJCSAgICAgICBOVUxMLCBucGFnZXMpOworCXJldCA9IGRybV9w
cmltZV9zZ190b19wYWdlX2FycmF5KHNndCwgZXRuYXZpdl9vYmotPnBhZ2VzLCBucGFnZXMpOwog
CWlmIChyZXQpCiAJCWdvdG8gZmFpbDsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21z
bS9tc21fZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9nZW0uYwppbmRleCBhNzFmNDI4
NzBkNWUuLjYxNmI4NzY0MTc0MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL21zbS9tc21f
Z2VtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9tc21fZ2VtLmMKQEAgLTExNzQsNyArMTE3
NCw3IEBAIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqbXNtX2dlbV9pbXBvcnQoc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwKIAkJZ290byBmYWlsOwogCX0KIAotCXJldCA9IGRybV9wcmltZV9zZ190b19w
YWdlX2FkZHJfYXJyYXlzKHNndCwgbXNtX29iai0+cGFnZXMsIE5VTEwsIG5wYWdlcyk7CisJcmV0
ID0gZHJtX3ByaW1lX3NnX3RvX3BhZ2VfYXJyYXkoc2d0LCBtc21fb2JqLT5wYWdlcywgbnBhZ2Vz
KTsKIAlpZiAocmV0KSB7CiAJCW11dGV4X3VubG9jaygmbXNtX29iai0+bG9jayk7CiAJCWdvdG8g
ZmFpbDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYyBi
L2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYwppbmRleCBlMzc4YmI0OTE2ODgu
LjgzNWVkZDc0ZWY1OSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVh
dV9iby5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYwpAQCAtMTI5
OSw5ICsxMjk5LDggQEAgbm91dmVhdV90dG1fdHRfcG9wdWxhdGUoc3RydWN0IHR0bV9ib19kZXZp
Y2UgKmJkZXYsCiAJCXJldHVybiAwOwogCiAJaWYgKHNsYXZlICYmIHR0bS0+c2cpIHsKLQkJZHJt
X3ByaW1lX3NnX3RvX3BhZ2VfYWRkcl9hcnJheXModHRtLT5zZywgTlVMTCwKLQkJCQkJCSB0dG1f
ZG1hLT5kbWFfYWRkcmVzcywKLQkJCQkJCSB0dG0tPm51bV9wYWdlcyk7CisJCWRybV9wcmltZV9z
Z190b19kbWFfYWRkcl9hcnJheSh0dG0tPnNnLCB0dG1fZG1hLT5kbWFfYWRkcmVzcywKKwkJCQkJ
ICAgICAgIHR0bS0+bnVtX3BhZ2VzKTsKIAkJdHRtX3R0X3NldF9wb3B1bGF0ZWQodHRtKTsKIAkJ
cmV0dXJuIDA7CiAJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25f
dHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl90dG0uYwppbmRleCA0YjkyY2Ri
Y2QyOWIuLjc5OTdlNDU2NDU3NiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9y
YWRlb25fdHRtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fdHRtLmMKQEAg
LTQ3NCw4ICs0NzQsOCBAQCBzdGF0aWMgaW50IHJhZGVvbl90dG1fdHRfcGluX3VzZXJwdHIoc3Ry
dWN0IHR0bV9ib19kZXZpY2UgKmJkZXYsIHN0cnVjdCB0dG1fdHQgKgogCWlmIChyKQogCQlnb3Rv
IHJlbGVhc2Vfc2c7CiAKLQlkcm1fcHJpbWVfc2dfdG9fcGFnZV9hZGRyX2FycmF5cyh0dG0tPnNn
LCBOVUxMLCBndHQtPnR0bS5kbWFfYWRkcmVzcywKLQkJCQkJIHR0bS0+bnVtX3BhZ2VzKTsKKwlk
cm1fcHJpbWVfc2dfdG9fZG1hX2FkZHJfYXJyYXkodHRtLT5zZywgZ3R0LT50dG0uZG1hX2FkZHJl
c3MsCisJCQkJICAgICAgIHR0bS0+bnVtX3BhZ2VzKTsKIAogCXJldHVybiAwOwogCkBAIC02NDIs
OSArNjQyLDggQEAgc3RhdGljIGludCByYWRlb25fdHRtX3R0X3BvcHVsYXRlKHN0cnVjdCB0dG1f
Ym9fZGV2aWNlICpiZGV2LAogCX0KIAogCWlmIChzbGF2ZSAmJiB0dG0tPnNnKSB7Ci0JCWRybV9w
cmltZV9zZ190b19wYWdlX2FkZHJfYXJyYXlzKHR0bS0+c2csIE5VTEwsCi0JCQkJCQkgZ3R0LT50
dG0uZG1hX2FkZHJlc3MsCi0JCQkJCQkgdHRtLT5udW1fcGFnZXMpOworCQlkcm1fcHJpbWVfc2df
dG9fZG1hX2FkZHJfYXJyYXkodHRtLT5zZywgZ3R0LT50dG0uZG1hX2FkZHJlc3MsCisJCQkJCSAg
ICAgICB0dG0tPm51bV9wYWdlcyk7CiAJCXR0bV90dF9zZXRfcG9wdWxhdGVkKHR0bSk7CiAJCXJl
dHVybiAwOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS92Z2VtL3ZnZW1fZHJ2LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vdmdlbS92Z2VtX2Rydi5jCmluZGV4IGVhMGVlY2FlNTE1My4uZTUw
NWU1YTI5MWIzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vdmdlbS92Z2VtX2Rydi5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS92Z2VtL3ZnZW1fZHJ2LmMKQEAgLTM1Niw4ICszNTYsNyBAQCBz
dGF0aWMgc3RydWN0IGRybV9nZW1fb2JqZWN0ICp2Z2VtX3ByaW1lX2ltcG9ydF9zZ190YWJsZShz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2LAogCX0KIAogCW9iai0+cGFnZXNfcGluX2NvdW50Kys7IC8q
IHBlcm1hLXBpbm5lZCAqLwotCWRybV9wcmltZV9zZ190b19wYWdlX2FkZHJfYXJyYXlzKG9iai0+
dGFibGUsIG9iai0+cGFnZXMsIE5VTEwsCi0JCQkJCW5wYWdlcyk7CisJZHJtX3ByaW1lX3NnX3Rv
X3BhZ2VfYXJyYXkob2JqLT50YWJsZSwgb2JqLT5wYWdlcywgbnBhZ2VzKTsKIAlyZXR1cm4gJm9i
ai0+YmFzZTsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19nZW0u
YyBiL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZ2VtLmMKaW5kZXggMTlhMGUyNjBhNGRmLi5h
MmZmMjFmNDcxMDEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS92a21zL3ZrbXNfZ2VtLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL3ZrbXMvdmttc19nZW0uYwpAQCAtMjU2LDYgKzI1Niw2IEBA
IHZrbXNfcHJpbWVfaW1wb3J0X3NnX3RhYmxlKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJCXJl
dHVybiBFUlJfUFRSKC1FTk9NRU0pOwogCX0KIAotCWRybV9wcmltZV9zZ190b19wYWdlX2FkZHJf
YXJyYXlzKHNnLCBvYmotPnBhZ2VzLCBOVUxMLCBucGFnZXMpOworCWRybV9wcmltZV9zZ190b19w
YWdlX2FycmF5KHNnLCBvYmotPnBhZ2VzLCBucGFnZXMpOwogCXJldHVybiAmb2JqLT5nZW07CiB9
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0veGVuL3hlbl9kcm1fZnJvbnRfZ2VtLmMgYi9k
cml2ZXJzL2dwdS9kcm0veGVuL3hlbl9kcm1fZnJvbnRfZ2VtLmMKaW5kZXggZjM4MzBhMGQxODA4
Li5mNDE1MGRkZmM1ZTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS94ZW4veGVuX2RybV9m
cm9udF9nZW0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0veGVuL3hlbl9kcm1fZnJvbnRfZ2VtLmMK
QEAgLTIyMCw4ICsyMjAsOCBAQCB4ZW5fZHJtX2Zyb250X2dlbV9pbXBvcnRfc2dfdGFibGUoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwKIAogCXhlbl9vYmotPnNndF9pbXBvcnRlZCA9IHNndDsKIAot
CXJldCA9IGRybV9wcmltZV9zZ190b19wYWdlX2FkZHJfYXJyYXlzKHNndCwgeGVuX29iai0+cGFn
ZXMsCi0JCQkJCSAgICAgICBOVUxMLCB4ZW5fb2JqLT5udW1fcGFnZXMpOworCXJldCA9IGRybV9w
cmltZV9zZ190b19wYWdlX2FycmF5KHNndCwgeGVuX29iai0+cGFnZXMsCisJCQkJCSB4ZW5fb2Jq
LT5udW1fcGFnZXMpOwogCWlmIChyZXQgPCAwKQogCQlyZXR1cm4gRVJSX1BUUihyZXQpOwogCmRp
ZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fcHJpbWUuaCBiL2luY2x1ZGUvZHJtL2RybV9wcmlt
ZS5oCmluZGV4IDA5M2Y3NjBjYzEzMS4uNGJkYTlhYjNhM2JiIDEwMDY0NAotLS0gYS9pbmNsdWRl
L2RybS9kcm1fcHJpbWUuaAorKysgYi9pbmNsdWRlL2RybS9kcm1fcHJpbWUuaApAQCAtMTAzLDgg
KzEwMyw5IEBAIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqZHJtX2dlbV9wcmltZV9pbXBvcnQoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwKIAogdm9pZCBkcm1fcHJpbWVfZ2VtX2Rlc3Ryb3koc3RydWN0
IGRybV9nZW1fb2JqZWN0ICpvYmosIHN0cnVjdCBzZ190YWJsZSAqc2cpOwogCi1pbnQgZHJtX3By
aW1lX3NnX3RvX3BhZ2VfYWRkcl9hcnJheXMoc3RydWN0IHNnX3RhYmxlICpzZ3QsIHN0cnVjdCBw
YWdlICoqcGFnZXMsCi0JCQkJICAgICBkbWFfYWRkcl90ICphZGRycywgaW50IG1heF9wYWdlcyk7
Ci0KK2ludCBkcm1fcHJpbWVfc2dfdG9fcGFnZV9hcnJheShzdHJ1Y3Qgc2dfdGFibGUgKnNndCwg
c3RydWN0IHBhZ2UgKipwYWdlcywKKwkJCSAgICAgICBpbnQgbWF4X3BhZ2VzKTsKK2ludCBkcm1f
cHJpbWVfc2dfdG9fZG1hX2FkZHJfYXJyYXkoc3RydWN0IHNnX3RhYmxlICpzZ3QsIGRtYV9hZGRy
X3QgKmFkZHJzLAorCQkJCSAgIGludCBtYXhfcGFnZXMpOwogCiAjZW5kaWYgLyogX19EUk1fUFJJ
TUVfSF9fICovCi0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCkxpbmFyby1tbS1zaWcgbWFpbGluZyBsaXN0CkxpbmFyby1tbS1zaWdAbGlz
dHMubGluYXJvLm9yZwpodHRwczovL2xpc3RzLmxpbmFyby5vcmcvbWFpbG1hbi9saXN0aW5mby9s
aW5hcm8tbW0tc2lnCg==
