Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id A8B6916FBB2
	for <lists+linaro-mm-sig@lfdr.de>; Wed, 26 Feb 2020 11:11:30 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id C2682618CB
	for <lists+linaro-mm-sig@lfdr.de>; Wed, 26 Feb 2020 10:11:29 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id B4A3561963; Wed, 26 Feb 2020 10:11:29 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,MAILING_LIST_MULTI,
	RCVD_IN_DNSWL_NONE,RCVD_IN_MSPIKE_H2,SPF_HELO_NONE autolearn=disabled
	version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id CE9A4618D6;
	Wed, 26 Feb 2020 10:10:12 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 8DD26615AD
 for <linaro-mm-sig@lists.linaro.org>; Wed, 26 Feb 2020 10:10:07 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 73089618D6; Wed, 26 Feb 2020 10:10:07 +0000 (UTC)
Received: from mail-wr1-f66.google.com (mail-wr1-f66.google.com
 [209.85.221.66])
 by lists.linaro.org (Postfix) with ESMTPS id 95D40615AD
 for <linaro-mm-sig@lists.linaro.org>; Wed, 26 Feb 2020 10:10:03 +0000 (UTC)
Received: by mail-wr1-f66.google.com with SMTP id v2so1144012wrp.12
 for <linaro-mm-sig@lists.linaro.org>; Wed, 26 Feb 2020 02:10:03 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:content-transfer-encoding
 :in-reply-to;
 bh=ijZBUMAjTA025BZO0mb/NNb7nr6mtksE+QiFRzg8U28=;
 b=oNZcA2t+exnUFHi+SNuo77n1CR6UTOFFPA9+mVO7VZUZZQcTsazkdT3e9WXDHeIlxi
 n9KPNOhtShmbr4Nxa0ShsqZPc24cRzrm0Ja+tqTOV9/gq0VR9s5fkHGQpmvHzheiPzk+
 1xPRTZ9rS184VKUxXx19S9upXcJG9zLEYxNaNOqkEYZ7uttScfxsc/jBxInSOLKufMx9
 fVqGFyUHgW6p7zgx4EIWcRT2/TClOtVw7pG3F7rl/Xqw5Eoaqt9iBTKO15lu/+B6U2da
 S0c0uEIOfD43qU8blyr9fdHU1K0XVKYqLuid0+xs967S4Rq9YLyFSY4x8DqbUNw9sx+6
 JegQ==
X-Gm-Message-State: APjAAAXFKQO45yLh13irtD3X02tDgBACuH8gL1M+c3Iv7n5Yxyh14ofb
 lhZExqMsJtUP649pM0jjGQ5RjA==
X-Google-Smtp-Source: APXvYqw10mI21vbVk4gC/21Yt3MWdmB5YYCL3bnPVuI9cgtlygmusLcvWFZD4r7QrcJf/tAUh65eHA==
X-Received: by 2002:adf:f892:: with SMTP id u18mr4422902wrp.328.1582711802353; 
 Wed, 26 Feb 2020 02:10:02 -0800 (PST)
Received: from phenom.ffwll.local ([2a02:168:57f4:0:efd0:b9e5:5ae6:c2fa])
 by smtp.gmail.com with ESMTPSA id k7sm2188160wmi.19.2020.02.26.02.10.01
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 26 Feb 2020 02:10:01 -0800 (PST)
Date: Wed, 26 Feb 2020 11:09:59 +0100
From: Daniel Vetter <daniel@ffwll.ch>
To: Christian =?iso-8859-1?Q?K=F6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <20200226100959.GR2363188@phenom.ffwll.local>
References: <20200219125910.89147-1-christian.koenig@amd.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20200219125910.89147-1-christian.koenig@amd.com>
X-Operating-System: Linux phenom 5.3.0-3-amd64 
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: linaro-mm-sig@lists.linaro.org, intel-gfx@lists.freedesktop.org,
 daniel@ffwll.ch, dri-devel@lists.freedesktop.org, linux-media@vger.kernel.org
Subject: Re: [Linaro-mm-sig] [PATCH 1/7] dma-buf: add dynamic DMA-buf
	handling v15
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

T24gV2VkLCBGZWIgMTksIDIwMjAgYXQgMDE6NTk6MDRQTSArMDEwMCwgQ2hyaXN0aWFuIEvDtm5p
ZyB3cm90ZToKPiBPbiB0aGUgZXhwb3J0ZXIgc2lkZSB3ZSBhZGQgb3B0aW9uYWwgZXhwbGljaXQg
cGlubmluZyBjYWxsYmFja3MuIFdoaWNoIGFyZQo+IGNhbGxlZCB3aGVuIHRoZSBpbXBvcnRlciBk
b2Vzbid0IGltcGxlbWVudCBkeW5hbWljIGhhbmRsaW5nLCBtb3ZlIG5vdGlmaWNhdGlvbgo+IG9y
IG5lZWQgdGhlIERNQS1idWYgbG9ja2VkIGluIHBsYWNlIGZvciBpdHMgdXNlIGNhc2UuCj4gCj4g
T24gdGhlIGltcG9ydGVyIHNpZGUgd2UgYWRkIGFuIG9wdGlvbmFsIG1vdmVfbm90aWZ5IGNhbGxi
YWNrLiBUaGlzIGNhbGxiYWNrIGlzCj4gdXNlZCBieSB0aGUgZXhwb3J0ZXIgdG8gaW5mb3JtIHRo
ZSBpbXBvcnRlcnMgdGhhdCB0aGVpciBtYXBwaW5ncyBzaG91bGQgYmUKPiBkZXN0cm95ZWQgYXMg
c29vbiBhcyBwb3NzaWJsZS4KPiAKPiBUaGlzIGFsbG93cyB0aGUgZXhwb3J0ZXIgdG8gcHJvdmlk
ZSB0aGUgbWFwcGluZ3Mgd2l0aG91dCB0aGUgbmVlZCB0byBwaW4KPiB0aGUgYmFja2luZyBzdG9y
ZS4KPiAKPiB2MjogZG9uJ3QgdHJ5IHRvIGludmFsaWRhdGUgbWFwcGluZ3Mgd2hlbiB0aGUgY2Fs
bGJhY2sgaXMgTlVMTCwKPiAgICAgbG9jayB0aGUgcmVzZXJ2YXRpb24gb2JqIHdoaWxlIHVzaW5n
IHRoZSBhdHRhY2htZW50cywKPiAgICAgYWRkIGhlbHBlciB0byBzZXQgdGhlIGNhbGxiYWNrCj4g
djM6IG1vdmUgZmxhZyBmb3IgaW52YWxpZGF0aW9uIHN1cHBvcnQgaW50byB0aGUgRE1BLWJ1ZiwK
PiAgICAgdXNlIG5ldyBhdHRhY2hfaW5mbyBzdHJ1Y3R1cmUgdG8gc2V0IHRoZSBjYWxsYmFjawo+
IHY0OiB1c2UgaW1wb3J0ZXJfcHJpdiBmaWVsZCBpbnN0ZWFkIG9mIG1hbmdsaW5nIGV4cG9ydGVy
IHByaXYuCj4gdjU6IGRyb3AgaW52YWxpZGF0aW9uX3N1cHBvcnRlZCBmbGFnCj4gdjY6IHNxdWFz
aCB0b2dldGhlciB3aXRoIHBpbi91bnBpbiBjaGFuZ2VzCj4gdjc6IHBpbi91bnBpbiB0YWtlcyBh
biBhdHRhY2htZW50IG5vdwo+IHY4OiBudWtlIGRtYV9idWZfYXR0YWNobWVudF8obWFwfHVubWFw
KV9sb2NrZWQsCj4gICAgIGV2ZXJ5dGhpbmcgaXMgbm93IGhhbmRsZWQgYmFja3dhcmQgY29tcGF0
aWJsZQo+IHY5OiBhbHdheXMgY2FjaGUgd2hlbiBleHBvcnQvaW1wb3J0ZXIgZG9uJ3QgYWdyZWUg
b24gZHluYW1pYyBoYW5kbGluZwo+IHYxMDogbWluaW1hbCBzdHlsZSBjbGVhbnVwCj4gdjExOiBk
cm9wIGF1dG9tYXRpY2FsbHkgcmUtZW50cnkgYXZvaWRhbmNlCj4gdjEyOiByZW5hbWUgY2FsbGJh
Y2sgdG8gbW92ZV9ub3RpZnkKPiB2MTM6IGFkZCBtaWdodF9sb2NrIGluIGFwcHJvcHJpYXRlIHBs
YWNlcwo+IHYxNDogcmViYXNlIG9uIHNlcGFyYXRlZCBsb2NraW5nIGNoYW5nZQo+IHYxNTogYWRk
IEVYUEVSSU1FTlRBTCBmbGFnLCBzb21lIG1vcmUgY29kZSBjb21tZW50cwo+IAo+IFNpZ25lZC1v
ZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KCmludGVs
LWdmeC1jaSBzZWVtcyBub3cgaGFwcHkgdG9vIGFmdGVyIHNvbWUgcHJvZGRpbmcsIGFuZCBJIHRo
aW5rIHRoaXMgaXMKYSBzb2xpZCBzdGVwIGluIHJvdWdobHkgdGhlIHJpZ2h0IGRpcmVjdGlvbi4g
TW9yZSBpbXBvcnRhbnQsIGFuZCB0aGluayB3ZQpub3cgaGF2ZSBhIGZhaXJseSBnb29kIHNoYXJl
ZCB1bmRlcnN0YW5kaW5nIG9mIG1hbnkgb2YgdGhlIGFkZGl0aW9uYWwgcGFpbgpwb2ludHMgd2Ug
c3RpbGwgbmVlZCB0byBzb2x2ZS4gQW5kIHNvbWUgaWRlYXMgZm9yIGhvdyB0byBkbyB0aGF0LiBJ
IHRoaW5rCnRoYXQgd2FzIHRoZSByZWFsbHkgaW1wb3J0YW50IHRoaW5nIHRvIGFjaGlldmUsIGFu
ZCBvdmVyIHNlZW1pbmdseSBlbmRsZXNzCmRpc2N1c3Npb25zIHdlJ3ZlIGdvdCB0aGVyZS4KCk9u
IHRoZSBkbWEtYnVmIHBhdGNoZXM6CgpSZXZpZXdlZC1ieTogRGFuaWVsIFZldHRlciA8ZGFuaWVs
LnZldHRlckBmZndsbC5jaD4KCkZvciB0aGUgdHRtL2FtZGdwdSBzdHVmZjoKCkFja2VkLWJ5OiBE
YW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgoKQ2hlZXJzLCBEYW5pZWwKCj4g
LS0tCj4gIGRyaXZlcnMvZG1hLWJ1Zi9LY29uZmlnICAgICAgICAgICAgICAgICAgICAgfCAgMTAg
KysKPiAgZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYyAgICAgICAgICAgICAgICAgICB8IDExMCAr
KysrKysrKysrKysrKysrKystLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
ZG1hX2J1Zi5jIHwgICA2ICstCj4gIGluY2x1ZGUvbGludXgvZG1hLWJ1Zi5oICAgICAgICAgICAg
ICAgICAgICAgfCAgODIgKysrKysrKysrKysrKy0tCj4gIDQgZmlsZXMgY2hhbmdlZCwgMTg4IGlu
c2VydGlvbnMoKyksIDIwIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2Rt
YS1idWYvS2NvbmZpZyBiL2RyaXZlcnMvZG1hLWJ1Zi9LY29uZmlnCj4gaW5kZXggZTdkODIwY2Uw
NzI0Li5lZjczYjY3ODQxOWMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9kbWEtYnVmL0tjb25maWcK
PiArKysgYi9kcml2ZXJzL2RtYS1idWYvS2NvbmZpZwo+IEBAIC0zOSw2ICszOSwxNiBAQCBjb25m
aWcgVURNQUJVRgo+ICAJICBBIGRyaXZlciB0byBsZXQgdXNlcnNwYWNlIHR1cm4gbWVtZmQgcmVn
aW9ucyBpbnRvIGRtYS1idWZzLgo+ICAJICBRZW11IGNhbiB1c2UgdGhpcyB0byBjcmVhdGUgaG9z
dCBkbWFidWZzIGZvciBndWVzdCBmcmFtZWJ1ZmZlcnMuCj4gIAo+ICtjb25maWcgRE1BQlVGX01P
VkVfTk9USUZZCj4gKwlib29sICJNb3ZlIG5vdGlmeSBiZXR3ZWVuIGRyaXZlcnMgKEVYUEVSSU1F
TlRBTCkiCj4gKwlkZWZhdWx0IG4KPiArCWhlbHAKPiArCSAgRG9uJyd0IHBpbiBidWZmZXJzIGlm
IHRoZSBkeW5hbWljIERNQS1idWYgaW50ZXJmYWNlIGlzIGF2YWlsYWJsZSBvbiBib3RoIHRoZQo+
ICsJICBleHBvcnRlciBhcyB3ZWxsIGFzIHRoZSBpbXBvcnRlci4gVGhpcyBmaXhlcyBhIHNlY3Vy
aXR5IHByb2JsZW0gd2hlcmUKPiArCSAgdXNlcnNwYWNlIGlzIGFibGUgdG8gcGluIHVucmVzdHJp
Y3RlZCBhbW91bnRzIG9mIG1lbW9yeSB0aHJvdWdoIERNQS1idWYuCj4gKwkgIEJ1dCBtYXJrZWQg
ZXhwZXJpbWVudGFsIGJlY2F1c2Ugd2UgZG9uJyd0IGpldCBoYXZlIGEgY29uc2lzdGVudCBleGVj
dXRpb24KPiArCSAgY29udGV4dCBhbmQgbWVtb3J5IG1hbmFnZW1lbnQgYmV0d2VlbiBkcml2ZXJz
Lgo+ICsKPiAgY29uZmlnIERNQUJVRl9TRUxGVEVTVFMKPiAgCXRyaXN0YXRlICJTZWxmdGVzdHMg
Zm9yIHRoZSBkbWEtYnVmIGludGVyZmFjZXMiCj4gIAlkZWZhdWx0IG4KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtYnVmLmMKPiBp
bmRleCBkNDA5Nzg1NmM4NmIuLjVmMTBkMTkyOTQ3NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2Rt
YS1idWYvZG1hLWJ1Zi5jCj4gKysrIGIvZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYwo+IEBAIC01
MjcsNiArNTI3LDEwIEBAIHN0cnVjdCBkbWFfYnVmICpkbWFfYnVmX2V4cG9ydChjb25zdCBzdHJ1
Y3QgZG1hX2J1Zl9leHBvcnRfaW5mbyAqZXhwX2luZm8pCj4gIAkJICAgIGV4cF9pbmZvLT5vcHMt
PmR5bmFtaWNfbWFwcGluZykpCj4gIAkJcmV0dXJuIEVSUl9QVFIoLUVJTlZBTCk7Cj4gIAo+ICsJ
aWYgKFdBUk5fT04oIWV4cF9pbmZvLT5vcHMtPmR5bmFtaWNfbWFwcGluZyAmJgo+ICsJCSAgICAo
ZXhwX2luZm8tPm9wcy0+cGluIHx8IGV4cF9pbmZvLT5vcHMtPnVucGluKSkpCj4gKwkJcmV0dXJu
IEVSUl9QVFIoLUVJTlZBTCk7Cj4gKwo+ICAJaWYgKCF0cnlfbW9kdWxlX2dldChleHBfaW5mby0+
b3duZXIpKQo+ICAJCXJldHVybiBFUlJfUFRSKC1FTk9FTlQpOwo+ICAKPiBAQCAtNjUxLDcgKzY1
NSw4IEBAIEVYUE9SVF9TWU1CT0xfR1BMKGRtYV9idWZfcHV0KTsKPiAgICogY2FsbHMgYXR0YWNo
KCkgb2YgZG1hX2J1Zl9vcHMgdG8gYWxsb3cgZGV2aWNlLXNwZWNpZmljIGF0dGFjaCBmdW5jdGlv
bmFsaXR5Cj4gICAqIEBkbWFidWY6CQlbaW5dCWJ1ZmZlciB0byBhdHRhY2ggZGV2aWNlIHRvLgo+
ICAgKiBAZGV2OgkJW2luXQlkZXZpY2UgdG8gYmUgYXR0YWNoZWQuCj4gLSAqIEBkeW5hbWljX21h
cHBpbmc6CVtpbl0JY2FsbGluZyBjb252ZW50aW9uIGZvciBtYXAvdW5tYXAKPiArICogQGltcG9y
dGVyX29wcwlbaW5dCWltcG9ydGVyIG9wZXJhdGlvbnMgZm9yIHRoZSBhdHRhY2htZW50Cj4gKyAq
IEBpbXBvcnRlcl9wcml2CVtpbl0JaW1wb3J0ZXIgcHJpdmF0ZSBwb2ludGVyIGZvciB0aGUgYXR0
YWNobWVudAo+ICAgKgo+ICAgKiBSZXR1cm5zIHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgcG9p
bnRlciBmb3IgdGhpcyBhdHRhY2htZW50LiBBdHRhY2htZW50cwo+ICAgKiBtdXN0IGJlIGNsZWFu
ZWQgdXAgYnkgY2FsbGluZyBkbWFfYnVmX2RldGFjaCgpLgo+IEBAIC02NjcsMTEgKzY3MiwxMyBA
QCBFWFBPUlRfU1lNQk9MX0dQTChkbWFfYnVmX3B1dCk7Cj4gICAqLwo+ICBzdHJ1Y3QgZG1hX2J1
Zl9hdHRhY2htZW50ICoKPiAgZG1hX2J1Zl9keW5hbWljX2F0dGFjaChzdHJ1Y3QgZG1hX2J1ZiAq
ZG1hYnVmLCBzdHJ1Y3QgZGV2aWNlICpkZXYsCj4gLQkJICAgICAgIGJvb2wgZHluYW1pY19tYXBw
aW5nKQo+ICsJCSAgICAgICBjb25zdCBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2hfb3BzICppbXBvcnRl
cl9vcHMsCj4gKwkJICAgICAgIHZvaWQgKmltcG9ydGVyX3ByaXYpCj4gIHsKPiAgCXN0cnVjdCBk
bWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaDsKPiAgCWludCByZXQ7Cj4gIAo+ICsJLyogVE9ETzog
bWFrZSBtb3ZlX25vdGlmeSBtYW5kYXRvcnkgaWYgaW1wb3J0ZXJfb3BzIGFyZSBwcm92aWRlZC4g
Ki8KPiAgCWlmIChXQVJOX09OKCFkbWFidWYgfHwgIWRldikpCj4gIAkJcmV0dXJuIEVSUl9QVFIo
LUVJTlZBTCk7Cj4gIAo+IEBAIC02ODEsNyArNjg4LDggQEAgZG1hX2J1Zl9keW5hbWljX2F0dGFj
aChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1Y3QgZGV2aWNlICpkZXYsCj4gIAo+ICAJYXR0
YWNoLT5kZXYgPSBkZXY7Cj4gIAlhdHRhY2gtPmRtYWJ1ZiA9IGRtYWJ1ZjsKPiAtCWF0dGFjaC0+
ZHluYW1pY19tYXBwaW5nID0gZHluYW1pY19tYXBwaW5nOwo+ICsJYXR0YWNoLT5pbXBvcnRlcl9v
cHMgPSBpbXBvcnRlcl9vcHM7Cj4gKwlhdHRhY2gtPmltcG9ydGVyX3ByaXYgPSBpbXBvcnRlcl9w
cml2Owo+ICAKPiAgCWlmIChkbWFidWYtPm9wcy0+YXR0YWNoKSB7Cj4gIAkJcmV0ID0gZG1hYnVm
LT5vcHMtPmF0dGFjaChkbWFidWYsIGF0dGFjaCk7Cj4gQEAgLTcwMCwxNSArNzA4LDE5IEBAIGRt
YV9idWZfZHluYW1pY19hdHRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwgc3RydWN0IGRldmlj
ZSAqZGV2LAo+ICAJICAgIGRtYV9idWZfaXNfZHluYW1pYyhkbWFidWYpKSB7Cj4gIAkJc3RydWN0
IHNnX3RhYmxlICpzZ3Q7Cj4gIAo+IC0JCWlmIChkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNoLT5k
bWFidWYpKQo+ICsJCWlmIChkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNoLT5kbWFidWYpKSB7Cj4g
IAkJCWRtYV9yZXN2X2xvY2soYXR0YWNoLT5kbWFidWYtPnJlc3YsIE5VTEwpOwo+ICsJCQlyZXQg
PSBkbWFfYnVmX3BpbihhdHRhY2gpOwo+ICsJCQlpZiAocmV0KQo+ICsJCQkJZ290byBlcnJfdW5s
b2NrOwo+ICsJCX0KPiAgCj4gIAkJc2d0ID0gZG1hYnVmLT5vcHMtPm1hcF9kbWFfYnVmKGF0dGFj
aCwgRE1BX0JJRElSRUNUSU9OQUwpOwo+ICAJCWlmICghc2d0KQo+ICAJCQlzZ3QgPSBFUlJfUFRS
KC1FTk9NRU0pOwo+ICAJCWlmIChJU19FUlIoc2d0KSkgewo+ICAJCQlyZXQgPSBQVFJfRVJSKHNn
dCk7Cj4gLQkJCWdvdG8gZXJyX3VubG9jazsKPiArCQkJZ290byBlcnJfdW5waW47Cj4gIAkJfQo+
ICAJCWlmIChkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNoLT5kbWFidWYpKQo+ICAJCQlkbWFfcmVz
dl91bmxvY2soYXR0YWNoLT5kbWFidWYtPnJlc3YpOwo+IEBAIC03MjIsNiArNzM0LDEwIEBAIGRt
YV9idWZfZHluYW1pY19hdHRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwgc3RydWN0IGRldmlj
ZSAqZGV2LAo+ICAJa2ZyZWUoYXR0YWNoKTsKPiAgCXJldHVybiBFUlJfUFRSKHJldCk7Cj4gIAo+
ICtlcnJfdW5waW46Cj4gKwlpZiAoZG1hX2J1Zl9pc19keW5hbWljKGF0dGFjaC0+ZG1hYnVmKSkK
PiArCQlkbWFfYnVmX3VucGluKGF0dGFjaCk7Cj4gKwo+ICBlcnJfdW5sb2NrOgo+ICAJaWYgKGRt
YV9idWZfaXNfZHluYW1pYyhhdHRhY2gtPmRtYWJ1ZikpCj4gIAkJZG1hX3Jlc3ZfdW5sb2NrKGF0
dGFjaC0+ZG1hYnVmLT5yZXN2KTsKPiBAQCAtNzQyLDcgKzc1OCw3IEBAIEVYUE9SVF9TWU1CT0xf
R1BMKGRtYV9idWZfZHluYW1pY19hdHRhY2gpOwo+ICBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50
ICpkbWFfYnVmX2F0dGFjaChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLAo+ICAJCQkJCSAgc3RydWN0
IGRldmljZSAqZGV2KQo+ICB7Cj4gLQlyZXR1cm4gZG1hX2J1Zl9keW5hbWljX2F0dGFjaChkbWFi
dWYsIGRldiwgZmFsc2UpOwo+ICsJcmV0dXJuIGRtYV9idWZfZHluYW1pY19hdHRhY2goZG1hYnVm
LCBkZXYsIE5VTEwsIE5VTEwpOwo+ICB9Cj4gIEVYUE9SVF9TWU1CT0xfR1BMKGRtYV9idWZfYXR0
YWNoKTsKPiAgCj4gQEAgLTc2NSw4ICs3ODEsMTAgQEAgdm9pZCBkbWFfYnVmX2RldGFjaChzdHJ1
Y3QgZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gpCj4g
IAo+ICAJCWRtYWJ1Zi0+b3BzLT51bm1hcF9kbWFfYnVmKGF0dGFjaCwgYXR0YWNoLT5zZ3QsIGF0
dGFjaC0+ZGlyKTsKPiAgCj4gLQkJaWYgKGRtYV9idWZfaXNfZHluYW1pYyhhdHRhY2gtPmRtYWJ1
ZikpCj4gKwkJaWYgKGRtYV9idWZfaXNfZHluYW1pYyhhdHRhY2gtPmRtYWJ1ZikpIHsKPiArCQkJ
ZG1hX2J1Zl91bnBpbihhdHRhY2gpOwo+ICAJCQlkbWFfcmVzdl91bmxvY2soYXR0YWNoLT5kbWFi
dWYtPnJlc3YpOwo+ICsJCX0KPiAgCX0KPiAgCj4gIAlkbWFfcmVzdl9sb2NrKGRtYWJ1Zi0+cmVz
diwgTlVMTCk7Cj4gQEAgLTc3OSw2ICs3OTcsNDQgQEAgdm9pZCBkbWFfYnVmX2RldGFjaChzdHJ1
Y3QgZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gpCj4g
IH0KPiAgRVhQT1JUX1NZTUJPTF9HUEwoZG1hX2J1Zl9kZXRhY2gpOwo+ICAKPiArLyoqCj4gKyAq
IGRtYV9idWZfcGluIC0gTG9jayBkb3duIHRoZSBETUEtYnVmCj4gKyAqCj4gKyAqIEBhdHRhY2g6
CVtpbl0JYXR0YWNobWVudCB3aGljaCBzaG91bGQgYmUgcGlubmVkCj4gKyAqCj4gKyAqIFJldHVy
bnM6Cj4gKyAqIDAgb24gc3VjY2VzcywgbmVnYXRpdmUgZXJyb3IgY29kZSBvbiBmYWlsdXJlLgo+
ICsgKi8KPiAraW50IGRtYV9idWZfcGluKHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFj
aCkKPiArewo+ICsJc3RydWN0IGRtYV9idWYgKmRtYWJ1ZiA9IGF0dGFjaC0+ZG1hYnVmOwo+ICsJ
aW50IHJldCA9IDA7Cj4gKwo+ICsJZG1hX3Jlc3ZfYXNzZXJ0X2hlbGQoZG1hYnVmLT5yZXN2KTsK
PiArCj4gKwlpZiAoZG1hYnVmLT5vcHMtPnBpbikKPiArCQlyZXQgPSBkbWFidWYtPm9wcy0+cGlu
KGF0dGFjaCk7Cj4gKwo+ICsJcmV0dXJuIHJldDsKPiArfQo+ICtFWFBPUlRfU1lNQk9MX0dQTChk
bWFfYnVmX3Bpbik7Cj4gKwo+ICsvKioKPiArICogZG1hX2J1Zl91bnBpbiAtIFJlbW92ZSBsb2Nr
IGZyb20gRE1BLWJ1Zgo+ICsgKgo+ICsgKiBAYXR0YWNoOglbaW5dCWF0dGFjaG1lbnQgd2hpY2gg
c2hvdWxkIGJlIHVucGlubmVkCj4gKyAqLwo+ICt2b2lkIGRtYV9idWZfdW5waW4oc3RydWN0IGRt
YV9idWZfYXR0YWNobWVudCAqYXR0YWNoKQo+ICt7Cj4gKwlzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVm
ID0gYXR0YWNoLT5kbWFidWY7Cj4gKwo+ICsJZG1hX3Jlc3ZfYXNzZXJ0X2hlbGQoZG1hYnVmLT5y
ZXN2KTsKPiArCj4gKwlpZiAoZG1hYnVmLT5vcHMtPnVucGluKQo+ICsJCWRtYWJ1Zi0+b3BzLT51
bnBpbihhdHRhY2gpOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0xfR1BMKGRtYV9idWZfdW5waW4pOwo+
ICsKPiAgLyoqCj4gICAqIGRtYV9idWZfbWFwX2F0dGFjaG1lbnQgLSBSZXR1cm5zIHRoZSBzY2F0
dGVybGlzdCB0YWJsZSBvZiB0aGUgYXR0YWNobWVudDsKPiAgICogbWFwcGVkIGludG8gX2Rldmlj
ZV8gYWRkcmVzcyBzcGFjZS4gSXMgYSB3cmFwcGVyIGZvciBtYXBfZG1hX2J1ZigpIG9mIHRoZQo+
IEBAIC03OTgsNiArODU0LDcgQEAgc3RydWN0IHNnX3RhYmxlICpkbWFfYnVmX21hcF9hdHRhY2ht
ZW50KHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCwKPiAgCQkJCQllbnVtIGRtYV9k
YXRhX2RpcmVjdGlvbiBkaXJlY3Rpb24pCj4gIHsKPiAgCXN0cnVjdCBzZ190YWJsZSAqc2dfdGFi
bGU7Cj4gKwlpbnQgcjsKPiAgCj4gIAltaWdodF9zbGVlcCgpOwo+ICAKPiBAQCAtODE5LDEzICs4
NzYsMjUgQEAgc3RydWN0IHNnX3RhYmxlICpkbWFfYnVmX21hcF9hdHRhY2htZW50KHN0cnVjdCBk
bWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCwKPiAgCQlyZXR1cm4gYXR0YWNoLT5zZ3Q7Cj4gIAl9
Cj4gIAo+IC0JaWYgKGRtYV9idWZfaXNfZHluYW1pYyhhdHRhY2gtPmRtYWJ1ZikpCj4gKwlpZiAo
ZG1hX2J1Zl9pc19keW5hbWljKGF0dGFjaC0+ZG1hYnVmKSkgewo+ICAJCWRtYV9yZXN2X2Fzc2Vy
dF9oZWxkKGF0dGFjaC0+ZG1hYnVmLT5yZXN2KTsKPiArCQlpZiAoIWF0dGFjaC0+aW1wb3J0ZXJf
b3BzLT5tb3ZlX25vdGlmeSB8fAo+ICsJCSAgICAhSVNfRU5BQkxFRChDT05GSUdfRE1BQlVGX01P
VkVfTk9USUZZKSkgewo+ICsJCQlyID0gZG1hX2J1Zl9waW4oYXR0YWNoKTsKPiArCQkJaWYgKHIp
Cj4gKwkJCQlyZXR1cm4gRVJSX1BUUihyKTsKPiArCQl9Cj4gKwl9Cj4gIAo+ICAJc2dfdGFibGUg
PSBhdHRhY2gtPmRtYWJ1Zi0+b3BzLT5tYXBfZG1hX2J1ZihhdHRhY2gsIGRpcmVjdGlvbik7Cj4g
IAlpZiAoIXNnX3RhYmxlKQo+ICAJCXNnX3RhYmxlID0gRVJSX1BUUigtRU5PTUVNKTsKPiAgCj4g
KwlpZiAoSVNfRVJSKHNnX3RhYmxlKSAmJiBkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNoLT5kbWFi
dWYpICYmCj4gKwkgICAgKCFhdHRhY2gtPmltcG9ydGVyX29wcy0+bW92ZV9ub3RpZnkgfHwKPiAr
CSAgICAgIUlTX0VOQUJMRUQoQ09ORklHX0RNQUJVRl9NT1ZFX05PVElGWSkpKQo+ICsJCWRtYV9i
dWZfdW5waW4oYXR0YWNoKTsKPiArCj4gIAlpZiAoIUlTX0VSUihzZ190YWJsZSkgJiYgYXR0YWNo
LT5kbWFidWYtPm9wcy0+Y2FjaGVfc2d0X21hcHBpbmcpIHsKPiAgCQlhdHRhY2gtPnNndCA9IHNn
X3RhYmxlOwo+ICAJCWF0dGFjaC0+ZGlyID0gZGlyZWN0aW9uOwo+IEBAIC04NjQsOSArOTMzLDM0
IEBAIHZvaWQgZG1hX2J1Zl91bm1hcF9hdHRhY2htZW50KHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1l
bnQgKmF0dGFjaCwKPiAgCQlkbWFfcmVzdl9hc3NlcnRfaGVsZChhdHRhY2gtPmRtYWJ1Zi0+cmVz
dik7Cj4gIAo+ICAJYXR0YWNoLT5kbWFidWYtPm9wcy0+dW5tYXBfZG1hX2J1ZihhdHRhY2gsIHNn
X3RhYmxlLCBkaXJlY3Rpb24pOwo+ICsKPiArCWlmIChkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNo
LT5kbWFidWYpICYmCj4gKwkgICAgKCFhdHRhY2gtPmltcG9ydGVyX29wcy0+bW92ZV9ub3RpZnkg
fHwKPiArCSAgICAgIUlTX0VOQUJMRUQoQ09ORklHX0RNQUJVRl9NT1ZFX05PVElGWSkpKQo+ICsJ
CWRtYV9idWZfdW5waW4oYXR0YWNoKTsKPiAgfQo+ICBFWFBPUlRfU1lNQk9MX0dQTChkbWFfYnVm
X3VubWFwX2F0dGFjaG1lbnQpOwo+ICAKPiArLyoqCj4gKyAqIGRtYV9idWZfbW92ZV9ub3RpZnkg
LSBub3RpZnkgYXR0YWNobWVudHMgdGhhdCBETUEtYnVmIGlzIG1vdmluZwo+ICsgKgo+ICsgKiBA
ZG1hYnVmOglbaW5dCWJ1ZmZlciB3aGljaCBpcyBtb3ZpbmcKPiArICoKPiArICogSW5mb3JtcyBh
bGwgYXR0YWNobWVuc3QgdGhhdCB0aGV5IG5lZWQgdG8gZGVzdHJveSBhbmQgcmVjcmVhdGVkIGFs
bCB0aGVpcgo+ICsgKiBtYXBwaW5ncy4KPiArICovCj4gK3ZvaWQgZG1hX2J1Zl9tb3ZlX25vdGlm
eShzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmKQo+ICt7Cj4gKwlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2ht
ZW50ICphdHRhY2g7Cj4gKwo+ICsJZG1hX3Jlc3ZfYXNzZXJ0X2hlbGQoZG1hYnVmLT5yZXN2KTsK
PiArCj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5KGF0dGFjaCwgJmRtYWJ1Zi0+YXR0YWNobWVudHMs
IG5vZGUpCj4gKwkJaWYgKGF0dGFjaC0+aW1wb3J0ZXJfb3BzICYmIGF0dGFjaC0+aW1wb3J0ZXJf
b3BzLT5tb3ZlX25vdGlmeSkKPiArCQkJYXR0YWNoLT5pbXBvcnRlcl9vcHMtPm1vdmVfbm90aWZ5
KGF0dGFjaCk7Cj4gK30KPiArRVhQT1JUX1NZTUJPTF9HUEwoZG1hX2J1Zl9tb3ZlX25vdGlmeSk7
Cj4gKwo+ICAvKioKPiAgICogRE9DOiBjcHUgYWNjZXNzCj4gICAqCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kbWFfYnVmLmMgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfZG1hX2J1Zi5jCj4gaW5kZXggYTU5Y2Q0N2FhNmMxLi43Y2Fm
YzY1ZmQ3NmEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2RtYV9idWYuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kbWFf
YnVmLmMKPiBAQCAtNDEyLDYgKzQxMiw5IEBAIGFtZGdwdV9kbWFfYnVmX2NyZWF0ZV9vYmooc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwgc3RydWN0IGRtYV9idWYgKmRtYV9idWYpCj4gIAlyZXR1cm4g
RVJSX1BUUihyZXQpOwo+ICB9Cj4gIAo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGRtYV9idWZfYXR0
YWNoX29wcyBhbWRncHVfZG1hX2J1Zl9hdHRhY2hfb3BzID0gewo+ICt9Owo+ICsKPiAgLyoqCj4g
ICAqIGFtZGdwdV9nZW1fcHJpbWVfaW1wb3J0IC0gJmRybV9kcml2ZXIuZ2VtX3ByaW1lX2ltcG9y
dCBpbXBsZW1lbnRhdGlvbgo+ICAgKiBAZGV2OiBEUk0gZGV2aWNlCj4gQEAgLTQ0NCw3ICs0NDcs
OCBAQCBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmFtZGdwdV9nZW1fcHJpbWVfaW1wb3J0KHN0cnVj
dCBkcm1fZGV2aWNlICpkZXYsCj4gIAlpZiAoSVNfRVJSKG9iaikpCj4gIAkJcmV0dXJuIG9iajsK
PiAgCj4gLQlhdHRhY2ggPSBkbWFfYnVmX2R5bmFtaWNfYXR0YWNoKGRtYV9idWYsIGRldi0+ZGV2
LCB0cnVlKTsKPiArCWF0dGFjaCA9IGRtYV9idWZfZHluYW1pY19hdHRhY2goZG1hX2J1ZiwgZGV2
LT5kZXYsCj4gKwkJCQkJJmFtZGdwdV9kbWFfYnVmX2F0dGFjaF9vcHMsIE5VTEwpOwo+ICAJaWYg
KElTX0VSUihhdHRhY2gpKSB7Cj4gIAkJZHJtX2dlbV9vYmplY3RfcHV0KG9iaik7Cj4gIAkJcmV0
dXJuIEVSUl9DQVNUKGF0dGFjaCk7Cj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvZG1hLWJ1
Zi5oIGIvaW5jbHVkZS9saW51eC9kbWEtYnVmLmgKPiBpbmRleCBhYmY1NDU5YTViOWQuLmIzOGNl
YTI0MGI2NyAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL2xpbnV4L2RtYS1idWYuaAo+ICsrKyBiL2lu
Y2x1ZGUvbGludXgvZG1hLWJ1Zi5oCj4gQEAgLTkzLDE0ICs5Myw0MSBAQCBzdHJ1Y3QgZG1hX2J1
Zl9vcHMgewo+ICAJICovCj4gIAl2b2lkICgqZGV0YWNoKShzdHJ1Y3QgZG1hX2J1ZiAqLCBzdHJ1
Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICopOwo+ICAKPiArCS8qKgo+ICsJICogQHBpbjoKPiArCSAq
Cj4gKwkgKiBUaGlzIGlzIGNhbGxlZCBieSBkbWFfYnVmX3BpbiBhbmQgbGV0cyB0aGUgZXhwb3J0
ZXIga25vdyB0aGF0IHRoZQo+ICsJICogRE1BLWJ1ZiBjYW4ndCBiZSBtb3ZlZCBhbnkgbW9yZS4K
PiArCSAqCj4gKwkgKiBUaGlzIGlzIGNhbGxlZCB3aXRoIHRoZSBkbWFidWYtPnJlc3Ygb2JqZWN0
IGxvY2tlZC4KPiArCSAqCj4gKwkgKiBUaGlzIGNhbGxiYWNrIGlzIG9wdGlvbmFsIGFuZCBzaG91
bGQgb25seSBiZSB1c2VkIGluIGxpbWl0ZWQgdXNlCj4gKwkgKiBjYXNlcyBsaWtlIHNjYW5vdXQg
YW5kIG5vdCBmb3IgdGVtcG9yYXJ5IHBpbiBvcGVyYXRpb25zLgo+ICsJICoKPiArCSAqIFJldHVy
bnM6Cj4gKwkgKgo+ICsJICogMCBvbiBzdWNjZXNzLCBuZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZh
aWx1cmUuCj4gKwkgKi8KPiArCWludCAoKnBpbikoc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAq
YXR0YWNoKTsKPiArCj4gKwkvKioKPiArCSAqIEB1bnBpbjoKPiArCSAqCj4gKwkgKiBUaGlzIGlz
IGNhbGxlZCBieSBkbWFfYnVmX3VucGluIGFuZCBsZXRzIHRoZSBleHBvcnRlciBrbm93IHRoYXQg
dGhlCj4gKwkgKiBETUEtYnVmIGNhbiBiZSBtb3ZlZCBhZ2Fpbi4KPiArCSAqCj4gKwkgKiBUaGlz
IGlzIGNhbGxlZCB3aXRoIHRoZSBkbWFidWYtPnJlc3Ygb2JqZWN0IGxvY2tlZC4KPiArCSAqCj4g
KwkgKiBUaGlzIGNhbGxiYWNrIGlzIG9wdGlvbmFsLgo+ICsJICovCj4gKwl2b2lkICgqdW5waW4p
KHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCk7Cj4gKwo+ICAJLyoqCj4gIAkgKiBA
bWFwX2RtYV9idWY6Cj4gIAkgKgo+ICAJICogVGhpcyBpcyBjYWxsZWQgYnkgZG1hX2J1Zl9tYXBf
YXR0YWNobWVudCgpIGFuZCBpcyB1c2VkIHRvIG1hcCBhCj4gIAkgKiBzaGFyZWQgJmRtYV9idWYg
aW50byBkZXZpY2UgYWRkcmVzcyBzcGFjZSwgYW5kIGl0IGlzIG1hbmRhdG9yeS4gSXQKPiAtCSAq
IGNhbiBvbmx5IGJlIGNhbGxlZCBpZiBAYXR0YWNoIGhhcyBiZWVuIGNhbGxlZCBzdWNjZXNzZnVs
bHkuIFRoaXMKPiAtCSAqIGVzc2VudGlhbGx5IHBpbnMgdGhlIERNQSBidWZmZXIgaW50byBwbGFj
ZSwgYW5kIGl0IGNhbm5vdCBiZSBtb3ZlZAo+IC0JICogYW55IG1vcmUKPiArCSAqIGNhbiBvbmx5
IGJlIGNhbGxlZCBpZiBAYXR0YWNoIGhhcyBiZWVuIGNhbGxlZCBzdWNjZXNzZnVsbHkuCj4gIAkg
Kgo+ICAJICogVGhpcyBjYWxsIG1heSBzbGVlcCwgZS5nLiB3aGVuIHRoZSBiYWNraW5nIHN0b3Jh
Z2UgZmlyc3QgbmVlZHMgdG8gYmUKPiAgCSAqIGFsbG9jYXRlZCwgb3IgbW92ZWQgdG8gYSBsb2Nh
dGlvbiBzdWl0YWJsZSBmb3IgYWxsIGN1cnJlbnRseSBhdHRhY2hlZAo+IEBAIC0xNDEsOSArMTY4
LDggQEAgc3RydWN0IGRtYV9idWZfb3BzIHsKPiAgCSAqCj4gIAkgKiBUaGlzIGlzIGNhbGxlZCBi
eSBkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnQoKSBhbmQgc2hvdWxkIHVubWFwIGFuZAo+ICAJICog
cmVsZWFzZSB0aGUgJnNnX3RhYmxlIGFsbG9jYXRlZCBpbiBAbWFwX2RtYV9idWYsIGFuZCBpdCBp
cyBtYW5kYXRvcnkuCj4gLQkgKiBJdCBzaG91bGQgYWxzbyB1bnBpbiB0aGUgYmFja2luZyBzdG9y
YWdlIGlmIHRoaXMgaXMgdGhlIGxhc3QgbWFwcGluZwo+IC0JICogb2YgdGhlIERNQSBidWZmZXIs
IGl0IHRoZSBleHBvcnRlciBzdXBwb3J0cyBiYWNraW5nIHN0b3JhZ2UKPiAtCSAqIG1pZ3JhdGlv
bi4KPiArCSAqIEZvciBzdGF0aWMgZG1hX2J1ZiBoYW5kbGluZyB0aGlzIG1pZ2h0IGFsc28gdW5w
aW5zIHRoZSBiYWNraW5nCj4gKwkgKiBzdG9yYWdlIGlmIHRoaXMgaXMgdGhlIGxhc3QgbWFwcGlu
ZyBvZiB0aGUgRE1BIGJ1ZmZlci4KPiAgCSAqLwo+ICAJdm9pZCAoKnVubWFwX2RtYV9idWYpKHN0
cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKiwKPiAgCQkJICAgICAgc3RydWN0IHNnX3RhYmxlICos
Cj4gQEAgLTMxMSw2ICszMzcsMzQgQEAgc3RydWN0IGRtYV9idWYgewo+ICAJfSBjYl9leGNsLCBj
Yl9zaGFyZWQ7Cj4gIH07Cj4gIAo+ICsvKioKPiArICogc3RydWN0IGRtYV9idWZfYXR0YWNoX29w
cyAtIGltcG9ydGVyIG9wZXJhdGlvbnMgZm9yIGFuIGF0dGFjaG1lbnQKPiArICogQG1vdmVfbm90
aWZ5OiBbb3B0aW9uYWxdIG5vdGlmaWNhdGlvbiB0aGF0IHRoZSBETUEtYnVmIGlzIG1vdmluZwo+
ICsgKgo+ICsgKiBBdHRhY2htZW50IG9wZXJhdGlvbnMgaW1wbGVtZW50ZWQgYnkgdGhlIGltcG9y
dGVyLgo+ICsgKi8KPiArc3RydWN0IGRtYV9idWZfYXR0YWNoX29wcyB7Cj4gKwkvKioKPiArCSAq
IEBtb3ZlX25vdGlmeQo+ICsJICoKPiArCSAqIElmIHRoaXMgY2FsbGJhY2sgaXMgcHJvdmlkZWQg
dGhlIGZyYW1ld29yayBjYW4gYXZvaWQgcGlubmluZyB0aGUKPiArCSAqIGJhY2tpbmcgc3RvcmUg
d2hpbGUgbWFwcGluZ3MgZXhpc3RzLgo+ICsJICoKPiArCSAqIFRoaXMgY2FsbGJhY2sgaXMgY2Fs
bGVkIHdpdGggdGhlIGxvY2sgb2YgdGhlIHJlc2VydmF0aW9uIG9iamVjdAo+ICsJICogYXNzb2Np
YXRlZCB3aXRoIHRoZSBkbWFfYnVmIGhlbGQgYW5kIHRoZSBtYXBwaW5nIGZ1bmN0aW9uIG11c3Qg
YmUKPiArCSAqIGNhbGxlZCB3aXRoIHRoaXMgbG9jayBoZWxkIGFzIHdlbGwuIFRoaXMgbWFrZXMg
c3VyZSB0aGF0IG5vIG1hcHBpbmcKPiArCSAqIGlzIGNyZWF0ZWQgY29uY3VycmVudGx5IHdpdGgg
YW4gb25nb2luZyBtb3ZlIG9wZXJhdGlvbi4KPiArCSAqCj4gKwkgKiBNYXBwaW5ncyBzdGF5IHZh
bGlkIGFuZCBhcmUgbm90IGRpcmVjdGx5IGFmZmVjdGVkIGJ5IHRoaXMgY2FsbGJhY2suCj4gKwkg
KiBCdXQgdGhlIERNQS1idWYgY2FuIG5vdyBiZSBpbiBhIGRpZmZlcmVudCBwaHlzaWNhbCBsb2Nh
dGlvbiwgc28gYWxsCj4gKwkgKiBtYXBwaW5ncyBzaG91bGQgYmUgZGVzdHJveWVkIGFuZCByZS1j
cmVhdGVkIGFzIHNvb24gYXMgcG9zc2libGUuCj4gKwkgKgo+ICsJICogTmV3IG1hcHBpbmdzIGNh
biBiZSBjcmVhdGVkIGFmdGVyIHRoaXMgY2FsbGJhY2sgcmV0dXJucywgYW5kIHdpbGwKPiArCSAq
IHBvaW50IHRvIHRoZSBuZXcgbG9jYXRpb24gb2YgdGhlIERNQS1idWYuCj4gKwkgKi8KPiArCXZv
aWQgKCptb3ZlX25vdGlmeSkoc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoKTsKPiAr
fTsKPiArCj4gIC8qKgo+ICAgKiBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50IC0gaG9sZHMgZGV2
aWNlLWJ1ZmZlciBhdHRhY2htZW50IGRhdGEKPiAgICogQGRtYWJ1ZjogYnVmZmVyIGZvciB0aGlz
IGF0dGFjaG1lbnQuCj4gQEAgLTMxOSw4ICszNzMsOSBAQCBzdHJ1Y3QgZG1hX2J1ZiB7Cj4gICAq
IEBzZ3Q6IGNhY2hlZCBtYXBwaW5nLgo+ICAgKiBAZGlyOiBkaXJlY3Rpb24gb2YgY2FjaGVkIG1h
cHBpbmcuCj4gICAqIEBwcml2OiBleHBvcnRlciBzcGVjaWZpYyBhdHRhY2htZW50IGRhdGEuCj4g
LSAqIEBkeW5hbWljX21hcHBpbmc6IHRydWUgaWYgZG1hX2J1Zl9tYXAvdW5tYXBfYXR0YWNobWVu
dCgpIGlzIGNhbGxlZCB3aXRoIHRoZQo+IC0gKiBkbWFfcmVzdiBsb2NrIGhlbGQuCj4gKyAqIEBp
bXBvcnRlcl9vcHM6IGltcG9ydGVyIG9wZXJhdGlvbnMgZm9yIHRoaXMgYXR0YWNobWVudCwgaWYg
cHJvdmlkZWQKPiArICogZG1hX2J1Zl9tYXAvdW5tYXBfYXR0YWNobWVudCgpIG11c3QgYmUgY2Fs
bGVkIHdpdGggdGhlIGRtYV9yZXN2IGxvY2sgaGVsZC4KPiArICogQGltcG9ydGVyX3ByaXY6IGlt
cG9ydGVyIHNwZWNpZmljIGF0dGFjaG1lbnQgZGF0YS4KPiAgICoKPiAgICogVGhpcyBzdHJ1Y3R1
cmUgaG9sZHMgdGhlIGF0dGFjaG1lbnQgaW5mb3JtYXRpb24gYmV0d2VlbiB0aGUgZG1hX2J1ZiBi
dWZmZXIKPiAgICogYW5kIGl0cyB1c2VyIGRldmljZShzKS4gVGhlIGxpc3QgY29udGFpbnMgb25l
IGF0dGFjaG1lbnQgc3RydWN0IHBlciBkZXZpY2UKPiBAQCAtMzM3LDcgKzM5Miw4IEBAIHN0cnVj
dCBkbWFfYnVmX2F0dGFjaG1lbnQgewo+ICAJc3RydWN0IGxpc3RfaGVhZCBub2RlOwo+ICAJc3Ry
dWN0IHNnX3RhYmxlICpzZ3Q7Cj4gIAllbnVtIGRtYV9kYXRhX2RpcmVjdGlvbiBkaXI7Cj4gLQli
b29sIGR5bmFtaWNfbWFwcGluZzsKPiArCWNvbnN0IHN0cnVjdCBkbWFfYnVmX2F0dGFjaF9vcHMg
KmltcG9ydGVyX29wczsKPiArCXZvaWQgKmltcG9ydGVyX3ByaXY7Cj4gIAl2b2lkICpwcml2Owo+
ICB9Owo+ICAKPiBAQCAtMzk5LDYgKzQ1NSw3IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBnZXRfZG1h
X2J1ZihzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmKQo+ICAgKi8KPiAgc3RhdGljIGlubGluZSBib29s
IGRtYV9idWZfaXNfZHluYW1pYyhzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmKQo+ICB7Cj4gKwkvKiBU
T0RPOiBzd2l0Y2ggdG8gdXNpbmcgcGluL3VucGluIGZ1bmN0aW9ucyBhcyBpbmRpY2F0b3IuICov
Cj4gIAlyZXR1cm4gZG1hYnVmLT5vcHMtPmR5bmFtaWNfbWFwcGluZzsKPiAgfQo+ICAKPiBAQCAt
NDEzLDE2ICs0NzAsMTkgQEAgc3RhdGljIGlubGluZSBib29sIGRtYV9idWZfaXNfZHluYW1pYyhz
dHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmKQo+ICBzdGF0aWMgaW5saW5lIGJvb2wKPiAgZG1hX2J1Zl9h
dHRhY2htZW50X2lzX2R5bmFtaWMoc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoKQo+
ICB7Cj4gLQlyZXR1cm4gYXR0YWNoLT5keW5hbWljX21hcHBpbmc7Cj4gKwlyZXR1cm4gISFhdHRh
Y2gtPmltcG9ydGVyX29wczsKPiAgfQo+ICAKPiAgc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAq
ZG1hX2J1Zl9hdHRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1ZiwKPiAgCQkJCQkgIHN0cnVjdCBk
ZXZpY2UgKmRldik7Cj4gIHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKgo+ICBkbWFfYnVmX2R5
bmFtaWNfYXR0YWNoKHN0cnVjdCBkbWFfYnVmICpkbWFidWYsIHN0cnVjdCBkZXZpY2UgKmRldiwK
PiAtCQkgICAgICAgYm9vbCBkeW5hbWljX21hcHBpbmcpOwo+ICsJCSAgICAgICBjb25zdCBzdHJ1
Y3QgZG1hX2J1Zl9hdHRhY2hfb3BzICppbXBvcnRlcl9vcHMsCj4gKwkJICAgICAgIHZvaWQgKmlt
cG9ydGVyX3ByaXYpOwo+ICB2b2lkIGRtYV9idWZfZGV0YWNoKHN0cnVjdCBkbWFfYnVmICpkbWFi
dWYsCj4gIAkJICAgIHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCk7Cj4gK2ludCBk
bWFfYnVmX3BpbihzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gpOwo+ICt2b2lkIGRt
YV9idWZfdW5waW4oc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoKTsKPiAgCj4gIHN0
cnVjdCBkbWFfYnVmICpkbWFfYnVmX2V4cG9ydChjb25zdCBzdHJ1Y3QgZG1hX2J1Zl9leHBvcnRf
aW5mbyAqZXhwX2luZm8pOwo+ICAKPiAtLSAKPiAyLjE3LjEKPiAKCi0tIApEYW5pZWwgVmV0dGVy
ClNvZnR3YXJlIEVuZ2luZWVyLCBJbnRlbCBDb3Jwb3JhdGlvbgpodHRwOi8vYmxvZy5mZndsbC5j
aApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW5hcm8t
bW0tc2lnIG1haWxpbmcgbGlzdApMaW5hcm8tbW0tc2lnQGxpc3RzLmxpbmFyby5vcmcKaHR0cHM6
Ly9saXN0cy5saW5hcm8ub3JnL21haWxtYW4vbGlzdGluZm8vbGluYXJvLW1tLXNpZwo=
