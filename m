Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id A4A4C4EABE9
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 29 Mar 2022 13:06:24 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id D568D3EC0D
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 29 Mar 2022 11:06:23 +0000 (UTC)
Received: from mail-oo1-f51.google.com (mail-oo1-f51.google.com [209.85.161.51])
	by lists.linaro.org (Postfix) with ESMTPS id D708D3EB82
	for <linaro-mm-sig@lists.linaro.org>; Fri, 18 Feb 2022 08:58:47 +0000 (UTC)
Received: by mail-oo1-f51.google.com with SMTP id u25-20020a4ad0d9000000b002e8d4370689so2721575oor.12
        for <linaro-mm-sig@lists.linaro.org>; Fri, 18 Feb 2022 00:58:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20210112;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :cc:content-transfer-encoding;
        bh=HO+NYzAweF5NSNQIcj+ApFFIjSwZhjOLgSIzmJUeJMg=;
        b=BQ1H5l+C85MZethqvPrPb/V+0OwkmV8Kql0YqiiyxsDztgqSrfJQ26tDW4ICycRfQA
         td/obdHOIQG/YL9p6+T0+IUciFt/8xwOPvbss/0q2xleicKTiCEG96bU/kkUmjDOf/SP
         TyfhoAmzLEY6qGOwdTxSOfsPjuSEivQahTGnYXjgv+DnHTKzd8ZLlSezbtThR8lQwpph
         /MkoWHotZrRKQThOUOUfXJdgNSW5shbWk4WMAsOQ9LbM/b6khUxj8tmbCEqR+f3Ocjmc
         HJQxWv/vsjGBGl18/zPAlMfTddRVMFRRsC1o2AHvOMVoc553pWifdGjBsvXJXO6ALbkQ
         yZog==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to:cc:content-transfer-encoding;
        bh=HO+NYzAweF5NSNQIcj+ApFFIjSwZhjOLgSIzmJUeJMg=;
        b=fZGRj81Q5eFFkFhrA/jzNradTrSZ3u/nEmn+MW6ZVGUcezWaVVE2/1vwau8z+tOG1y
         dIETjhdDF16S0CHDYoc5NK5yA3fEGoUwrMsxYEn3M3iGt4LtOCHsWseQVqL/+pyT4mb6
         m3hjEp5lfm7jO4zBLL82jvyySHvuAeiK/bxwc+dCuf3Q5RrgP+KtJKwGrbj6Pr18UuSH
         eM6PDIkEBLJR2IJ6l2qIkcFP2TG6ih99+kWXHSqR508GJlOwDbYDwAS6ozYlGJyf6Hs4
         yrGrn/zHNbijgjpCwuD7epzMHPmOcXdyHK8YT5E6uWTXDplXEWogXu4ZDEo1SzWsOf2M
         p4Dw==
X-Gm-Message-State: AOAM5331o77xdzlPNPEwoSUSZgmZydl0o/j1DhqiFiRMwbT1AnOwt1Z0
	DBTtVo9vtQnPO13VeaAJU66BL3BZqE/cdMtt1ng=
X-Google-Smtp-Source: ABdhPJxSdT0C5lcIZpwpt6n6vJojk1ossrHFMmRdODrT7X39K+OBeFui96ZF91zw+Wj4jPYFyCBYM9cQpaarC9vyrhU=
X-Received: by 2002:a05:6870:148a:b0:d3:b909:926c with SMTP id
 k10-20020a056870148a00b000d3b909926cmr2219051oab.129.1645174727212; Fri, 18
 Feb 2022 00:58:47 -0800 (PST)
MIME-Version: 1.0
References: <20220217090440.4468-1-qiang.yu@amd.com> <5d3fdd2c-e74a-49f4-2b28-32c06483236f@amd.com>
 <CAKGbVbtLTBJPF5eTu4rABUTBa8eqjQvqjo1AEUrzgPgYgCREuA@mail.gmail.com>
 <dac70c05-e712-d2e3-2267-278380895f1e@amd.com> <CAKGbVbvtLbDiKrX80-dMnipdLkTE+FP=g_mx37e12fuMtA1Y4Q@mail.gmail.com>
 <ca27a9c6-f390-a938-dd66-ac23f3b44dc4@amd.com> <CAKGbVbv4UFCybS_OFj5UkDgevbrB5qe3pv+0nHv9WdefYhy6Ww@mail.gmail.com>
 <6711073b-8771-5750-33f7-b72333b411c6@amd.com> <CAKGbVbvR+msXjrsXmDM8QTmsCP03hL5-q5CTJBYu4mm=NQd01A@mail.gmail.com>
 <a11b7073-6597-8e87-b724-33acab32e791@gmail.com>
In-Reply-To: <a11b7073-6597-8e87-b724-33acab32e791@gmail.com>
From: Qiang Yu <yuq825@gmail.com>
Date: Fri, 18 Feb 2022 16:58:35 +0800
Message-ID: <CAKGbVbuJ-QdeoMTg=_O=1x5A5tbqZftsjt8aCCoVkAekci0USA@mail.gmail.com>
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <ckoenig.leichtzumerken@gmail.com>
X-MailFrom: yuq825@gmail.com
X-Mailman-Rule-Hits: nonmember-moderation
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation
Message-ID-Hash: NBFARKVI6PFTRA753QVRZFOPQ5R7OQBI
X-Message-ID-Hash: NBFARKVI6PFTRA753QVRZFOPQ5R7OQBI
X-Mailman-Approved-At: Tue, 29 Mar 2022 11:06:02 +0000
CC: =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>, David Airlie <airlied@linux.ie>, "Pan, Xinhui" <Xinhui.Pan@amd.com>, Linux Kernel Mailing List <linux-kernel@vger.kernel.org>, dri-devel <dri-devel@lists.freedesktop.org>, linaro-mm-sig@lists.linaro.org, Qiang Yu <qiang.yu@amd.com>, amd-gfx@lists.freedesktop.org, Daniel Vetter <daniel@ffwll.ch>, Alex Deucher <alexander.deucher@amd.com>, linux-media@vger.kernel.org
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Re: [PATCH] drm/amdgpu: check vm bo eviction valuable at last
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/NBFARKVI6PFTRA753QVRZFOPQ5R7OQBI/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

T24gRnJpLCBGZWIgMTgsIDIwMjIgYXQgMzo0NiBQTSBDaHJpc3RpYW4gS8O2bmlnDQo8Y2tvZW5p
Zy5sZWljaHR6dW1lcmtlbkBnbWFpbC5jb20+IHdyb3RlOg0KPg0KPiBBbSAxOC4wMi4yMiB1bSAw
NDowOCBzY2hyaWViIFFpYW5nIFl1Og0KPiA+IE9uIFRodSwgRmViIDE3LCAyMDIyIGF0IDg6MjIg
UE0gQ2hyaXN0aWFuIEvDtm5pZw0KPiA+IDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+IHdyb3Rl
Og0KPiA+PiBBbSAxNy4wMi4yMiB1bSAxMTo1OCBzY2hyaWViIFFpYW5nIFl1Og0KPiA+Pj4gT24g
VGh1LCBGZWIgMTcsIDIwMjIgYXQgNjozOSBQTSBDaHJpc3RpYW4gS8O2bmlnDQo+ID4+PiA8Y2hy
aXN0aWFuLmtvZW5pZ0BhbWQuY29tPiB3cm90ZToNCj4gPj4+Pg0KPiA+Pj4+IEFtIDE3LjAyLjIy
IHVtIDExOjEzIHNjaHJpZWIgUWlhbmcgWXU6DQo+ID4+Pj4+IE9uIFRodSwgRmViIDE3LCAyMDIy
IGF0IDU6NDYgUE0gQ2hyaXN0aWFuIEvDtm5pZw0KPiA+Pj4+PiA8Y2hyaXN0aWFuLmtvZW5pZ0Bh
bWQuY29tPiB3cm90ZToNCj4gPj4+Pj4+IEFtIDE3LjAyLjIyIHVtIDEwOjQwIHNjaHJpZWIgUWlh
bmcgWXU6DQo+ID4+Pj4+Pj4gT24gVGh1LCBGZWIgMTcsIDIwMjIgYXQgNToxNSBQTSBDaHJpc3Rp
YW4gS8O2bmlnDQo+ID4+Pj4+Pj4gPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4gd3JvdGU6DQo+
ID4+Pj4+Pj4+IEFtIDE3LjAyLjIyIHVtIDEwOjA0IHNjaHJpZWIgUWlhbmcgWXU6DQo+ID4+Pj4+
Pj4+PiBXb3Jrc3RhdGlvbiBhcHBsaWNhdGlvbiBBTlNBL01FVEEgZ2V0IHRoaXMgZXJyb3IgZG1l
c2c6DQo+ID4+Pj4+Pj4+PiBbZHJtOmFtZGdwdV9nZW1fdmFfaW9jdGwgW2FtZGdwdV1dICpFUlJP
UiogQ291bGRuJ3QgdXBkYXRlIEJPX1ZBICgtMTYpDQo+ID4+Pj4+Pj4+Pg0KPiA+Pj4+Pj4+Pj4g
VGhpcyBpcyBjYXVzZWQgYnk6DQo+ID4+Pj4+Pj4+PiAxLiBjcmVhdGUgYSAyNTZNQiBidWZmZXIg
aW4gaW52aXNpYmxlIFZSQU0NCj4gPj4+Pj4+Pj4+IDIuIENQVSBtYXAgdGhlIGJ1ZmZlciBhbmQg
YWNjZXNzIGl0IGNhdXNlcyB2bV9mYXVsdCBhbmQgdHJ5IHRvIG1vdmUNCj4gPj4+Pj4+Pj4+ICAg
ICAgICAgaXQgdG8gdmlzaWJsZSBWUkFNDQo+ID4+Pj4+Pj4+PiAzLiBmb3JjZSB2aXNpYmxlIFZS
QU0gc3BhY2UgYW5kIHRyYXZlcnNlIGFsbCBWUkFNIGJvcyB0byBjaGVjayBpZg0KPiA+Pj4+Pj4+
Pj4gICAgICAgICBldmljdGluZyB0aGlzIGJvIGlzIHZhbHVhYmxlDQo+ID4+Pj4+Pj4+PiA0LiB3
aGVuIGNoZWNraW5nIGEgVk0gYm8gKGluIGludmlzaWJsZSBWUkFNKSwgYW1kZ3B1X3ZtX2V2aWN0
YWJsZSgpDQo+ID4+Pj4+Pj4+PiAgICAgICAgIHdpbGwgc2V0IGFtZGdwdV92bS0+ZXZpY3Rpbmcs
IGJ1dCBsYXR0ZXIgZHVlIHRvIG5vdCBpbiB2aXNpYmxlDQo+ID4+Pj4+Pj4+PiAgICAgICAgIFZS
QU0sIHdvbid0IHJlYWxseSBldmljdCBpdCBzbyBub3QgYWRkIGl0IHRvIGFtZGdwdV92bS0+ZXZp
Y3RlZA0KPiA+Pj4+Pj4+Pj4gNS4gYmVmb3JlIG5leHQgQ1MgdG8gY2xlYXIgdGhlIGFtZGdwdV92
bS0+ZXZpY3RpbmcsIHVzZXIgVk0gb3BzDQo+ID4+Pj4+Pj4+PiAgICAgICAgIGlvY3RsIHdpbGwg
cGFzcyBhbWRncHVfdm1fcmVhZHkoKSAoY2hlY2sgYW1kZ3B1X3ZtLT5ldmljdGVkKQ0KPiA+Pj4+
Pj4+Pj4gICAgICAgICBidXQgZmFpbCBpbiBhbWRncHVfdm1fYm9fdXBkYXRlX21hcHBpbmcoKSAo
Y2hlY2sNCj4gPj4+Pj4+Pj4+ICAgICAgICAgYW1kZ3B1X3ZtLT5ldmljdGluZykgYW5kIGdldCB0
aGlzIGVycm9yIGxvZw0KPiA+Pj4+Pj4+Pj4NCj4gPj4+Pj4+Pj4+IFRoaXMgZXJyb3Igd29uJ3Qg
YWZmZWN0IGZ1bmN0aW9uYWxpdHkgYXMgbmV4dCBDUyB3aWxsIGZpbmlzaCB0aGUNCj4gPj4+Pj4+
Pj4+IHdhaXRpbmcgVk0gb3BzLiBCdXQgd2UnZCBiZXR0ZXIgbWFrZSB0aGUgYW1kZ3B1X3ZtLT5l
dmljdGluZw0KPiA+Pj4+Pj4+Pj4gY29ycmVjdGx5IHJlZmxhY3QgdGhlIHZtIHN0YXR1cyBhbmQg
Y2xlYXIgdGhlIGVycm9yIGxvZy4NCj4gPj4+Pj4+Pj4gV2VsbCBOQUssIHRoYXQgaXMgaW50ZW50
aW9uYWwgYmVoYXZpb3IuDQo+ID4+Pj4+Pj4+DQo+ID4+Pj4+Pj4+IFRoZSBWTSBwYWdlIHRhYmxl
cyB3aGVyZSBjb25zaWRlcmVkIGZvciBldmljdGlvbiwgc28gc2V0dGluZyB0aGUgZmxhZyBpcw0K
PiA+Pj4+Pj4+PiBjb3JyZWN0IGV2ZW4gd2hlbiB0aGUgcGFnZSB0YWJsZXMgbGF0ZXIgb24gYXJl
IG5vdCBhY3R1YWxseSBldmljdGVkLg0KPiA+Pj4+Pj4+Pg0KPiA+Pj4+Pj4+IEJ1dCB0aGlzIHdp
bGwgdW5uZWNlc3NhcmlseSBzdG9wIGxhdHRlciB1c2VyIFZNIG9wcyBpbiBpb2N0bCBiZWZvcmUg
Q1MNCj4gPj4+Pj4+PiBldmVuIHdoZW4gdGhlIFZNIGJvcyBhcmUgbm90IGV2aWN0ZWQuDQo+ID4+
Pj4+Pj4gV29uJ3QgdGhpcyBoYXZlIGFueSBuZWdhdGl2ZSBlZmZlY3Qgd2hlbiBjb3VsZCBkbyBi
ZXR0ZXI/DQo+ID4+Pj4+PiBObywgdGhpcyB3aWxsIGhhdmUgYSBwb3NpdGl2ZSBlZmZlY3QuIFNl
ZSB0aGUgVk0gd2FzIGFscmVhZHkgY29uc2lkZXJlZA0KPiA+Pj4+Pj4gZm9yIGV2aWN0aW9uIGJl
Y2F1c2UgaXQgaXMgaWRsZS4NCj4gPj4+Pj4+DQo+ID4+Pj4+PiBVcGRhdGluZyBpdCBpbW1lZGlh
dGVseSBkb2Vzbid0IG5lY2Vzc2FyaWx5IG1ha2Ugc2Vuc2UsIHdlIHNob3VsZCB3YWl0DQo+ID4+
Pj4+PiB3aXRoIHRoYXQgdW50aWwgaXRzIG5leHQgdXNhZ2UuDQo+ID4+Pj4+Pg0KPiA+Pj4+Pj4g
QWRkaXRpb25hbCB0byB0aGF0IHRoaXMgcGF0Y2ggZG9lc24ndCByZWFsbHkgZml4IHRoZSBwcm9i
bGVtLCBpdCBqdXN0DQo+ID4+Pj4+PiBtaXRpZ2F0ZXMgaXQuDQo+ID4+Pj4+Pg0KPiA+Pj4+Pj4g
RXZpY3Rpb24gY2FuIGZhaWwgbGF0ZXIgb24gZm9yIGEgY291cGxlIG9mIHJlYXNvbnMgYW5kIHdl
IGFic29sdXRlbHkNCj4gPj4+Pj4+IG5lZWQgdG8gY2hlY2sgdGhlIGZsYWcgaW5zdGVhZCBvZiB0
aGUgbGlzdCBpbiBhbWRncHVfdm1fcmVhZHkoKS4NCj4gPj4+Pj4gVGhlIGZsYWcgb25seSBmb3Ig
Ym90aCBmbGFnIGFuZCBsaXN0PyBMb29rcyBsaWtlIHNob3VsZCBiZSBib3RoIGFzDQo+ID4+Pj4+
IHRoZSBsaXN0IGluZGljYXRlIHNvbWUgdm0gcGFnZSB0YWJsZSBuZWVkIHRvIGJlIHVwZGF0ZWQg
YW5kIGNvdWxkDQo+ID4+Pj4+IGRlbGF5IHRoZSB1c2VyIHVwZGF0ZSB3aXRoIHRoZSBzYW1lIGxv
Z2ljIGFzIHlvdSBkZXNjcmliZWQgYWJvdmUuDQo+ID4+Pj4gSSB0aGluayBjaGVja2luZyB0aGUg
ZmxhZyBzaG91bGQgYmUgZW5vdWdoLiBUaGUgaXNzdWUgaXMgdGhhdCB0aGUgbGlzdA0KPiA+Pj4+
IHdhcyB0aGVyZSBpbml0aWFsbHksIGJ1dCB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnMgd2UgYWRk
ZWQgdGhlIGZsYWcgd2l0aA0KPiA+Pj4+IHNlcGFyYXRlIGxvY2sgcHJvdGVjdGlvbiBsYXRlciBv
bi4NCj4gPj4+Pg0KPiA+Pj4gQnV0IGxpc3QgYW5kIGZsYWcgZG9lcyBub3QgYWxpZ24gYWx3YXlz
LCB0aGVyZSBhcmUgY2FzZXMgbGlrZQ0KPiA+Pj4gbGlzdC1lbXB0eS9mbGFnLXNldCAodGhpcyBw
cm9ibGVtKSBhbmQgbGlzdC1ub24tZW1wdHkvZmxhZy11bnNldCAobm9uLXZtIGJvDQo+ID4+PiBl
dmljdGlvbikuIElmIG9ubHkgY2hlY2sgZmxhZyBsaXN0LW5vbi1lbXB0eS9mbGFnLXVuc2V0IGNo
YW5nZSBiZWhhdmlvci4NCj4gPj4gWWVhaCwgYnV0IEkgdGhpbmsgdGhhdCB0aGUgZmxhZyB1bnNl
dCBsaXN0LW5vbi1lbXB0eSBjYXNlIHdvdWxkIGJlDQo+ID4+IGNvcnJlY3RseSBoYW5kbGVkIGlm
IHdlIG9ubHkgdGVzdCB0aGUgZmxhZy4NCj4gPj4NCj4gPj4gSW4gb3RoZXIgd29yZHMgd2UgY2Fu
IHVwZGF0ZSB0aGUgcGFnZSB0YWJsZXMgYXMgbG9uZyBhcyB0aGV5IGFyZSBub3QNCj4gPj4gcGFy
dGlhbGx5IG9yIGZ1bGx5IGV2aWN0ZWQgYW5kIHRoYXQncyBub3QgdGhlIGNhc2Ugd2hlbiBub24t
dm0gQk9zIGFyZQ0KPiA+PiBldmljdGVkLg0KPiA+Pg0KPiA+IFRoaXMgc291bmRzIGxpa2UgdHdv
IHN0YW5kYXJkIGZvciB0aGUgc2FtZSB0aGluZywgYmVjYXVzZSB0aGlzIHByb2JsZW0NCj4gPiBk
b2VzIG5vdCBldmljdCBwYWdlIHRhYmxlcyB0b28uIEJ1dCBJIHNlZSB5b3VyIHBvaW50IGlzOg0K
PiA+IFRoZXJlJ3MgYSBkaWZmZXJlbmNlIHRoYXQgdGhpcyBwcm9ibGVtJ3MgY2FzZSBjYW4gbWFr
ZSBzdXJlIHZtIGlzIGlkbGUsDQo+ID4gYW5kIHdlIHByZWZlciB0byBkZWxheSB2bSB1cGRhdGVz
IHdoZW4gdm0gaXMgaWRsZS4NCj4gPg0KPiA+IElmIHNvLCB3aHkgbm90IGp1c3Qgc3RvcCB1c2Vy
IHZtIHVwZGF0ZSBieSBjaGVja2luZyB2bSBidXN5IGluDQo+ID4gYW1kZ3B1X2dlbV92YV9pb2N0
bCgpIHRvIHNraXAgYW1kZ3B1X2dlbV92YV91cGRhdGVfdm0oKT8NCj4NCj4gVGhhdCdzIGV4YWN0
bHkgd2hhdCBhbWRncHVfZ2VtX3ZhX3VwZGF0ZV92bSgpIGlzIGRvaW5nIGJ5IGNhbGxpbmcNCj4g
YW1kZ3B1X3ZtX3JlYWR5KCkuIFRoZSBwcm9ibGVtIGlzIHRoYXQgYW1kZ3B1X3ZtX3JlYWR5KCkg
bG9va3MgYXQgdGhlDQo+IHdyb25nIHRoaW5nLg0KPg0KSWYgYW1kZ3B1X3ZtX3JlYWR5KCkgdXNl
IGV2aWN0aW5nIGZsYWcsIGl0J3Mgc3RpbGwgbm90IGVxdWl2YWxlbnQgdG8gY2hlY2sNCnZtIGlk
bGU6IHRydWUgLT4gdm0gaWRsZSwgZmFsc2UgLT4gdm0gbWF5IGJlIGlkbGUgb3IgYnVzeS4NCg0K
PiA+IFRoZW4gd2UgY2FuIGtlZXAgdGhlIGV2aWN0aW5nIGZsYWcgYWNjdXJhdGUgKGFmdGVyIHNv
bHZpbmcgeW91cg0KPiA+IGNvbmNlcm4gZm9yIHRoaXMgcGF0Y2ggdGhhdCBldmljdGlvbiBtYXkg
ZmFpbCBsYXR0ZXIgYnkgZnVydGhlciBkZWxheQ0KPiA+IHRoZSBmbGFnIHVwZGF0ZSBhZnRlciBl
dmljdGlvbiBzdWNjZXNzKS4NCj4NCj4gVGhhdCB3b24ndCB3b3JrLiBTZWUgd2UgbmVlZCB0byBt
YXJrIHRoZSBWTSBhcyBldmljdGVkIGJlZm9yZSB3ZQ0KPiBhY3R1YWxseSBldmljdCB0aGVtIGJl
Y2F1c2Ugb3RoZXJ3aXNlIHNvbWVib2R5IGNvdWxkIHVzZSB0aGUgVk0gaW4NCj4gcGFyYWxsZWwg
YW5kIGFkZCBhbm90aGVyIGZlbmNlIHRvIGl0Lg0KPg0KSSBzZWUsIG1ha2UgdGhpcyB0b28gYWNj
dXJhdGUgc2hvdWxkIGNvc3QgdG9vIG11Y2ggbGlrZSBob2xkaW5nIHRoZQ0KZXZpY3Rpb25fbG9j
ayB3aGVuIGV2aWN0aW9uLiBCdXQganVzdCBkZWxheSBpdCBpbg0KYW1kZ3B1X3R0bV9ib19ldmlj
dGlvbl92YWx1YWJsZSgpDQpjb3VsZCBhdm9pZCBtb3N0IGZhbHNlIHBvc2l0aXZlIGNhc2UuDQoN
ClJlZ2FyZHMsDQpRaWFuZw0KDQo+IFJlZ2FyZHMsDQo+IENocmlzdGlhbi4NCj4NCj4gPg0KPiA+
IFJlZ2FyZHMsDQo+ID4gUWlhbmcNCj4gPg0KPiA+DQo+ID4+IFJlZ2FyZHMsDQo+ID4+IENocmlz
dGlhbi4NCj4gPj4NCj4gPj4+IFJlZ2FyZHMsDQo+ID4+PiBRaWFuZw0KPiA+Pj4NCj4gPj4+PiBS
ZWdhcmRzLA0KPiA+Pj4+IENocmlzdGlhbi4NCj4gPj4+Pg0KPiA+Pj4+PiBSZWdhcmRzLA0KPiA+
Pj4+PiBRaWFuZw0KPiA+Pj4+Pg0KPiA+Pj4+Pj4gUmVnYXJkcywNCj4gPj4+Pj4+IENocmlzdGlh
bi4NCj4gPj4+Pj4+DQo+ID4+Pj4+Pj4gUmVnYXJkcywNCj4gPj4+Pj4+PiBRaWFuZw0KPiA+Pj4+
Pj4+DQo+ID4+Pj4+Pj4+IFdoYXQgd2Ugc2hvdWxkIHJhdGhlciBkbyBpcyB0byBmaXggYW1kZ3B1
X3ZtX3JlYWR5KCkgdG8gdGFrZSBhIGxvb2sgYXQNCj4gPj4+Pj4+Pj4gdGhlIGZsYWcgaW5zdGVh
ZCBvZiB0aGUgbGlua2VkIGxpc3QuDQo+ID4+Pj4+Pj4+DQo+ID4+Pj4+Pj4+IFJlZ2FyZHMsDQo+
ID4+Pj4+Pj4+IENocmlzdGlhbi4NCj4gPj4+Pj4+Pj4NCj4gPj4+Pj4+Pj4+IFNpZ25lZC1vZmYt
Ynk6IFFpYW5nIFl1IDxxaWFuZy55dUBhbWQuY29tPg0KPiA+Pj4+Pj4+Pj4gLS0tDQo+ID4+Pj4+
Pj4+PiAgICAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMgfCA4NSAr
KysrKysrKysrKysrKy0tLS0tLS0tLS0tDQo+ID4+Pj4+Pj4+PiAgICAgICAxIGZpbGUgY2hhbmdl
ZCwgNDcgaW5zZXJ0aW9ucygrKSwgMzggZGVsZXRpb25zKC0pDQo+ID4+Pj4+Pj4+Pg0KPiA+Pj4+
Pj4+Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0u
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYw0KPiA+Pj4+Pj4+Pj4g
aW5kZXggNWEzMmVlNjZkOGM4Li44OGEyNzkxMTA1NGYgMTAwNjQ0DQo+ID4+Pj4+Pj4+PiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMNCj4gPj4+Pj4+Pj4+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYw0KPiA+Pj4+Pj4+Pj4g
QEAgLTEzMDYsNDUgKzEzMDYsMTEgQEAgdWludDY0X3QgYW1kZ3B1X3R0bV90dF9wdGVfZmxhZ3Mo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdCB0dG1fdHQgKnR0bSwNCj4gPj4+Pj4+
Pj4+ICAgICAgICAgICByZXR1cm4gZmxhZ3M7DQo+ID4+Pj4+Pj4+PiAgICAgICB9DQo+ID4+Pj4+
Pj4+Pg0KPiA+Pj4+Pj4+Pj4gLS8qDQo+ID4+Pj4+Pj4+PiAtICogYW1kZ3B1X3R0bV9ib19ldmlj
dGlvbl92YWx1YWJsZSAtIENoZWNrIHRvIHNlZSBpZiB3ZSBjYW4gZXZpY3QgYSBidWZmZXINCj4g
Pj4+Pj4+Pj4+IC0gKiBvYmplY3QuDQo+ID4+Pj4+Pj4+PiAtICoNCj4gPj4+Pj4+Pj4+IC0gKiBS
ZXR1cm4gdHJ1ZSBpZiBldmljdGlvbiBpcyBzZW5zaWJsZS4gQ2FsbGVkIGJ5IHR0bV9tZW1fZXZp
Y3RfZmlyc3QoKSBvbg0KPiA+Pj4+Pj4+Pj4gLSAqIGJlaGFsZiBvZiB0dG1fYm9fbWVtX2ZvcmNl
X3NwYWNlKCkgd2hpY2ggdHJpZXMgdG8gZXZpY3QgYnVmZmVyIG9iamVjdHMgdW50aWwNCj4gPj4+
Pj4+Pj4+IC0gKiBpdCBjYW4gZmluZCBzcGFjZSBmb3IgYSBuZXcgb2JqZWN0IGFuZCBieSB0dG1f
Ym9fZm9yY2VfbGlzdF9jbGVhbigpIHdoaWNoIGlzDQo+ID4+Pj4+Pj4+PiAtICogdXNlZCB0byBj
bGVhbiBvdXQgYSBtZW1vcnkgc3BhY2UuDQo+ID4+Pj4+Pj4+PiAtICovDQo+ID4+Pj4+Pj4+PiAt
c3RhdGljIGJvb2wgYW1kZ3B1X3R0bV9ib19ldmljdGlvbl92YWx1YWJsZShzdHJ1Y3QgdHRtX2J1
ZmZlcl9vYmplY3QgKmJvLA0KPiA+Pj4+Pj4+Pj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IHR0bV9wbGFjZSAqcGxhY2UpDQo+ID4+Pj4+Pj4+
PiArc3RhdGljIGJvb2wgYW1kZ3B1X3R0bV9tZW1fZXZpY3Rpb25fdmFsdWFibGUoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibywNCj4gPj4+Pj4+Pj4+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgdHRtX3BsYWNlICpwbGFjZSkNCj4gPj4+
Pj4+Pj4+ICAgICAgIHsNCj4gPj4+Pj4+Pj4+ICAgICAgICAgICB1bnNpZ25lZCBsb25nIG51bV9w
YWdlcyA9IGJvLT5yZXNvdXJjZS0+bnVtX3BhZ2VzOw0KPiA+Pj4+Pj4+Pj4gICAgICAgICAgIHN0
cnVjdCBhbWRncHVfcmVzX2N1cnNvciBjdXJzb3I7DQo+ID4+Pj4+Pj4+PiAtICAgICBzdHJ1Y3Qg
ZG1hX3Jlc3ZfbGlzdCAqZmxpc3Q7DQo+ID4+Pj4+Pj4+PiAtICAgICBzdHJ1Y3QgZG1hX2ZlbmNl
ICpmOw0KPiA+Pj4+Pj4+Pj4gLSAgICAgaW50IGk7DQo+ID4+Pj4+Pj4+PiAtDQo+ID4+Pj4+Pj4+
PiAtICAgICAvKiBTd2Fwb3V0PyAqLw0KPiA+Pj4+Pj4+Pj4gLSAgICAgaWYgKGJvLT5yZXNvdXJj
ZS0+bWVtX3R5cGUgPT0gVFRNX1BMX1NZU1RFTSkNCj4gPj4+Pj4+Pj4+IC0gICAgICAgICAgICAg
cmV0dXJuIHRydWU7DQo+ID4+Pj4+Pj4+PiAtDQo+ID4+Pj4+Pj4+PiAtICAgICBpZiAoYm8tPnR5
cGUgPT0gdHRtX2JvX3R5cGVfa2VybmVsICYmDQo+ID4+Pj4+Pj4+PiAtICAgICAgICAgIWFtZGdw
dV92bV9ldmljdGFibGUodHRtX3RvX2FtZGdwdV9ibyhibykpKQ0KPiA+Pj4+Pj4+Pj4gLSAgICAg
ICAgICAgICByZXR1cm4gZmFsc2U7DQo+ID4+Pj4+Pj4+PiAtDQo+ID4+Pj4+Pj4+PiAtICAgICAv
KiBJZiBibyBpcyBhIEtGRCBCTywgY2hlY2sgaWYgdGhlIGJvIGJlbG9uZ3MgdG8gdGhlIGN1cnJl
bnQgcHJvY2Vzcy4NCj4gPj4+Pj4+Pj4+IC0gICAgICAqIElmIHRydWUsIHRoZW4gcmV0dXJuIGZh
bHNlIGFzIGFueSBLRkQgcHJvY2VzcyBuZWVkcyBhbGwgaXRzIEJPcyB0bw0KPiA+Pj4+Pj4+Pj4g
LSAgICAgICogYmUgcmVzaWRlbnQgdG8gcnVuIHN1Y2Nlc3NmdWxseQ0KPiA+Pj4+Pj4+Pj4gLSAg
ICAgICovDQo+ID4+Pj4+Pj4+PiAtICAgICBmbGlzdCA9IGRtYV9yZXN2X3NoYXJlZF9saXN0KGJv
LT5iYXNlLnJlc3YpOw0KPiA+Pj4+Pj4+Pj4gLSAgICAgaWYgKGZsaXN0KSB7DQo+ID4+Pj4+Pj4+
PiAtICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmbGlzdC0+c2hhcmVkX2NvdW50OyArK2kp
IHsNCj4gPj4+Pj4+Pj4+IC0gICAgICAgICAgICAgICAgICAgICBmID0gcmN1X2RlcmVmZXJlbmNl
X3Byb3RlY3RlZChmbGlzdC0+c2hhcmVkW2ldLA0KPiA+Pj4+Pj4+Pj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgZG1hX3Jlc3ZfaGVsZChiby0+YmFzZS5yZXN2KSk7DQo+ID4+Pj4+Pj4+
PiAtICAgICAgICAgICAgICAgICAgICAgaWYgKGFtZGtmZF9mZW5jZV9jaGVja19tbShmLCBjdXJy
ZW50LT5tbSkpDQo+ID4+Pj4+Pj4+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1
cm4gZmFsc2U7DQo+ID4+Pj4+Pj4+PiAtICAgICAgICAgICAgIH0NCj4gPj4+Pj4+Pj4+IC0gICAg
IH0NCj4gPj4+Pj4+Pj4+DQo+ID4+Pj4+Pj4+PiAgICAgICAgICAgc3dpdGNoIChiby0+cmVzb3Vy
Y2UtPm1lbV90eXBlKSB7DQo+ID4+Pj4+Pj4+PiAgICAgICAgICAgY2FzZSBBTURHUFVfUExfUFJF
RU1QVDoNCj4gPj4+Pj4+Pj4+IEBAIC0xMzc3LDEwICsxMzQzLDUzIEBAIHN0YXRpYyBib29sIGFt
ZGdwdV90dG1fYm9fZXZpY3Rpb25fdmFsdWFibGUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpi
bywNCj4gPj4+Pj4+Pj4+ICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCj4gPj4+Pj4+
Pj4+DQo+ID4+Pj4+Pj4+PiAgICAgICAgICAgZGVmYXVsdDoNCj4gPj4+Pj4+Pj4+IC0gICAgICAg
ICAgICAgYnJlYWs7DQo+ID4+Pj4+Pj4+PiArICAgICAgICAgICAgIHJldHVybiB0dG1fYm9fZXZp
Y3Rpb25fdmFsdWFibGUoYm8sIHBsYWNlKTsNCj4gPj4+Pj4+Pj4+ICAgICAgICAgICB9DQo+ID4+
Pj4+Pj4+PiArfQ0KPiA+Pj4+Pj4+Pj4NCj4gPj4+Pj4+Pj4+IC0gICAgIHJldHVybiB0dG1fYm9f
ZXZpY3Rpb25fdmFsdWFibGUoYm8sIHBsYWNlKTsNCj4gPj4+Pj4+Pj4+ICsvKg0KPiA+Pj4+Pj4+
Pj4gKyAqIGFtZGdwdV90dG1fYm9fZXZpY3Rpb25fdmFsdWFibGUgLSBDaGVjayB0byBzZWUgaWYg
d2UgY2FuIGV2aWN0IGEgYnVmZmVyDQo+ID4+Pj4+Pj4+PiArICogb2JqZWN0Lg0KPiA+Pj4+Pj4+
Pj4gKyAqDQo+ID4+Pj4+Pj4+PiArICogUmV0dXJuIHRydWUgaWYgZXZpY3Rpb24gaXMgc2Vuc2li
bGUuIENhbGxlZCBieSB0dG1fbWVtX2V2aWN0X2ZpcnN0KCkgb24NCj4gPj4+Pj4+Pj4+ICsgKiBi
ZWhhbGYgb2YgdHRtX2JvX21lbV9mb3JjZV9zcGFjZSgpIHdoaWNoIHRyaWVzIHRvIGV2aWN0IGJ1
ZmZlciBvYmplY3RzIHVudGlsDQo+ID4+Pj4+Pj4+PiArICogaXQgY2FuIGZpbmQgc3BhY2UgZm9y
IGEgbmV3IG9iamVjdCBhbmQgYnkgdHRtX2JvX2ZvcmNlX2xpc3RfY2xlYW4oKSB3aGljaCBpcw0K
PiA+Pj4+Pj4+Pj4gKyAqIHVzZWQgdG8gY2xlYW4gb3V0IGEgbWVtb3J5IHNwYWNlLg0KPiA+Pj4+
Pj4+Pj4gKyAqLw0KPiA+Pj4+Pj4+Pj4gK3N0YXRpYyBib29sIGFtZGdwdV90dG1fYm9fZXZpY3Rp
b25fdmFsdWFibGUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywNCj4gPj4+Pj4+Pj4+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCB0dG1f
cGxhY2UgKnBsYWNlKQ0KPiA+Pj4+Pj4+Pj4gK3sNCj4gPj4+Pj4+Pj4+ICsgICAgIHN0cnVjdCBk
bWFfcmVzdl9saXN0ICpmbGlzdDsNCj4gPj4+Pj4+Pj4+ICsgICAgIHN0cnVjdCBkbWFfZmVuY2Ug
KmY7DQo+ID4+Pj4+Pj4+PiArICAgICBpbnQgaTsNCj4gPj4+Pj4+Pj4+ICsNCj4gPj4+Pj4+Pj4+
ICsgICAgIC8qIFN3YXBvdXQ/ICovDQo+ID4+Pj4+Pj4+PiArICAgICBpZiAoYm8tPnJlc291cmNl
LT5tZW1fdHlwZSA9PSBUVE1fUExfU1lTVEVNKQ0KPiA+Pj4+Pj4+Pj4gKyAgICAgICAgICAgICBy
ZXR1cm4gdHJ1ZTsNCj4gPj4+Pj4+Pj4+ICsNCj4gPj4+Pj4+Pj4+ICsgICAgIC8qIElmIGJvIGlz
IGEgS0ZEIEJPLCBjaGVjayBpZiB0aGUgYm8gYmVsb25ncyB0byB0aGUgY3VycmVudCBwcm9jZXNz
Lg0KPiA+Pj4+Pj4+Pj4gKyAgICAgICogSWYgdHJ1ZSwgdGhlbiByZXR1cm4gZmFsc2UgYXMgYW55
IEtGRCBwcm9jZXNzIG5lZWRzIGFsbCBpdHMgQk9zIHRvDQo+ID4+Pj4+Pj4+PiArICAgICAgKiBi
ZSByZXNpZGVudCB0byBydW4gc3VjY2Vzc2Z1bGx5DQo+ID4+Pj4+Pj4+PiArICAgICAgKi8NCj4g
Pj4+Pj4+Pj4+ICsgICAgIGZsaXN0ID0gZG1hX3Jlc3Zfc2hhcmVkX2xpc3QoYm8tPmJhc2UucmVz
dik7DQo+ID4+Pj4+Pj4+PiArICAgICBpZiAoZmxpc3QpIHsNCj4gPj4+Pj4+Pj4+ICsgICAgICAg
ICAgICAgZm9yIChpID0gMDsgaSA8IGZsaXN0LT5zaGFyZWRfY291bnQ7ICsraSkgew0KPiA+Pj4+
Pj4+Pj4gKyAgICAgICAgICAgICAgICAgICAgIGYgPSByY3VfZGVyZWZlcmVuY2VfcHJvdGVjdGVk
KGZsaXN0LT5zaGFyZWRbaV0sDQo+ID4+Pj4+Pj4+PiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBkbWFfcmVzdl9oZWxkKGJvLT5iYXNlLnJlc3YpKTsNCj4gPj4+Pj4+Pj4+ICsgICAgICAg
ICAgICAgICAgICAgICBpZiAoYW1ka2ZkX2ZlbmNlX2NoZWNrX21tKGYsIGN1cnJlbnQtPm1tKSkN
Cj4gPj4+Pj4+Pj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsN
Cj4gPj4+Pj4+Pj4+ICsgICAgICAgICAgICAgfQ0KPiA+Pj4+Pj4+Pj4gKyAgICAgfQ0KPiA+Pj4+
Pj4+Pj4gKw0KPiA+Pj4+Pj4+Pj4gKyAgICAgLyogQ2hlY2sgYnkgZGlmZmVyZW50IG1lbSB0eXBl
LiAqLw0KPiA+Pj4+Pj4+Pj4gKyAgICAgaWYgKCFhbWRncHVfdHRtX21lbV9ldmljdGlvbl92YWx1
YWJsZShibywgcGxhY2UpKQ0KPiA+Pj4+Pj4+Pj4gKyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7
DQo+ID4+Pj4+Pj4+PiArDQo+ID4+Pj4+Pj4+PiArICAgICAvKiBWTSBibyBzaG91bGQgYmUgY2hl
Y2tlZCBhdCBsYXN0IGJlY2F1c2UgaXQgd2lsbCBtYXJrIFZNIGV2aWN0aW5nLiAqLw0KPiA+Pj4+
Pj4+Pj4gKyAgICAgaWYgKGJvLT50eXBlID09IHR0bV9ib190eXBlX2tlcm5lbCkNCj4gPj4+Pj4+
Pj4+ICsgICAgICAgICAgICAgcmV0dXJuIGFtZGdwdV92bV9ldmljdGFibGUodHRtX3RvX2FtZGdw
dV9ibyhibykpOw0KPiA+Pj4+Pj4+Pj4gKw0KPiA+Pj4+Pj4+Pj4gKyAgICAgcmV0dXJuIHRydWU7
DQo+ID4+Pj4+Pj4+PiAgICAgICB9DQo+ID4+Pj4+Pj4+Pg0KPiA+Pj4+Pj4+Pj4gICAgICAgc3Rh
dGljIHZvaWQgYW1kZ3B1X3R0bV92cmFtX21tX2FjY2VzcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwgbG9mZl90IHBvcywNCj4NCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCkxpbmFyby1tbS1zaWcgbWFpbGluZyBsaXN0IC0tIGxpbmFyby1tbS1zaWdA
bGlzdHMubGluYXJvLm9yZwpUbyB1bnN1YnNjcmliZSBzZW5kIGFuIGVtYWlsIHRvIGxpbmFyby1t
bS1zaWctbGVhdmVAbGlzdHMubGluYXJvLm9yZwo=
