Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id D7DA818F55F
	for <lists+linaro-mm-sig@lfdr.de>; Mon, 23 Mar 2020 14:11:44 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id E4B2B61839
	for <lists+linaro-mm-sig@lfdr.de>; Mon, 23 Mar 2020 13:11:43 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id D77A56189D; Mon, 23 Mar 2020 13:11:43 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,MAILING_LIST_MULTI,
	RCVD_IN_DNSWL_NONE,RCVD_IN_MSPIKE_H2,SPF_HELO_NONE autolearn=disabled
	version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 2636C60F06;
	Mon, 23 Mar 2020 13:10:20 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 7258D60790
 for <linaro-mm-sig@lists.linaro.org>; Mon, 23 Mar 2020 13:10:16 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 667C260B45; Mon, 23 Mar 2020 13:10:16 +0000 (UTC)
Received: from mail-wr1-f66.google.com (mail-wr1-f66.google.com
 [209.85.221.66])
 by lists.linaro.org (Postfix) with ESMTPS id 0671C60790
 for <linaro-mm-sig@lists.linaro.org>; Mon, 23 Mar 2020 13:10:14 +0000 (UTC)
Received: by mail-wr1-f66.google.com with SMTP id a25so17022451wrd.0
 for <linaro-mm-sig@lists.linaro.org>; Mon, 23 Mar 2020 06:10:14 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:content-transfer-encoding
 :in-reply-to;
 bh=WHp/zP+imMs4tuRjWUYDmQu8mkneazTRJwKLf6KFqpc=;
 b=MhYL39/g+dNSjnn9xeJqsP6Uf58WOhRuZJzJDvEG81Cc3gr2B3m730/qgf9XZ37mbn
 q1xAcziVnE9QgaSP5BiwGNnO1IeM/95QhtMkd2Ofz1EAbTi3osxwFInNxTBeaj5hvdhR
 RchS5NRLS06yF4zw+zsP/ZNPhqDozUnLc30pzcw4Pi5QVYkOasp2HnJYBDPIkSAMEdGj
 rcHNUdvAeYPBf0Pop3eQMQ5urP2ZXiG45QX0X1eCgOHQ/9w84LiLbf0dBnopWzdtsDx8
 3ba2nRmjii4G7wQbCy+WRZrP6SQv00iSqfSwCVkVabbHiiivcf0BdfBjMHkNcWyg3Hhj
 APUg==
X-Gm-Message-State: ANhLgQ0Gs7qE8VDbmBGzNGWKpAjtw55zdysK6r1dpk4b1D2ngWA8Xqj+
 5d7llPFfY5+ukU+G5AhLc3Yr/g==
X-Google-Smtp-Source: ADFU+vtt6dDp8EeJJgZ5m3bLkpPXMVxYuyAVbD5IUUcRp9oc6EOYHv+I26EIzQUUTrvpBGqaNld5KA==
X-Received: by 2002:adf:c648:: with SMTP id u8mr30604988wrg.185.1584969012838; 
 Mon, 23 Mar 2020 06:10:12 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:57f4:0:efd0:b9e5:5ae6:c2fa])
 by smtp.gmail.com with ESMTPSA id k84sm21934274wmk.2.2020.03.23.06.10.10
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 23 Mar 2020 06:10:11 -0700 (PDT)
Date: Mon, 23 Mar 2020 14:10:09 +0100
From: Daniel Vetter <daniel@ffwll.ch>
To: Christian =?iso-8859-1?Q?K=F6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <20200323131009.GJ2363188@phenom.ffwll.local>
References: <20200219125910.89147-1-christian.koenig@amd.com>
 <20200226100959.GR2363188@phenom.ffwll.local>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20200226100959.GR2363188@phenom.ffwll.local>
X-Operating-System: Linux phenom 5.3.0-3-amd64 
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: linaro-mm-sig@lists.linaro.org, intel-gfx@lists.freedesktop.org,
 daniel@ffwll.ch, dri-devel@lists.freedesktop.org, linux-media@vger.kernel.org
Subject: Re: [Linaro-mm-sig] [PATCH 1/7] dma-buf: add dynamic DMA-buf
	handling v15
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

T24gV2VkLCBGZWIgMjYsIDIwMjAgYXQgMTE6MDk6NTlBTSArMDEwMCwgRGFuaWVsIFZldHRlciB3
cm90ZToKPiBPbiBXZWQsIEZlYiAxOSwgMjAyMCBhdCAwMTo1OTowNFBNICswMTAwLCBDaHJpc3Rp
YW4gS8O2bmlnIHdyb3RlOgo+ID4gT24gdGhlIGV4cG9ydGVyIHNpZGUgd2UgYWRkIG9wdGlvbmFs
IGV4cGxpY2l0IHBpbm5pbmcgY2FsbGJhY2tzLiBXaGljaCBhcmUKPiA+IGNhbGxlZCB3aGVuIHRo
ZSBpbXBvcnRlciBkb2Vzbid0IGltcGxlbWVudCBkeW5hbWljIGhhbmRsaW5nLCBtb3ZlIG5vdGlm
aWNhdGlvbgo+ID4gb3IgbmVlZCB0aGUgRE1BLWJ1ZiBsb2NrZWQgaW4gcGxhY2UgZm9yIGl0cyB1
c2UgY2FzZS4KPiA+IAo+ID4gT24gdGhlIGltcG9ydGVyIHNpZGUgd2UgYWRkIGFuIG9wdGlvbmFs
IG1vdmVfbm90aWZ5IGNhbGxiYWNrLiBUaGlzIGNhbGxiYWNrIGlzCj4gPiB1c2VkIGJ5IHRoZSBl
eHBvcnRlciB0byBpbmZvcm0gdGhlIGltcG9ydGVycyB0aGF0IHRoZWlyIG1hcHBpbmdzIHNob3Vs
ZCBiZQo+ID4gZGVzdHJveWVkIGFzIHNvb24gYXMgcG9zc2libGUuCj4gPiAKPiA+IFRoaXMgYWxs
b3dzIHRoZSBleHBvcnRlciB0byBwcm92aWRlIHRoZSBtYXBwaW5ncyB3aXRob3V0IHRoZSBuZWVk
IHRvIHBpbgo+ID4gdGhlIGJhY2tpbmcgc3RvcmUuCj4gPiAKPiA+IHYyOiBkb24ndCB0cnkgdG8g
aW52YWxpZGF0ZSBtYXBwaW5ncyB3aGVuIHRoZSBjYWxsYmFjayBpcyBOVUxMLAo+ID4gICAgIGxv
Y2sgdGhlIHJlc2VydmF0aW9uIG9iaiB3aGlsZSB1c2luZyB0aGUgYXR0YWNobWVudHMsCj4gPiAg
ICAgYWRkIGhlbHBlciB0byBzZXQgdGhlIGNhbGxiYWNrCj4gPiB2MzogbW92ZSBmbGFnIGZvciBp
bnZhbGlkYXRpb24gc3VwcG9ydCBpbnRvIHRoZSBETUEtYnVmLAo+ID4gICAgIHVzZSBuZXcgYXR0
YWNoX2luZm8gc3RydWN0dXJlIHRvIHNldCB0aGUgY2FsbGJhY2sKPiA+IHY0OiB1c2UgaW1wb3J0
ZXJfcHJpdiBmaWVsZCBpbnN0ZWFkIG9mIG1hbmdsaW5nIGV4cG9ydGVyIHByaXYuCj4gPiB2NTog
ZHJvcCBpbnZhbGlkYXRpb25fc3VwcG9ydGVkIGZsYWcKPiA+IHY2OiBzcXVhc2ggdG9nZXRoZXIg
d2l0aCBwaW4vdW5waW4gY2hhbmdlcwo+ID4gdjc6IHBpbi91bnBpbiB0YWtlcyBhbiBhdHRhY2ht
ZW50IG5vdwo+ID4gdjg6IG51a2UgZG1hX2J1Zl9hdHRhY2htZW50XyhtYXB8dW5tYXApX2xvY2tl
ZCwKPiA+ICAgICBldmVyeXRoaW5nIGlzIG5vdyBoYW5kbGVkIGJhY2t3YXJkIGNvbXBhdGlibGUK
PiA+IHY5OiBhbHdheXMgY2FjaGUgd2hlbiBleHBvcnQvaW1wb3J0ZXIgZG9uJ3QgYWdyZWUgb24g
ZHluYW1pYyBoYW5kbGluZwo+ID4gdjEwOiBtaW5pbWFsIHN0eWxlIGNsZWFudXAKPiA+IHYxMTog
ZHJvcCBhdXRvbWF0aWNhbGx5IHJlLWVudHJ5IGF2b2lkYW5jZQo+ID4gdjEyOiByZW5hbWUgY2Fs
bGJhY2sgdG8gbW92ZV9ub3RpZnkKPiA+IHYxMzogYWRkIG1pZ2h0X2xvY2sgaW4gYXBwcm9wcmlh
dGUgcGxhY2VzCj4gPiB2MTQ6IHJlYmFzZSBvbiBzZXBhcmF0ZWQgbG9ja2luZyBjaGFuZ2UKPiA+
IHYxNTogYWRkIEVYUEVSSU1FTlRBTCBmbGFnLCBzb21lIG1vcmUgY29kZSBjb21tZW50cwo+ID4g
Cj4gPiBTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFt
ZC5jb20+Cj4gCj4gaW50ZWwtZ2Z4LWNpIHNlZW1zIG5vdyBoYXBweSB0b28gYWZ0ZXIgc29tZSBw
cm9kZGluZywgYW5kIEkgdGhpbmsgdGhpcyBpcwo+IGEgc29saWQgc3RlcCBpbiByb3VnaGx5IHRo
ZSByaWdodCBkaXJlY3Rpb24uIE1vcmUgaW1wb3J0YW50LCBhbmQgdGhpbmsgd2UKPiBub3cgaGF2
ZSBhIGZhaXJseSBnb29kIHNoYXJlZCB1bmRlcnN0YW5kaW5nIG9mIG1hbnkgb2YgdGhlIGFkZGl0
aW9uYWwgcGFpbgo+IHBvaW50cyB3ZSBzdGlsbCBuZWVkIHRvIHNvbHZlLiBBbmQgc29tZSBpZGVh
cyBmb3IgaG93IHRvIGRvIHRoYXQuIEkgdGhpbmsKPiB0aGF0IHdhcyB0aGUgcmVhbGx5IGltcG9y
dGFudCB0aGluZyB0byBhY2hpZXZlLCBhbmQgb3ZlciBzZWVtaW5nbHkgZW5kbGVzcwo+IGRpc2N1
c3Npb25zIHdlJ3ZlIGdvdCB0aGVyZS4KPiAKPiBPbiB0aGUgZG1hLWJ1ZiBwYXRjaGVzOgo+IAo+
IFJldmlld2VkLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgo+IAo+
IEZvciB0aGUgdHRtL2FtZGdwdSBzdHVmZjoKPiAKPiBBY2tlZC1ieTogRGFuaWVsIFZldHRlciA8
ZGFuaWVsLnZldHRlckBmZndsbC5jaD4KCi4vZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYzo2Nzg6
IHdhcm5pbmc6IEZ1bmN0aW9uIHBhcmFtZXRlciBvciBtZW1iZXIgJ2ltcG9ydGVyX29wcycgbm90
IGRlc2NyaWJlZCBpbiAnZG1hX2J1Zl9keW5hbWljX2F0dGFjaCcKLi9kcml2ZXJzL2RtYS1idWYv
ZG1hLWJ1Zi5jOjY3ODogd2FybmluZzogRnVuY3Rpb24gcGFyYW1ldGVyIG9yIG1lbWJlciAnaW1w
b3J0ZXJfcHJpdicgbm90IGRlc2NyaWJlZCBpbiAnZG1hX2J1Zl9keW5hbWljX2F0dGFjaCcKLi9p
bmNsdWRlL2xpbnV4L2RtYS1idWYuaDozMzk6IHdhcm5pbmc6IEluY29ycmVjdCB1c2Ugb2Yga2Vy
bmVsLWRvYyBmb3JtYXQ6ICAgICAgICAgICogQG1vdmVfbm90aWZ5CgpDYW4geW91IHBscyBmaXg/
CgpUaGFua3MsIERhbmllbAoKPiAKPiBDaGVlcnMsIERhbmllbAo+IAo+ID4gLS0tCj4gPiAgZHJp
dmVycy9kbWEtYnVmL0tjb25maWcgICAgICAgICAgICAgICAgICAgICB8ICAxMCArKwo+ID4gIGRy
aXZlcnMvZG1hLWJ1Zi9kbWEtYnVmLmMgICAgICAgICAgICAgICAgICAgfCAxMTAgKysrKysrKysr
KysrKysrKysrLS0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZG1hX2J1
Zi5jIHwgICA2ICstCj4gPiAgaW5jbHVkZS9saW51eC9kbWEtYnVmLmggICAgICAgICAgICAgICAg
ICAgICB8ICA4MiArKysrKysrKysrKysrLS0KPiA+ICA0IGZpbGVzIGNoYW5nZWQsIDE4OCBpbnNl
cnRpb25zKCspLCAyMCBkZWxldGlvbnMoLSkKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
ZG1hLWJ1Zi9LY29uZmlnIGIvZHJpdmVycy9kbWEtYnVmL0tjb25maWcKPiA+IGluZGV4IGU3ZDgy
MGNlMDcyNC4uZWY3M2I2Nzg0MTljIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9kbWEtYnVmL0tj
b25maWcKPiA+ICsrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9LY29uZmlnCj4gPiBAQCAtMzksNiArMzks
MTYgQEAgY29uZmlnIFVETUFCVUYKPiA+ICAJICBBIGRyaXZlciB0byBsZXQgdXNlcnNwYWNlIHR1
cm4gbWVtZmQgcmVnaW9ucyBpbnRvIGRtYS1idWZzLgo+ID4gIAkgIFFlbXUgY2FuIHVzZSB0aGlz
IHRvIGNyZWF0ZSBob3N0IGRtYWJ1ZnMgZm9yIGd1ZXN0IGZyYW1lYnVmZmVycy4KPiA+ICAKPiA+
ICtjb25maWcgRE1BQlVGX01PVkVfTk9USUZZCj4gPiArCWJvb2wgIk1vdmUgbm90aWZ5IGJldHdl
ZW4gZHJpdmVycyAoRVhQRVJJTUVOVEFMKSIKPiA+ICsJZGVmYXVsdCBuCj4gPiArCWhlbHAKPiA+
ICsJICBEb24nJ3QgcGluIGJ1ZmZlcnMgaWYgdGhlIGR5bmFtaWMgRE1BLWJ1ZiBpbnRlcmZhY2Ug
aXMgYXZhaWxhYmxlIG9uIGJvdGggdGhlCj4gPiArCSAgZXhwb3J0ZXIgYXMgd2VsbCBhcyB0aGUg
aW1wb3J0ZXIuIFRoaXMgZml4ZXMgYSBzZWN1cml0eSBwcm9ibGVtIHdoZXJlCj4gPiArCSAgdXNl
cnNwYWNlIGlzIGFibGUgdG8gcGluIHVucmVzdHJpY3RlZCBhbW91bnRzIG9mIG1lbW9yeSB0aHJv
dWdoIERNQS1idWYuCj4gPiArCSAgQnV0IG1hcmtlZCBleHBlcmltZW50YWwgYmVjYXVzZSB3ZSBk
b24nJ3QgamV0IGhhdmUgYSBjb25zaXN0ZW50IGV4ZWN1dGlvbgo+ID4gKwkgIGNvbnRleHQgYW5k
IG1lbW9yeSBtYW5hZ2VtZW50IGJldHdlZW4gZHJpdmVycy4KPiA+ICsKPiA+ICBjb25maWcgRE1B
QlVGX1NFTEZURVNUUwo+ID4gIAl0cmlzdGF0ZSAiU2VsZnRlc3RzIGZvciB0aGUgZG1hLWJ1ZiBp
bnRlcmZhY2VzIgo+ID4gIAlkZWZhdWx0IG4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2RtYS1i
dWYvZG1hLWJ1Zi5jIGIvZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYwo+ID4gaW5kZXggZDQwOTc4
NTZjODZiLi41ZjEwZDE5Mjk0NzYgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2RtYS1idWYvZG1h
LWJ1Zi5jCj4gPiArKysgYi9kcml2ZXJzL2RtYS1idWYvZG1hLWJ1Zi5jCj4gPiBAQCAtNTI3LDYg
KzUyNywxMCBAQCBzdHJ1Y3QgZG1hX2J1ZiAqZG1hX2J1Zl9leHBvcnQoY29uc3Qgc3RydWN0IGRt
YV9idWZfZXhwb3J0X2luZm8gKmV4cF9pbmZvKQo+ID4gIAkJICAgIGV4cF9pbmZvLT5vcHMtPmR5
bmFtaWNfbWFwcGluZykpCj4gPiAgCQlyZXR1cm4gRVJSX1BUUigtRUlOVkFMKTsKPiA+ICAKPiA+
ICsJaWYgKFdBUk5fT04oIWV4cF9pbmZvLT5vcHMtPmR5bmFtaWNfbWFwcGluZyAmJgo+ID4gKwkJ
ICAgIChleHBfaW5mby0+b3BzLT5waW4gfHwgZXhwX2luZm8tPm9wcy0+dW5waW4pKSkKPiA+ICsJ
CXJldHVybiBFUlJfUFRSKC1FSU5WQUwpOwo+ID4gKwo+ID4gIAlpZiAoIXRyeV9tb2R1bGVfZ2V0
KGV4cF9pbmZvLT5vd25lcikpCj4gPiAgCQlyZXR1cm4gRVJSX1BUUigtRU5PRU5UKTsKPiA+ICAK
PiA+IEBAIC02NTEsNyArNjU1LDggQEAgRVhQT1JUX1NZTUJPTF9HUEwoZG1hX2J1Zl9wdXQpOwo+
ID4gICAqIGNhbGxzIGF0dGFjaCgpIG9mIGRtYV9idWZfb3BzIHRvIGFsbG93IGRldmljZS1zcGVj
aWZpYyBhdHRhY2ggZnVuY3Rpb25hbGl0eQo+ID4gICAqIEBkbWFidWY6CQlbaW5dCWJ1ZmZlciB0
byBhdHRhY2ggZGV2aWNlIHRvLgo+ID4gICAqIEBkZXY6CQlbaW5dCWRldmljZSB0byBiZSBhdHRh
Y2hlZC4KPiA+IC0gKiBAZHluYW1pY19tYXBwaW5nOglbaW5dCWNhbGxpbmcgY29udmVudGlvbiBm
b3IgbWFwL3VubWFwCj4gPiArICogQGltcG9ydGVyX29wcwlbaW5dCWltcG9ydGVyIG9wZXJhdGlv
bnMgZm9yIHRoZSBhdHRhY2htZW50Cj4gPiArICogQGltcG9ydGVyX3ByaXYJW2luXQlpbXBvcnRl
ciBwcml2YXRlIHBvaW50ZXIgZm9yIHRoZSBhdHRhY2htZW50Cj4gPiAgICoKPiA+ICAgKiBSZXR1
cm5zIHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgcG9pbnRlciBmb3IgdGhpcyBhdHRhY2htZW50
LiBBdHRhY2htZW50cwo+ID4gICAqIG11c3QgYmUgY2xlYW5lZCB1cCBieSBjYWxsaW5nIGRtYV9i
dWZfZGV0YWNoKCkuCj4gPiBAQCAtNjY3LDExICs2NzIsMTMgQEAgRVhQT1JUX1NZTUJPTF9HUEwo
ZG1hX2J1Zl9wdXQpOwo+ID4gICAqLwo+ID4gIHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKgo+
ID4gIGRtYV9idWZfZHluYW1pY19hdHRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwgc3RydWN0
IGRldmljZSAqZGV2LAo+ID4gLQkJICAgICAgIGJvb2wgZHluYW1pY19tYXBwaW5nKQo+ID4gKwkJ
ICAgICAgIGNvbnN0IHN0cnVjdCBkbWFfYnVmX2F0dGFjaF9vcHMgKmltcG9ydGVyX29wcywKPiA+
ICsJCSAgICAgICB2b2lkICppbXBvcnRlcl9wcml2KQo+ID4gIHsKPiA+ICAJc3RydWN0IGRtYV9i
dWZfYXR0YWNobWVudCAqYXR0YWNoOwo+ID4gIAlpbnQgcmV0Owo+ID4gIAo+ID4gKwkvKiBUT0RP
OiBtYWtlIG1vdmVfbm90aWZ5IG1hbmRhdG9yeSBpZiBpbXBvcnRlcl9vcHMgYXJlIHByb3ZpZGVk
LiAqLwo+ID4gIAlpZiAoV0FSTl9PTighZG1hYnVmIHx8ICFkZXYpKQo+ID4gIAkJcmV0dXJuIEVS
Ul9QVFIoLUVJTlZBTCk7Cj4gPiAgCj4gPiBAQCAtNjgxLDcgKzY4OCw4IEBAIGRtYV9idWZfZHlu
YW1pY19hdHRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwgc3RydWN0IGRldmljZSAqZGV2LAo+
ID4gIAo+ID4gIAlhdHRhY2gtPmRldiA9IGRldjsKPiA+ICAJYXR0YWNoLT5kbWFidWYgPSBkbWFi
dWY7Cj4gPiAtCWF0dGFjaC0+ZHluYW1pY19tYXBwaW5nID0gZHluYW1pY19tYXBwaW5nOwo+ID4g
KwlhdHRhY2gtPmltcG9ydGVyX29wcyA9IGltcG9ydGVyX29wczsKPiA+ICsJYXR0YWNoLT5pbXBv
cnRlcl9wcml2ID0gaW1wb3J0ZXJfcHJpdjsKPiA+ICAKPiA+ICAJaWYgKGRtYWJ1Zi0+b3BzLT5h
dHRhY2gpIHsKPiA+ICAJCXJldCA9IGRtYWJ1Zi0+b3BzLT5hdHRhY2goZG1hYnVmLCBhdHRhY2gp
Owo+ID4gQEAgLTcwMCwxNSArNzA4LDE5IEBAIGRtYV9idWZfZHluYW1pY19hdHRhY2goc3RydWN0
IGRtYV9idWYgKmRtYWJ1Ziwgc3RydWN0IGRldmljZSAqZGV2LAo+ID4gIAkgICAgZG1hX2J1Zl9p
c19keW5hbWljKGRtYWJ1ZikpIHsKPiA+ICAJCXN0cnVjdCBzZ190YWJsZSAqc2d0Owo+ID4gIAo+
ID4gLQkJaWYgKGRtYV9idWZfaXNfZHluYW1pYyhhdHRhY2gtPmRtYWJ1ZikpCj4gPiArCQlpZiAo
ZG1hX2J1Zl9pc19keW5hbWljKGF0dGFjaC0+ZG1hYnVmKSkgewo+ID4gIAkJCWRtYV9yZXN2X2xv
Y2soYXR0YWNoLT5kbWFidWYtPnJlc3YsIE5VTEwpOwo+ID4gKwkJCXJldCA9IGRtYV9idWZfcGlu
KGF0dGFjaCk7Cj4gPiArCQkJaWYgKHJldCkKPiA+ICsJCQkJZ290byBlcnJfdW5sb2NrOwo+ID4g
KwkJfQo+ID4gIAo+ID4gIAkJc2d0ID0gZG1hYnVmLT5vcHMtPm1hcF9kbWFfYnVmKGF0dGFjaCwg
RE1BX0JJRElSRUNUSU9OQUwpOwo+ID4gIAkJaWYgKCFzZ3QpCj4gPiAgCQkJc2d0ID0gRVJSX1BU
UigtRU5PTUVNKTsKPiA+ICAJCWlmIChJU19FUlIoc2d0KSkgewo+ID4gIAkJCXJldCA9IFBUUl9F
UlIoc2d0KTsKPiA+IC0JCQlnb3RvIGVycl91bmxvY2s7Cj4gPiArCQkJZ290byBlcnJfdW5waW47
Cj4gPiAgCQl9Cj4gPiAgCQlpZiAoZG1hX2J1Zl9pc19keW5hbWljKGF0dGFjaC0+ZG1hYnVmKSkK
PiA+ICAJCQlkbWFfcmVzdl91bmxvY2soYXR0YWNoLT5kbWFidWYtPnJlc3YpOwo+ID4gQEAgLTcy
Miw2ICs3MzQsMTAgQEAgZG1hX2J1Zl9keW5hbWljX2F0dGFjaChzdHJ1Y3QgZG1hX2J1ZiAqZG1h
YnVmLCBzdHJ1Y3QgZGV2aWNlICpkZXYsCj4gPiAgCWtmcmVlKGF0dGFjaCk7Cj4gPiAgCXJldHVy
biBFUlJfUFRSKHJldCk7Cj4gPiAgCj4gPiArZXJyX3VucGluOgo+ID4gKwlpZiAoZG1hX2J1Zl9p
c19keW5hbWljKGF0dGFjaC0+ZG1hYnVmKSkKPiA+ICsJCWRtYV9idWZfdW5waW4oYXR0YWNoKTsK
PiA+ICsKPiA+ICBlcnJfdW5sb2NrOgo+ID4gIAlpZiAoZG1hX2J1Zl9pc19keW5hbWljKGF0dGFj
aC0+ZG1hYnVmKSkKPiA+ICAJCWRtYV9yZXN2X3VubG9jayhhdHRhY2gtPmRtYWJ1Zi0+cmVzdik7
Cj4gPiBAQCAtNzQyLDcgKzc1OCw3IEBAIEVYUE9SVF9TWU1CT0xfR1BMKGRtYV9idWZfZHluYW1p
Y19hdHRhY2gpOwo+ID4gIHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmRtYV9idWZfYXR0YWNo
KHN0cnVjdCBkbWFfYnVmICpkbWFidWYsCj4gPiAgCQkJCQkgIHN0cnVjdCBkZXZpY2UgKmRldikK
PiA+ICB7Cj4gPiAtCXJldHVybiBkbWFfYnVmX2R5bmFtaWNfYXR0YWNoKGRtYWJ1ZiwgZGV2LCBm
YWxzZSk7Cj4gPiArCXJldHVybiBkbWFfYnVmX2R5bmFtaWNfYXR0YWNoKGRtYWJ1ZiwgZGV2LCBO
VUxMLCBOVUxMKTsKPiA+ICB9Cj4gPiAgRVhQT1JUX1NZTUJPTF9HUEwoZG1hX2J1Zl9hdHRhY2gp
Owo+ID4gIAo+ID4gQEAgLTc2NSw4ICs3ODEsMTAgQEAgdm9pZCBkbWFfYnVmX2RldGFjaChzdHJ1
Y3QgZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gpCj4g
PiAgCj4gPiAgCQlkbWFidWYtPm9wcy0+dW5tYXBfZG1hX2J1ZihhdHRhY2gsIGF0dGFjaC0+c2d0
LCBhdHRhY2gtPmRpcik7Cj4gPiAgCj4gPiAtCQlpZiAoZG1hX2J1Zl9pc19keW5hbWljKGF0dGFj
aC0+ZG1hYnVmKSkKPiA+ICsJCWlmIChkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNoLT5kbWFidWYp
KSB7Cj4gPiArCQkJZG1hX2J1Zl91bnBpbihhdHRhY2gpOwo+ID4gIAkJCWRtYV9yZXN2X3VubG9j
ayhhdHRhY2gtPmRtYWJ1Zi0+cmVzdik7Cj4gPiArCQl9Cj4gPiAgCX0KPiA+ICAKPiA+ICAJZG1h
X3Jlc3ZfbG9jayhkbWFidWYtPnJlc3YsIE5VTEwpOwo+ID4gQEAgLTc3OSw2ICs3OTcsNDQgQEAg
dm9pZCBkbWFfYnVmX2RldGFjaChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLCBzdHJ1Y3QgZG1hX2J1
Zl9hdHRhY2htZW50ICphdHRhY2gpCj4gPiAgfQo+ID4gIEVYUE9SVF9TWU1CT0xfR1BMKGRtYV9i
dWZfZGV0YWNoKTsKPiA+ICAKPiA+ICsvKioKPiA+ICsgKiBkbWFfYnVmX3BpbiAtIExvY2sgZG93
biB0aGUgRE1BLWJ1Zgo+ID4gKyAqCj4gPiArICogQGF0dGFjaDoJW2luXQlhdHRhY2htZW50IHdo
aWNoIHNob3VsZCBiZSBwaW5uZWQKPiA+ICsgKgo+ID4gKyAqIFJldHVybnM6Cj4gPiArICogMCBv
biBzdWNjZXNzLCBuZWdhdGl2ZSBlcnJvciBjb2RlIG9uIGZhaWx1cmUuCj4gPiArICovCj4gPiAr
aW50IGRtYV9idWZfcGluKHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCkKPiA+ICt7
Cj4gPiArCXN0cnVjdCBkbWFfYnVmICpkbWFidWYgPSBhdHRhY2gtPmRtYWJ1ZjsKPiA+ICsJaW50
IHJldCA9IDA7Cj4gPiArCj4gPiArCWRtYV9yZXN2X2Fzc2VydF9oZWxkKGRtYWJ1Zi0+cmVzdik7
Cj4gPiArCj4gPiArCWlmIChkbWFidWYtPm9wcy0+cGluKQo+ID4gKwkJcmV0ID0gZG1hYnVmLT5v
cHMtPnBpbihhdHRhY2gpOwo+ID4gKwo+ID4gKwlyZXR1cm4gcmV0Owo+ID4gK30KPiA+ICtFWFBP
UlRfU1lNQk9MX0dQTChkbWFfYnVmX3Bpbik7Cj4gPiArCj4gPiArLyoqCj4gPiArICogZG1hX2J1
Zl91bnBpbiAtIFJlbW92ZSBsb2NrIGZyb20gRE1BLWJ1Zgo+ID4gKyAqCj4gPiArICogQGF0dGFj
aDoJW2luXQlhdHRhY2htZW50IHdoaWNoIHNob3VsZCBiZSB1bnBpbm5lZAo+ID4gKyAqLwo+ID4g
K3ZvaWQgZG1hX2J1Zl91bnBpbihzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gpCj4g
PiArewo+ID4gKwlzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmID0gYXR0YWNoLT5kbWFidWY7Cj4gPiAr
Cj4gPiArCWRtYV9yZXN2X2Fzc2VydF9oZWxkKGRtYWJ1Zi0+cmVzdik7Cj4gPiArCj4gPiArCWlm
IChkbWFidWYtPm9wcy0+dW5waW4pCj4gPiArCQlkbWFidWYtPm9wcy0+dW5waW4oYXR0YWNoKTsK
PiA+ICt9Cj4gPiArRVhQT1JUX1NZTUJPTF9HUEwoZG1hX2J1Zl91bnBpbik7Cj4gPiArCj4gPiAg
LyoqCj4gPiAgICogZG1hX2J1Zl9tYXBfYXR0YWNobWVudCAtIFJldHVybnMgdGhlIHNjYXR0ZXJs
aXN0IHRhYmxlIG9mIHRoZSBhdHRhY2htZW50Owo+ID4gICAqIG1hcHBlZCBpbnRvIF9kZXZpY2Vf
IGFkZHJlc3Mgc3BhY2UuIElzIGEgd3JhcHBlciBmb3IgbWFwX2RtYV9idWYoKSBvZiB0aGUKPiA+
IEBAIC03OTgsNiArODU0LDcgQEAgc3RydWN0IHNnX3RhYmxlICpkbWFfYnVmX21hcF9hdHRhY2ht
ZW50KHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCwKPiA+ICAJCQkJCWVudW0gZG1h
X2RhdGFfZGlyZWN0aW9uIGRpcmVjdGlvbikKPiA+ICB7Cj4gPiAgCXN0cnVjdCBzZ190YWJsZSAq
c2dfdGFibGU7Cj4gPiArCWludCByOwo+ID4gIAo+ID4gIAltaWdodF9zbGVlcCgpOwo+ID4gIAo+
ID4gQEAgLTgxOSwxMyArODc2LDI1IEBAIHN0cnVjdCBzZ190YWJsZSAqZG1hX2J1Zl9tYXBfYXR0
YWNobWVudChzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gsCj4gPiAgCQlyZXR1cm4g
YXR0YWNoLT5zZ3Q7Cj4gPiAgCX0KPiA+ICAKPiA+IC0JaWYgKGRtYV9idWZfaXNfZHluYW1pYyhh
dHRhY2gtPmRtYWJ1ZikpCj4gPiArCWlmIChkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNoLT5kbWFi
dWYpKSB7Cj4gPiAgCQlkbWFfcmVzdl9hc3NlcnRfaGVsZChhdHRhY2gtPmRtYWJ1Zi0+cmVzdik7
Cj4gPiArCQlpZiAoIWF0dGFjaC0+aW1wb3J0ZXJfb3BzLT5tb3ZlX25vdGlmeSB8fAo+ID4gKwkJ
ICAgICFJU19FTkFCTEVEKENPTkZJR19ETUFCVUZfTU9WRV9OT1RJRlkpKSB7Cj4gPiArCQkJciA9
IGRtYV9idWZfcGluKGF0dGFjaCk7Cj4gPiArCQkJaWYgKHIpCj4gPiArCQkJCXJldHVybiBFUlJf
UFRSKHIpOwo+ID4gKwkJfQo+ID4gKwl9Cj4gPiAgCj4gPiAgCXNnX3RhYmxlID0gYXR0YWNoLT5k
bWFidWYtPm9wcy0+bWFwX2RtYV9idWYoYXR0YWNoLCBkaXJlY3Rpb24pOwo+ID4gIAlpZiAoIXNn
X3RhYmxlKQo+ID4gIAkJc2dfdGFibGUgPSBFUlJfUFRSKC1FTk9NRU0pOwo+ID4gIAo+ID4gKwlp
ZiAoSVNfRVJSKHNnX3RhYmxlKSAmJiBkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNoLT5kbWFidWYp
ICYmCj4gPiArCSAgICAoIWF0dGFjaC0+aW1wb3J0ZXJfb3BzLT5tb3ZlX25vdGlmeSB8fAo+ID4g
KwkgICAgICFJU19FTkFCTEVEKENPTkZJR19ETUFCVUZfTU9WRV9OT1RJRlkpKSkKPiA+ICsJCWRt
YV9idWZfdW5waW4oYXR0YWNoKTsKPiA+ICsKPiA+ICAJaWYgKCFJU19FUlIoc2dfdGFibGUpICYm
IGF0dGFjaC0+ZG1hYnVmLT5vcHMtPmNhY2hlX3NndF9tYXBwaW5nKSB7Cj4gPiAgCQlhdHRhY2gt
PnNndCA9IHNnX3RhYmxlOwo+ID4gIAkJYXR0YWNoLT5kaXIgPSBkaXJlY3Rpb247Cj4gPiBAQCAt
ODY0LDkgKzkzMywzNCBAQCB2b2lkIGRtYV9idWZfdW5tYXBfYXR0YWNobWVudChzdHJ1Y3QgZG1h
X2J1Zl9hdHRhY2htZW50ICphdHRhY2gsCj4gPiAgCQlkbWFfcmVzdl9hc3NlcnRfaGVsZChhdHRh
Y2gtPmRtYWJ1Zi0+cmVzdik7Cj4gPiAgCj4gPiAgCWF0dGFjaC0+ZG1hYnVmLT5vcHMtPnVubWFw
X2RtYV9idWYoYXR0YWNoLCBzZ190YWJsZSwgZGlyZWN0aW9uKTsKPiA+ICsKPiA+ICsJaWYgKGRt
YV9idWZfaXNfZHluYW1pYyhhdHRhY2gtPmRtYWJ1ZikgJiYKPiA+ICsJICAgICghYXR0YWNoLT5p
bXBvcnRlcl9vcHMtPm1vdmVfbm90aWZ5IHx8Cj4gPiArCSAgICAgIUlTX0VOQUJMRUQoQ09ORklH
X0RNQUJVRl9NT1ZFX05PVElGWSkpKQo+ID4gKwkJZG1hX2J1Zl91bnBpbihhdHRhY2gpOwo+ID4g
IH0KPiA+ICBFWFBPUlRfU1lNQk9MX0dQTChkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnQpOwo+ID4g
IAo+ID4gKy8qKgo+ID4gKyAqIGRtYV9idWZfbW92ZV9ub3RpZnkgLSBub3RpZnkgYXR0YWNobWVu
dHMgdGhhdCBETUEtYnVmIGlzIG1vdmluZwo+ID4gKyAqCj4gPiArICogQGRtYWJ1ZjoJW2luXQli
dWZmZXIgd2hpY2ggaXMgbW92aW5nCj4gPiArICoKPiA+ICsgKiBJbmZvcm1zIGFsbCBhdHRhY2ht
ZW5zdCB0aGF0IHRoZXkgbmVlZCB0byBkZXN0cm95IGFuZCByZWNyZWF0ZWQgYWxsIHRoZWlyCj4g
PiArICogbWFwcGluZ3MuCj4gPiArICovCj4gPiArdm9pZCBkbWFfYnVmX21vdmVfbm90aWZ5KHN0
cnVjdCBkbWFfYnVmICpkbWFidWYpCj4gPiArewo+ID4gKwlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2ht
ZW50ICphdHRhY2g7Cj4gPiArCj4gPiArCWRtYV9yZXN2X2Fzc2VydF9oZWxkKGRtYWJ1Zi0+cmVz
dik7Cj4gPiArCj4gPiArCWxpc3RfZm9yX2VhY2hfZW50cnkoYXR0YWNoLCAmZG1hYnVmLT5hdHRh
Y2htZW50cywgbm9kZSkKPiA+ICsJCWlmIChhdHRhY2gtPmltcG9ydGVyX29wcyAmJiBhdHRhY2gt
PmltcG9ydGVyX29wcy0+bW92ZV9ub3RpZnkpCj4gPiArCQkJYXR0YWNoLT5pbXBvcnRlcl9vcHMt
Pm1vdmVfbm90aWZ5KGF0dGFjaCk7Cj4gPiArfQo+ID4gK0VYUE9SVF9TWU1CT0xfR1BMKGRtYV9i
dWZfbW92ZV9ub3RpZnkpOwo+ID4gKwo+ID4gIC8qKgo+ID4gICAqIERPQzogY3B1IGFjY2Vzcwo+
ID4gICAqCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2RtYV9idWYuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kbWFfYnVmLmMK
PiA+IGluZGV4IGE1OWNkNDdhYTZjMS4uN2NhZmM2NWZkNzZhIDEwMDY0NAo+ID4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RtYV9idWYuYwo+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RtYV9idWYuYwo+ID4gQEAgLTQxMiw2ICs0MTIs
OSBAQCBhbWRncHVfZG1hX2J1Zl9jcmVhdGVfb2JqKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0
cnVjdCBkbWFfYnVmICpkbWFfYnVmKQo+ID4gIAlyZXR1cm4gRVJSX1BUUihyZXQpOwo+ID4gIH0K
PiA+ICAKPiA+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGRtYV9idWZfYXR0YWNoX29wcyBhbWRncHVf
ZG1hX2J1Zl9hdHRhY2hfb3BzID0gewo+ID4gK307Cj4gPiArCj4gPiAgLyoqCj4gPiAgICogYW1k
Z3B1X2dlbV9wcmltZV9pbXBvcnQgLSAmZHJtX2RyaXZlci5nZW1fcHJpbWVfaW1wb3J0IGltcGxl
bWVudGF0aW9uCj4gPiAgICogQGRldjogRFJNIGRldmljZQo+ID4gQEAgLTQ0NCw3ICs0NDcsOCBA
QCBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmFtZGdwdV9nZW1fcHJpbWVfaW1wb3J0KHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYsCj4gPiAgCWlmIChJU19FUlIob2JqKSkKPiA+ICAJCXJldHVybiBvYmo7
Cj4gPiAgCj4gPiAtCWF0dGFjaCA9IGRtYV9idWZfZHluYW1pY19hdHRhY2goZG1hX2J1ZiwgZGV2
LT5kZXYsIHRydWUpOwo+ID4gKwlhdHRhY2ggPSBkbWFfYnVmX2R5bmFtaWNfYXR0YWNoKGRtYV9i
dWYsIGRldi0+ZGV2LAo+ID4gKwkJCQkJJmFtZGdwdV9kbWFfYnVmX2F0dGFjaF9vcHMsIE5VTEwp
Owo+ID4gIAlpZiAoSVNfRVJSKGF0dGFjaCkpIHsKPiA+ICAJCWRybV9nZW1fb2JqZWN0X3B1dChv
YmopOwo+ID4gIAkJcmV0dXJuIEVSUl9DQVNUKGF0dGFjaCk7Cj4gPiBkaWZmIC0tZ2l0IGEvaW5j
bHVkZS9saW51eC9kbWEtYnVmLmggYi9pbmNsdWRlL2xpbnV4L2RtYS1idWYuaAo+ID4gaW5kZXgg
YWJmNTQ1OWE1YjlkLi5iMzhjZWEyNDBiNjcgMTAwNjQ0Cj4gPiAtLS0gYS9pbmNsdWRlL2xpbnV4
L2RtYS1idWYuaAo+ID4gKysrIGIvaW5jbHVkZS9saW51eC9kbWEtYnVmLmgKPiA+IEBAIC05Mywx
NCArOTMsNDEgQEAgc3RydWN0IGRtYV9idWZfb3BzIHsKPiA+ICAJICovCj4gPiAgCXZvaWQgKCpk
ZXRhY2gpKHN0cnVjdCBkbWFfYnVmICosIHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKik7Cj4g
PiAgCj4gPiArCS8qKgo+ID4gKwkgKiBAcGluOgo+ID4gKwkgKgo+ID4gKwkgKiBUaGlzIGlzIGNh
bGxlZCBieSBkbWFfYnVmX3BpbiBhbmQgbGV0cyB0aGUgZXhwb3J0ZXIga25vdyB0aGF0IHRoZQo+
ID4gKwkgKiBETUEtYnVmIGNhbid0IGJlIG1vdmVkIGFueSBtb3JlLgo+ID4gKwkgKgo+ID4gKwkg
KiBUaGlzIGlzIGNhbGxlZCB3aXRoIHRoZSBkbWFidWYtPnJlc3Ygb2JqZWN0IGxvY2tlZC4KPiA+
ICsJICoKPiA+ICsJICogVGhpcyBjYWxsYmFjayBpcyBvcHRpb25hbCBhbmQgc2hvdWxkIG9ubHkg
YmUgdXNlZCBpbiBsaW1pdGVkIHVzZQo+ID4gKwkgKiBjYXNlcyBsaWtlIHNjYW5vdXQgYW5kIG5v
dCBmb3IgdGVtcG9yYXJ5IHBpbiBvcGVyYXRpb25zLgo+ID4gKwkgKgo+ID4gKwkgKiBSZXR1cm5z
Ogo+ID4gKwkgKgo+ID4gKwkgKiAwIG9uIHN1Y2Nlc3MsIG5lZ2F0aXZlIGVycm9yIGNvZGUgb24g
ZmFpbHVyZS4KPiA+ICsJICovCj4gPiArCWludCAoKnBpbikoc3RydWN0IGRtYV9idWZfYXR0YWNo
bWVudCAqYXR0YWNoKTsKPiA+ICsKPiA+ICsJLyoqCj4gPiArCSAqIEB1bnBpbjoKPiA+ICsJICoK
PiA+ICsJICogVGhpcyBpcyBjYWxsZWQgYnkgZG1hX2J1Zl91bnBpbiBhbmQgbGV0cyB0aGUgZXhw
b3J0ZXIga25vdyB0aGF0IHRoZQo+ID4gKwkgKiBETUEtYnVmIGNhbiBiZSBtb3ZlZCBhZ2Fpbi4K
PiA+ICsJICoKPiA+ICsJICogVGhpcyBpcyBjYWxsZWQgd2l0aCB0aGUgZG1hYnVmLT5yZXN2IG9i
amVjdCBsb2NrZWQuCj4gPiArCSAqCj4gPiArCSAqIFRoaXMgY2FsbGJhY2sgaXMgb3B0aW9uYWwu
Cj4gPiArCSAqLwo+ID4gKwl2b2lkICgqdW5waW4pKHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQg
KmF0dGFjaCk7Cj4gPiArCj4gPiAgCS8qKgo+ID4gIAkgKiBAbWFwX2RtYV9idWY6Cj4gPiAgCSAq
Cj4gPiAgCSAqIFRoaXMgaXMgY2FsbGVkIGJ5IGRtYV9idWZfbWFwX2F0dGFjaG1lbnQoKSBhbmQg
aXMgdXNlZCB0byBtYXAgYQo+ID4gIAkgKiBzaGFyZWQgJmRtYV9idWYgaW50byBkZXZpY2UgYWRk
cmVzcyBzcGFjZSwgYW5kIGl0IGlzIG1hbmRhdG9yeS4gSXQKPiA+IC0JICogY2FuIG9ubHkgYmUg
Y2FsbGVkIGlmIEBhdHRhY2ggaGFzIGJlZW4gY2FsbGVkIHN1Y2Nlc3NmdWxseS4gVGhpcwo+ID4g
LQkgKiBlc3NlbnRpYWxseSBwaW5zIHRoZSBETUEgYnVmZmVyIGludG8gcGxhY2UsIGFuZCBpdCBj
YW5ub3QgYmUgbW92ZWQKPiA+IC0JICogYW55IG1vcmUKPiA+ICsJICogY2FuIG9ubHkgYmUgY2Fs
bGVkIGlmIEBhdHRhY2ggaGFzIGJlZW4gY2FsbGVkIHN1Y2Nlc3NmdWxseS4KPiA+ICAJICoKPiA+
ICAJICogVGhpcyBjYWxsIG1heSBzbGVlcCwgZS5nLiB3aGVuIHRoZSBiYWNraW5nIHN0b3JhZ2Ug
Zmlyc3QgbmVlZHMgdG8gYmUKPiA+ICAJICogYWxsb2NhdGVkLCBvciBtb3ZlZCB0byBhIGxvY2F0
aW9uIHN1aXRhYmxlIGZvciBhbGwgY3VycmVudGx5IGF0dGFjaGVkCj4gPiBAQCAtMTQxLDkgKzE2
OCw4IEBAIHN0cnVjdCBkbWFfYnVmX29wcyB7Cj4gPiAgCSAqCj4gPiAgCSAqIFRoaXMgaXMgY2Fs
bGVkIGJ5IGRtYV9idWZfdW5tYXBfYXR0YWNobWVudCgpIGFuZCBzaG91bGQgdW5tYXAgYW5kCj4g
PiAgCSAqIHJlbGVhc2UgdGhlICZzZ190YWJsZSBhbGxvY2F0ZWQgaW4gQG1hcF9kbWFfYnVmLCBh
bmQgaXQgaXMgbWFuZGF0b3J5Lgo+ID4gLQkgKiBJdCBzaG91bGQgYWxzbyB1bnBpbiB0aGUgYmFj
a2luZyBzdG9yYWdlIGlmIHRoaXMgaXMgdGhlIGxhc3QgbWFwcGluZwo+ID4gLQkgKiBvZiB0aGUg
RE1BIGJ1ZmZlciwgaXQgdGhlIGV4cG9ydGVyIHN1cHBvcnRzIGJhY2tpbmcgc3RvcmFnZQo+ID4g
LQkgKiBtaWdyYXRpb24uCj4gPiArCSAqIEZvciBzdGF0aWMgZG1hX2J1ZiBoYW5kbGluZyB0aGlz
IG1pZ2h0IGFsc28gdW5waW5zIHRoZSBiYWNraW5nCj4gPiArCSAqIHN0b3JhZ2UgaWYgdGhpcyBp
cyB0aGUgbGFzdCBtYXBwaW5nIG9mIHRoZSBETUEgYnVmZmVyLgo+ID4gIAkgKi8KPiA+ICAJdm9p
ZCAoKnVubWFwX2RtYV9idWYpKHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKiwKPiA+ICAJCQkg
ICAgICBzdHJ1Y3Qgc2dfdGFibGUgKiwKPiA+IEBAIC0zMTEsNiArMzM3LDM0IEBAIHN0cnVjdCBk
bWFfYnVmIHsKPiA+ICAJfSBjYl9leGNsLCBjYl9zaGFyZWQ7Cj4gPiAgfTsKPiA+ICAKPiA+ICsv
KioKPiA+ICsgKiBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2hfb3BzIC0gaW1wb3J0ZXIgb3BlcmF0aW9u
cyBmb3IgYW4gYXR0YWNobWVudAo+ID4gKyAqIEBtb3ZlX25vdGlmeTogW29wdGlvbmFsXSBub3Rp
ZmljYXRpb24gdGhhdCB0aGUgRE1BLWJ1ZiBpcyBtb3ZpbmcKPiA+ICsgKgo+ID4gKyAqIEF0dGFj
aG1lbnQgb3BlcmF0aW9ucyBpbXBsZW1lbnRlZCBieSB0aGUgaW1wb3J0ZXIuCj4gPiArICovCj4g
PiArc3RydWN0IGRtYV9idWZfYXR0YWNoX29wcyB7Cj4gPiArCS8qKgo+ID4gKwkgKiBAbW92ZV9u
b3RpZnkKPiA+ICsJICoKPiA+ICsJICogSWYgdGhpcyBjYWxsYmFjayBpcyBwcm92aWRlZCB0aGUg
ZnJhbWV3b3JrIGNhbiBhdm9pZCBwaW5uaW5nIHRoZQo+ID4gKwkgKiBiYWNraW5nIHN0b3JlIHdo
aWxlIG1hcHBpbmdzIGV4aXN0cy4KPiA+ICsJICoKPiA+ICsJICogVGhpcyBjYWxsYmFjayBpcyBj
YWxsZWQgd2l0aCB0aGUgbG9jayBvZiB0aGUgcmVzZXJ2YXRpb24gb2JqZWN0Cj4gPiArCSAqIGFz
c29jaWF0ZWQgd2l0aCB0aGUgZG1hX2J1ZiBoZWxkIGFuZCB0aGUgbWFwcGluZyBmdW5jdGlvbiBt
dXN0IGJlCj4gPiArCSAqIGNhbGxlZCB3aXRoIHRoaXMgbG9jayBoZWxkIGFzIHdlbGwuIFRoaXMg
bWFrZXMgc3VyZSB0aGF0IG5vIG1hcHBpbmcKPiA+ICsJICogaXMgY3JlYXRlZCBjb25jdXJyZW50
bHkgd2l0aCBhbiBvbmdvaW5nIG1vdmUgb3BlcmF0aW9uLgo+ID4gKwkgKgo+ID4gKwkgKiBNYXBw
aW5ncyBzdGF5IHZhbGlkIGFuZCBhcmUgbm90IGRpcmVjdGx5IGFmZmVjdGVkIGJ5IHRoaXMgY2Fs
bGJhY2suCj4gPiArCSAqIEJ1dCB0aGUgRE1BLWJ1ZiBjYW4gbm93IGJlIGluIGEgZGlmZmVyZW50
IHBoeXNpY2FsIGxvY2F0aW9uLCBzbyBhbGwKPiA+ICsJICogbWFwcGluZ3Mgc2hvdWxkIGJlIGRl
c3Ryb3llZCBhbmQgcmUtY3JlYXRlZCBhcyBzb29uIGFzIHBvc3NpYmxlLgo+ID4gKwkgKgo+ID4g
KwkgKiBOZXcgbWFwcGluZ3MgY2FuIGJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBjYWxsYmFjayByZXR1
cm5zLCBhbmQgd2lsbAo+ID4gKwkgKiBwb2ludCB0byB0aGUgbmV3IGxvY2F0aW9uIG9mIHRoZSBE
TUEtYnVmLgo+ID4gKwkgKi8KPiA+ICsJdm9pZCAoKm1vdmVfbm90aWZ5KShzdHJ1Y3QgZG1hX2J1
Zl9hdHRhY2htZW50ICphdHRhY2gpOwo+ID4gK307Cj4gPiArCj4gPiAgLyoqCj4gPiAgICogc3Ry
dWN0IGRtYV9idWZfYXR0YWNobWVudCAtIGhvbGRzIGRldmljZS1idWZmZXIgYXR0YWNobWVudCBk
YXRhCj4gPiAgICogQGRtYWJ1ZjogYnVmZmVyIGZvciB0aGlzIGF0dGFjaG1lbnQuCj4gPiBAQCAt
MzE5LDggKzM3Myw5IEBAIHN0cnVjdCBkbWFfYnVmIHsKPiA+ICAgKiBAc2d0OiBjYWNoZWQgbWFw
cGluZy4KPiA+ICAgKiBAZGlyOiBkaXJlY3Rpb24gb2YgY2FjaGVkIG1hcHBpbmcuCj4gPiAgICog
QHByaXY6IGV4cG9ydGVyIHNwZWNpZmljIGF0dGFjaG1lbnQgZGF0YS4KPiA+IC0gKiBAZHluYW1p
Y19tYXBwaW5nOiB0cnVlIGlmIGRtYV9idWZfbWFwL3VubWFwX2F0dGFjaG1lbnQoKSBpcyBjYWxs
ZWQgd2l0aCB0aGUKPiA+IC0gKiBkbWFfcmVzdiBsb2NrIGhlbGQuCj4gPiArICogQGltcG9ydGVy
X29wczogaW1wb3J0ZXIgb3BlcmF0aW9ucyBmb3IgdGhpcyBhdHRhY2htZW50LCBpZiBwcm92aWRl
ZAo+ID4gKyAqIGRtYV9idWZfbWFwL3VubWFwX2F0dGFjaG1lbnQoKSBtdXN0IGJlIGNhbGxlZCB3
aXRoIHRoZSBkbWFfcmVzdiBsb2NrIGhlbGQuCj4gPiArICogQGltcG9ydGVyX3ByaXY6IGltcG9y
dGVyIHNwZWNpZmljIGF0dGFjaG1lbnQgZGF0YS4KPiA+ICAgKgo+ID4gICAqIFRoaXMgc3RydWN0
dXJlIGhvbGRzIHRoZSBhdHRhY2htZW50IGluZm9ybWF0aW9uIGJldHdlZW4gdGhlIGRtYV9idWYg
YnVmZmVyCj4gPiAgICogYW5kIGl0cyB1c2VyIGRldmljZShzKS4gVGhlIGxpc3QgY29udGFpbnMg
b25lIGF0dGFjaG1lbnQgc3RydWN0IHBlciBkZXZpY2UKPiA+IEBAIC0zMzcsNyArMzkyLDggQEAg
c3RydWN0IGRtYV9idWZfYXR0YWNobWVudCB7Cj4gPiAgCXN0cnVjdCBsaXN0X2hlYWQgbm9kZTsK
PiA+ICAJc3RydWN0IHNnX3RhYmxlICpzZ3Q7Cj4gPiAgCWVudW0gZG1hX2RhdGFfZGlyZWN0aW9u
IGRpcjsKPiA+IC0JYm9vbCBkeW5hbWljX21hcHBpbmc7Cj4gPiArCWNvbnN0IHN0cnVjdCBkbWFf
YnVmX2F0dGFjaF9vcHMgKmltcG9ydGVyX29wczsKPiA+ICsJdm9pZCAqaW1wb3J0ZXJfcHJpdjsK
PiA+ICAJdm9pZCAqcHJpdjsKPiA+ICB9Owo+ID4gIAo+ID4gQEAgLTM5OSw2ICs0NTUsNyBAQCBz
dGF0aWMgaW5saW5lIHZvaWQgZ2V0X2RtYV9idWYoc3RydWN0IGRtYV9idWYgKmRtYWJ1ZikKPiA+
ICAgKi8KPiA+ICBzdGF0aWMgaW5saW5lIGJvb2wgZG1hX2J1Zl9pc19keW5hbWljKHN0cnVjdCBk
bWFfYnVmICpkbWFidWYpCj4gPiAgewo+ID4gKwkvKiBUT0RPOiBzd2l0Y2ggdG8gdXNpbmcgcGlu
L3VucGluIGZ1bmN0aW9ucyBhcyBpbmRpY2F0b3IuICovCj4gPiAgCXJldHVybiBkbWFidWYtPm9w
cy0+ZHluYW1pY19tYXBwaW5nOwo+ID4gIH0KPiA+ICAKPiA+IEBAIC00MTMsMTYgKzQ3MCwxOSBA
QCBzdGF0aWMgaW5saW5lIGJvb2wgZG1hX2J1Zl9pc19keW5hbWljKHN0cnVjdCBkbWFfYnVmICpk
bWFidWYpCj4gPiAgc3RhdGljIGlubGluZSBib29sCj4gPiAgZG1hX2J1Zl9hdHRhY2htZW50X2lz
X2R5bmFtaWMoc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoKQo+ID4gIHsKPiA+IC0J
cmV0dXJuIGF0dGFjaC0+ZHluYW1pY19tYXBwaW5nOwo+ID4gKwlyZXR1cm4gISFhdHRhY2gtPmlt
cG9ydGVyX29wczsKPiA+ICB9Cj4gPiAgCj4gPiAgc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAq
ZG1hX2J1Zl9hdHRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1ZiwKPiA+ICAJCQkJCSAgc3RydWN0
IGRldmljZSAqZGV2KTsKPiA+ICBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICoKPiA+ICBkbWFf
YnVmX2R5bmFtaWNfYXR0YWNoKHN0cnVjdCBkbWFfYnVmICpkbWFidWYsIHN0cnVjdCBkZXZpY2Ug
KmRldiwKPiA+IC0JCSAgICAgICBib29sIGR5bmFtaWNfbWFwcGluZyk7Cj4gPiArCQkgICAgICAg
Y29uc3Qgc3RydWN0IGRtYV9idWZfYXR0YWNoX29wcyAqaW1wb3J0ZXJfb3BzLAo+ID4gKwkJICAg
ICAgIHZvaWQgKmltcG9ydGVyX3ByaXYpOwo+ID4gIHZvaWQgZG1hX2J1Zl9kZXRhY2goc3RydWN0
IGRtYV9idWYgKmRtYWJ1ZiwKPiA+ICAJCSAgICBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICph
dHRhY2gpOwo+ID4gK2ludCBkbWFfYnVmX3BpbihzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICph
dHRhY2gpOwo+ID4gK3ZvaWQgZG1hX2J1Zl91bnBpbihzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50
ICphdHRhY2gpOwo+ID4gIAo+ID4gIHN0cnVjdCBkbWFfYnVmICpkbWFfYnVmX2V4cG9ydChjb25z
dCBzdHJ1Y3QgZG1hX2J1Zl9leHBvcnRfaW5mbyAqZXhwX2luZm8pOwo+ID4gIAo+ID4gLS0gCj4g
PiAyLjE3LjEKPiA+IAo+IAo+IC0tIAo+IERhbmllbCBWZXR0ZXIKPiBTb2Z0d2FyZSBFbmdpbmVl
ciwgSW50ZWwgQ29ycG9yYXRpb24KPiBodHRwOi8vYmxvZy5mZndsbC5jaAoKLS0gCkRhbmllbCBW
ZXR0ZXIKU29mdHdhcmUgRW5naW5lZXIsIEludGVsIENvcnBvcmF0aW9uCmh0dHA6Ly9ibG9nLmZm
d2xsLmNoCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkxp
bmFyby1tbS1zaWcgbWFpbGluZyBsaXN0CkxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9yZwpo
dHRwczovL2xpc3RzLmxpbmFyby5vcmcvbWFpbG1hbi9saXN0aW5mby9saW5hcm8tbW0tc2lnCg==
