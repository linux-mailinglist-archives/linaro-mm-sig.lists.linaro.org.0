Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id AFC0D2FF38F
	for <lists+linaro-mm-sig@lfdr.de>; Thu, 21 Jan 2021 19:51:07 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id D505A66741
	for <lists+linaro-mm-sig@lfdr.de>; Thu, 21 Jan 2021 18:51:06 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id C6C4A66744; Thu, 21 Jan 2021 18:51:06 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,FSL_HELO_FAKE,
	MAILING_LIST_MULTI,RCVD_IN_DNSWL_NONE,RCVD_IN_MSPIKE_H3,
	RCVD_IN_MSPIKE_WL,SPF_HELO_NONE autolearn=disabled version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 7B8C06673D;
	Thu, 21 Jan 2021 18:50:23 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 89DD666738
 for <linaro-mm-sig@lists.linaro.org>; Thu, 21 Jan 2021 18:50:19 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 7EB1D6673D; Thu, 21 Jan 2021 18:50:19 +0000 (UTC)
Received: from mail-pl1-f181.google.com (mail-pl1-f181.google.com
 [209.85.214.181])
 by lists.linaro.org (Postfix) with ESMTPS id AFA1E66738
 for <linaro-mm-sig@lists.linaro.org>; Thu, 21 Jan 2021 18:50:16 +0000 (UTC)
Received: by mail-pl1-f181.google.com with SMTP id x18so1795084pln.6
 for <linaro-mm-sig@lists.linaro.org>; Thu, 21 Jan 2021 10:50:16 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :references:mime-version:content-disposition:in-reply-to;
 bh=Gzk23zajungTlCb2zZF+0WgvgyrDA4yvKtkR1qaP/Ig=;
 b=CsEDc9sQlCAn5YBgL/TrTps9ZA/wjITcop6SSJFkmimkH8C/vSDuuDqK92hWqe4MU3
 y6Mau+nBWOgNjj4PFWXguKpOwWVhcLG9wFZvrUmOWPXQQBDoQG+aqP2aYE4n87L9FGHP
 4fywiSxFE+ymh0Cfm1iy6jw+wzNETviLtKG74DwK8fu0S/OgYizzHZuZiKGodkkd/cGT
 ttVFJjiVVJPA6+t7fS+BeQ6yhpcOADUcEdOYcx+fChQcL7Po0TbERICJ1eltoahFuKI9
 eNT0nybGRNaR5M/omsac4URAibPaMlAcQ6OSOHZs/Rg9RJqqopXySnTS+RA66YT8tRkk
 ugXQ==
X-Gm-Message-State: AOAM531ZsF89iUwxWYBkpG5iv9hOBAlLMaYDoi/DEiMViX7WbZfDArip
 BBLyZ2i79InikC6L3N86V2Y=
X-Google-Smtp-Source: ABdhPJyfH862LfwsBBPrzhoeOlf41yFFc4kB5MAcVlKsh2VxeTXSxBN2yqWWIhsFKo0Q9csPN8kefQ==
X-Received: by 2002:a17:90a:5303:: with SMTP id x3mr891727pjh.54.1611255015949; 
 Thu, 21 Jan 2021 10:50:15 -0800 (PST)
Received: from google.com ([2620:15c:211:201:74d0:bb24:e25e:dc4d])
 by smtp.gmail.com with ESMTPSA id x19sm6440436pfp.207.2021.01.21.10.50.13
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 21 Jan 2021 10:50:15 -0800 (PST)
Date: Thu, 21 Jan 2021 10:50:12 -0800
From: Minchan Kim <minchan@kernel.org>
To: Andrew Morton <akpm@linux-foundation.org>
Message-ID: <YAnM5PbNJZlk//iX@google.com>
References: <20210121175502.274391-1-minchan@kernel.org>
 <20210121175502.274391-2-minchan@kernel.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20210121175502.274391-2-minchan@kernel.org>
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: devicetree@vger.kernel.org, mhocko@suse.com, linux-media@vger.kernel.org,
 david@redhat.com, LKML <linux-kernel@vger.kernel.org>, hch@infradead.org,
 linux-mm <linux-mm@kvack.org>, robh+dt@kernel.org, john.stultz@linaro.org,
 joaodias@google.com, hridya@google.com, pullip.cho@samsung.com,
 surenb@google.com, linaro-mm-sig@lists.linaro.org, hyesoo.yu@samsung.com
Subject: Re: [Linaro-mm-sig] [PATCH v4 1/4] mm: cma: introduce gfp flag in
 cma_alloc instead of no_warn
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

T24gVGh1LCBKYW4gMjEsIDIwMjEgYXQgMDk6NTQ6NTlBTSAtMDgwMCwgTWluY2hhbiBLaW0gd3Jv
dGU6Cj4gVGhlIHVwY29taW5nIHBhdGNoIHdpbGwgaW50cm9kdWNlIF9fR0ZQX05PUkVUUlkgc2Vt
YW50aWMKPiBpbiBhbGxvY19jb250aWdfcmFuZ2Ugd2hpY2ggaXMgYSBmYWlsZmFzdCBtb2RlIG9m
IHRoZSBBUEkuCj4gSW5zdGVhZCBvZiBhZGRpbmcgYSBhZGRpdGlvbmFsIHBhcmFtZXRlciBmb3Ig
Z2ZwLCByZXBsYWNlCj4gbm9fd2FybiB3aXRoIGdmcCBmbGFnLgo+IAo+IFRvIGtlZXAgb2xkIGJl
aGF2aW9ycywgaXQgZm9sbG93cyB0aGUgcnVsZSBiZWxvdy4KPiAKPiAgIG5vX3dhcm4gCQkJZ2Zw
X2ZsYWdzCj4gCj4gICBmYWxzZSAgICAgICAgIAkJR0ZQX0tFUk5FTAo+ICAgdHJ1ZSAgICAgICAg
ICAJCUdGUF9LRVJORUx8X19HRlBfTk9XQVJOCj4gICBnZnAgJiBfX0dGUF9OT1dBUk4JCUdGUF9L
RVJORUwgfCAoZ2ZwICYgX19HRlBfTk9XQVJOKQo+IAo+IFJldmlld2VkLWJ5OiBTdXJlbiBCYWdo
ZGFzYXJ5YW4gPHN1cmVuYkBnb29nbGUuY29tPgo+IFNpZ25lZC1vZmYtYnk6IE1pbmNoYW4gS2lt
IDxtaW5jaGFuQGtlcm5lbC5vcmc+CgpGb3VuZCBvbmUgbWlzc2luZyBwaWVjZSA6IGNtYV9hbGxv
Y19hbGluZ2VkCgpSZXNlbmQgd2l0aCBmaXhpbmcKCgpGcm9tIDU0ZjVkZTA1OTYzNmQyMTc4YmY1
ZjcxNjIzOWE0YTFlYTljYmRjNTIgTW9uIFNlcCAxNyAwMDowMDowMCAyMDAxCkZyb206IE1pbmNo
YW4gS2ltIDxtaW5jaGFuQGtlcm5lbC5vcmc+CkRhdGU6IE1vbiwgMjEgRGVjIDIwMjAgMTc6NTU6
MzcgLTA4MDAKU3ViamVjdDogW1BBVENIIHY0IDEvNF0gbW06IGNtYTogaW50cm9kdWNlIGdmcCBm
bGFnIGluIGNtYV9hbGxvYyBpbnN0ZWFkCgpUaGUgdXBjb21pbmcgcGF0Y2ggd2lsbCBpbnRyb2R1
Y2UgX19HRlBfTk9SRVRSWSBzZW1hbnRpYwppbiBhbGxvY19jb250aWdfcmFuZ2Ugd2hpY2ggaXMg
YSBmYWlsZmFzdCBtb2RlIG9mIHRoZSBBUEkuCkluc3RlYWQgb2YgYWRkaW5nIGEgYWRkaXRpb25h
bCBwYXJhbWV0ZXIgZm9yIGdmcCwgcmVwbGFjZQpub193YXJuIHdpdGggZ2ZwIGZsYWcuCgpUbyBr
ZWVwIG9sZCBiZWhhdmlvcnMsIGl0IGZvbGxvd3MgdGhlIHJ1bGUgYmVsb3cuCgogIG5vX3dhcm4g
CQkJZ2ZwX2ZsYWdzCgogIGZhbHNlICAgICAgICAgCQlHRlBfS0VSTkVMCiAgdHJ1ZSAgICAgICAg
ICAJCUdGUF9LRVJORUx8X19HRlBfTk9XQVJOCiAgZ2ZwICYgX19HRlBfTk9XQVJOCQlHRlBfS0VS
TkVMIHwgKGdmcCAmIF9fR0ZQX05PV0FSTikKClJldmlld2VkLWJ5OiBTdXJlbiBCYWdoZGFzYXJ5
YW4gPHN1cmVuYkBnb29nbGUuY29tPgpTaWduZWQtb2ZmLWJ5OiBNaW5jaGFuIEtpbSA8bWluY2hh
bkBrZXJuZWwub3JnPgotLS0KIGRyaXZlcnMvZG1hLWJ1Zi9oZWFwcy9jbWFfaGVhcC5jIHwgIDIg
Ky0KIGRyaXZlcnMvczM5MC9jaGFyL3ZtY3AuYyAgICAgICAgIHwgIDIgKy0KIGluY2x1ZGUvbGlu
dXgvY21hLmggICAgICAgICAgICAgIHwgIDIgKy0KIGtlcm5lbC9kbWEvY29udGlndW91cy5jICAg
ICAgICAgIHwgIDYgKysrKy0tCiBtbS9jbWEuYyAgICAgICAgICAgICAgICAgICAgICAgICB8IDEy
ICsrKysrKy0tLS0tLQogbW0vY21hX2RlYnVnLmMgICAgICAgICAgICAgICAgICAgfCAgMiArLQog
bW0vaHVnZXRsYi5jICAgICAgICAgICAgICAgICAgICAgfCAgNiArKysrLS0KIG1tL3NlY3JldG1l
bS5jICAgICAgICAgICAgICAgICAgIHwgIDMgKystCiA4IGZpbGVzIGNoYW5nZWQsIDIwIGluc2Vy
dGlvbnMoKyksIDE1IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9o
ZWFwcy9jbWFfaGVhcC5jIGIvZHJpdmVycy9kbWEtYnVmL2hlYXBzL2NtYV9oZWFwLmMKaW5kZXgg
MzY0ZmMyZjNlNDk5Li4wYWZjMTkwNzg4N2EgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZG1hLWJ1Zi9o
ZWFwcy9jbWFfaGVhcC5jCisrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9oZWFwcy9jbWFfaGVhcC5jCkBA
IC0yOTgsNyArMjk4LDcgQEAgc3RhdGljIGludCBjbWFfaGVhcF9hbGxvY2F0ZShzdHJ1Y3QgZG1h
X2hlYXAgKmhlYXAsCiAJaWYgKGFsaWduID4gQ09ORklHX0NNQV9BTElHTk1FTlQpCiAJCWFsaWdu
ID0gQ09ORklHX0NNQV9BTElHTk1FTlQ7CiAKLQljbWFfcGFnZXMgPSBjbWFfYWxsb2MoY21hX2hl
YXAtPmNtYSwgcGFnZWNvdW50LCBhbGlnbiwgZmFsc2UpOworCWNtYV9wYWdlcyA9IGNtYV9hbGxv
YyhjbWFfaGVhcC0+Y21hLCBwYWdlY291bnQsIGFsaWduLCBHRlBfS0VSTkVMKTsKIAlpZiAoIWNt
YV9wYWdlcykKIAkJZ290byBmcmVlX2J1ZmZlcjsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9zMzkw
L2NoYXIvdm1jcC5jIGIvZHJpdmVycy9zMzkwL2NoYXIvdm1jcC5jCmluZGV4IDllMDY2MjgxZTJk
MC4uNzhmOWFkZjU2NDU2IDEwMDY0NAotLS0gYS9kcml2ZXJzL3MzOTAvY2hhci92bWNwLmMKKysr
IGIvZHJpdmVycy9zMzkwL2NoYXIvdm1jcC5jCkBAIC03MCw3ICs3MCw3IEBAIHN0YXRpYyB2b2lk
IHZtY3BfcmVzcG9uc2VfYWxsb2Moc3RydWN0IHZtY3Bfc2Vzc2lvbiAqc2Vzc2lvbikKIAkgKiBh
bnltb3JlIHRoZSBzeXN0ZW0gd29uJ3Qgd29yayBhbnl3YXkuCiAJICovCiAJaWYgKG9yZGVyID4g
MikKLQkJcGFnZSA9IGNtYV9hbGxvYyh2bWNwX2NtYSwgbnJfcGFnZXMsIDAsIGZhbHNlKTsKKwkJ
cGFnZSA9IGNtYV9hbGxvYyh2bWNwX2NtYSwgbnJfcGFnZXMsIDAsIEdGUF9LRVJORUwpOwogCWlm
IChwYWdlKSB7CiAJCXNlc3Npb24tPnJlc3BvbnNlID0gKGNoYXIgKilwYWdlX3RvX3BoeXMocGFn
ZSk7CiAJCXNlc3Npb24tPmNtYV9hbGxvYyA9IDE7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4
L2NtYS5oIGIvaW5jbHVkZS9saW51eC9jbWEuaAppbmRleCAyMTc5OTljOGE3NjIuLmQ2YzAyZDA4
ZGRiYyAxMDA2NDQKLS0tIGEvaW5jbHVkZS9saW51eC9jbWEuaAorKysgYi9pbmNsdWRlL2xpbnV4
L2NtYS5oCkBAIC00NSw3ICs0NSw3IEBAIGV4dGVybiBpbnQgY21hX2luaXRfcmVzZXJ2ZWRfbWVt
KHBoeXNfYWRkcl90IGJhc2UsIHBoeXNfYWRkcl90IHNpemUsCiAJCQkJCWNvbnN0IGNoYXIgKm5h
bWUsCiAJCQkJCXN0cnVjdCBjbWEgKipyZXNfY21hKTsKIGV4dGVybiBzdHJ1Y3QgcGFnZSAqY21h
X2FsbG9jKHN0cnVjdCBjbWEgKmNtYSwgc2l6ZV90IGNvdW50LCB1bnNpZ25lZCBpbnQgYWxpZ24s
Ci0JCQkgICAgICBib29sIG5vX3dhcm4pOworCQkJICAgICAgZ2ZwX3QgZ2ZwX21hc2spOwogZXh0
ZXJuIGJvb2wgY21hX3JlbGVhc2Uoc3RydWN0IGNtYSAqY21hLCBjb25zdCBzdHJ1Y3QgcGFnZSAq
cGFnZXMsIHVuc2lnbmVkIGludCBjb3VudCk7CiAKIGV4dGVybiBpbnQgY21hX2Zvcl9lYWNoX2Fy
ZWEoaW50ICgqaXQpKHN0cnVjdCBjbWEgKmNtYSwgdm9pZCAqZGF0YSksIHZvaWQgKmRhdGEpOwpk
aWZmIC0tZ2l0IGEva2VybmVsL2RtYS9jb250aWd1b3VzLmMgYi9rZXJuZWwvZG1hL2NvbnRpZ3Vv
dXMuYwppbmRleCAzZDYzZDkxY2JhNWMuLmY1YTZmY2FhOTg3NiAxMDA2NDQKLS0tIGEva2VybmVs
L2RtYS9jb250aWd1b3VzLmMKKysrIGIva2VybmVsL2RtYS9jb250aWd1b3VzLmMKQEAgLTI2MCw3
ICsyNjAsOCBAQCBzdHJ1Y3QgcGFnZSAqZG1hX2FsbG9jX2Zyb21fY29udGlndW91cyhzdHJ1Y3Qg
ZGV2aWNlICpkZXYsIHNpemVfdCBjb3VudCwKIAlpZiAoYWxpZ24gPiBDT05GSUdfQ01BX0FMSUdO
TUVOVCkKIAkJYWxpZ24gPSBDT05GSUdfQ01BX0FMSUdOTUVOVDsKIAotCXJldHVybiBjbWFfYWxs
b2MoZGV2X2dldF9jbWFfYXJlYShkZXYpLCBjb3VudCwgYWxpZ24sIG5vX3dhcm4pOworCXJldHVy
biBjbWFfYWxsb2MoZGV2X2dldF9jbWFfYXJlYShkZXYpLCBjb3VudCwgYWxpZ24sIEdGUF9LRVJO
RUwgfAorCQkJKG5vX3dhcm4gPyBfX0dGUF9OT1dBUk4gOiAwKSk7CiB9CiAKIC8qKgpAQCAtMjgz
LDcgKzI4NCw4IEBAIHN0YXRpYyBzdHJ1Y3QgcGFnZSAqY21hX2FsbG9jX2FsaWduZWQoc3RydWN0
IGNtYSAqY21hLCBzaXplX3Qgc2l6ZSwgZ2ZwX3QgZ2ZwKQogewogCXVuc2lnbmVkIGludCBhbGln
biA9IG1pbihnZXRfb3JkZXIoc2l6ZSksIENPTkZJR19DTUFfQUxJR05NRU5UKTsKIAotCXJldHVy
biBjbWFfYWxsb2MoY21hLCBzaXplID4+IFBBR0VfU0hJRlQsIGFsaWduLCBnZnAgJiBfX0dGUF9O
T1dBUk4pOworCXJldHVybiBjbWFfYWxsb2MoY21hLCBzaXplID4+IFBBR0VfU0hJRlQsIGFsaWdu
LAorCQkJCUdGUF9LRVJORUwgfCAoZ2ZwICYgX19HRlBfTk9XQVJOKSk7CiB9CiAKIC8qKgpkaWZm
IC0tZ2l0IGEvbW0vY21hLmMgYi9tbS9jbWEuYwppbmRleCAwYmE2OWNkMTZhZWIuLmQ1MDYyNzY4
NmZlYyAxMDA2NDQKLS0tIGEvbW0vY21hLmMKKysrIGIvbW0vY21hLmMKQEAgLTQxOSwxMyArNDE5
LDEzIEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBjbWFfZGVidWdfc2hvd19hcmVhcyhzdHJ1Y3QgY21h
ICpjbWEpIHsgfQogICogQGNtYTogICBDb250aWd1b3VzIG1lbW9yeSByZWdpb24gZm9yIHdoaWNo
IHRoZSBhbGxvY2F0aW9uIGlzIHBlcmZvcm1lZC4KICAqIEBjb3VudDogUmVxdWVzdGVkIG51bWJl
ciBvZiBwYWdlcy4KICAqIEBhbGlnbjogUmVxdWVzdGVkIGFsaWdubWVudCBvZiBwYWdlcyAoaW4g
UEFHRV9TSVpFIG9yZGVyKS4KLSAqIEBub193YXJuOiBBdm9pZCBwcmludGluZyBtZXNzYWdlIGFi
b3V0IGZhaWxlZCBhbGxvY2F0aW9uCisgKiBAZ2ZwX21hc2s6IEdGUCBtYXNrIHRvIHVzZSBkdXJp
bmcgdGhlIGNtYSBhbGxvY2F0aW9uLgogICoKICAqIFRoaXMgZnVuY3Rpb24gYWxsb2NhdGVzIHBh
cnQgb2YgY29udGlndW91cyBtZW1vcnkgb24gc3BlY2lmaWMKICAqIGNvbnRpZ3VvdXMgbWVtb3J5
IGFyZWEuCiAgKi8KIHN0cnVjdCBwYWdlICpjbWFfYWxsb2Moc3RydWN0IGNtYSAqY21hLCBzaXpl
X3QgY291bnQsIHVuc2lnbmVkIGludCBhbGlnbiwKLQkJICAgICAgIGJvb2wgbm9fd2FybikKKwkJ
ICAgICAgIGdmcF90IGdmcF9tYXNrKQogewogCXVuc2lnbmVkIGxvbmcgbWFzaywgb2Zmc2V0Owog
CXVuc2lnbmVkIGxvbmcgcGZuID0gLTE7CkBAIC00MzgsOCArNDM4LDggQEAgc3RydWN0IHBhZ2Ug
KmNtYV9hbGxvYyhzdHJ1Y3QgY21hICpjbWEsIHNpemVfdCBjb3VudCwgdW5zaWduZWQgaW50IGFs
aWduLAogCWlmICghY21hIHx8ICFjbWEtPmNvdW50IHx8ICFjbWEtPmJpdG1hcCkKIAkJcmV0dXJu
IE5VTEw7CiAKLQlwcl9kZWJ1ZygiJXMoY21hICVwLCBjb3VudCAlenUsIGFsaWduICVkKVxuIiwg
X19mdW5jX18sICh2b2lkICopY21hLAotCQkgY291bnQsIGFsaWduKTsKKwlwcl9kZWJ1ZygiJXMo
Y21hICVwLCBjb3VudCAlenUsIGFsaWduICVkIGdmcF9tYXNrIDB4JXgpXG4iLCBfX2Z1bmNfXywK
KwkJCSh2b2lkICopY21hLCBjb3VudCwgYWxpZ24sIGdmcF9tYXNrKTsKIAogCWlmICghY291bnQp
CiAJCXJldHVybiBOVUxMOwpAQCAtNDcxLDcgKzQ3MSw3IEBAIHN0cnVjdCBwYWdlICpjbWFfYWxs
b2Moc3RydWN0IGNtYSAqY21hLCBzaXplX3QgY291bnQsIHVuc2lnbmVkIGludCBhbGlnbiwKIAog
CQlwZm4gPSBjbWEtPmJhc2VfcGZuICsgKGJpdG1hcF9ubyA8PCBjbWEtPm9yZGVyX3Blcl9iaXQp
OwogCQlyZXQgPSBhbGxvY19jb250aWdfcmFuZ2UocGZuLCBwZm4gKyBjb3VudCwgTUlHUkFURV9D
TUEsCi0JCQkJICAgICBHRlBfS0VSTkVMIHwgKG5vX3dhcm4gPyBfX0dGUF9OT1dBUk4gOiAwKSk7
CisJCQkJCQlnZnBfbWFzayk7CiAKIAkJaWYgKHJldCA9PSAwKSB7CiAJCQlwYWdlID0gcGZuX3Rv
X3BhZ2UocGZuKTsKQEAgLTUwMCw3ICs1MDAsNyBAQCBzdHJ1Y3QgcGFnZSAqY21hX2FsbG9jKHN0
cnVjdCBjbWEgKmNtYSwgc2l6ZV90IGNvdW50LCB1bnNpZ25lZCBpbnQgYWxpZ24sCiAJCQlwYWdl
X2thc2FuX3RhZ19yZXNldChwYWdlICsgaSk7CiAJfQogCi0JaWYgKHJldCAmJiAhbm9fd2Fybikg
eworCWlmIChyZXQgJiYgIShnZnBfbWFzayAmIF9fR0ZQX05PV0FSTikpIHsKIAkJcHJfZXJyKCIl
czogYWxsb2MgZmFpbGVkLCByZXEtc2l6ZTogJXp1IHBhZ2VzLCByZXQ6ICVkXG4iLAogCQkJX19m
dW5jX18sIGNvdW50LCByZXQpOwogCQljbWFfZGVidWdfc2hvd19hcmVhcyhjbWEpOwpkaWZmIC0t
Z2l0IGEvbW0vY21hX2RlYnVnLmMgYi9tbS9jbWFfZGVidWcuYwppbmRleCBkNWJmOGFhMzRmZGMu
LjAwMTcwYzQxY2Y4MSAxMDA2NDQKLS0tIGEvbW0vY21hX2RlYnVnLmMKKysrIGIvbW0vY21hX2Rl
YnVnLmMKQEAgLTEzNyw3ICsxMzcsNyBAQCBzdGF0aWMgaW50IGNtYV9hbGxvY19tZW0oc3RydWN0
IGNtYSAqY21hLCBpbnQgY291bnQpCiAJaWYgKCFtZW0pCiAJCXJldHVybiAtRU5PTUVNOwogCi0J
cCA9IGNtYV9hbGxvYyhjbWEsIGNvdW50LCAwLCBmYWxzZSk7CisJcCA9IGNtYV9hbGxvYyhjbWEs
IGNvdW50LCAwLCBHRlBfS0VSTkVMKTsKIAlpZiAoIXApIHsKIAkJa2ZyZWUobWVtKTsKIAkJcmV0
dXJuIC1FTk9NRU07CmRpZmYgLS1naXQgYS9tbS9odWdldGxiLmMgYi9tbS9odWdldGxiLmMKaW5k
ZXggYTZiYWQxZjY4NmM1Li40MjA5YTJlZDFlMWIgMTAwNjQ0Ci0tLSBhL21tL2h1Z2V0bGIuYwor
KysgYi9tbS9odWdldGxiLmMKQEAgLTEyNjYsNyArMTI2Niw4IEBAIHN0YXRpYyBzdHJ1Y3QgcGFn
ZSAqYWxsb2NfZ2lnYW50aWNfcGFnZShzdHJ1Y3QgaHN0YXRlICpoLCBnZnBfdCBnZnBfbWFzaywK
IAogCQlpZiAoaHVnZXRsYl9jbWFbbmlkXSkgewogCQkJcGFnZSA9IGNtYV9hbGxvYyhodWdldGxi
X2NtYVtuaWRdLCBucl9wYWdlcywKLQkJCQkJaHVnZV9wYWdlX29yZGVyKGgpLCB0cnVlKTsKKwkJ
CQkJaHVnZV9wYWdlX29yZGVyKGgpLAorCQkJCQlHRlBfS0VSTkVMIHwgX19HRlBfTk9XQVJOKTsK
IAkJCWlmIChwYWdlKQogCQkJCXJldHVybiBwYWdlOwogCQl9CkBAIC0xMjc3LDcgKzEyNzgsOCBA
QCBzdGF0aWMgc3RydWN0IHBhZ2UgKmFsbG9jX2dpZ2FudGljX3BhZ2Uoc3RydWN0IGhzdGF0ZSAq
aCwgZ2ZwX3QgZ2ZwX21hc2ssCiAJCQkJCWNvbnRpbnVlOwogCiAJCQkJcGFnZSA9IGNtYV9hbGxv
YyhodWdldGxiX2NtYVtub2RlXSwgbnJfcGFnZXMsCi0JCQkJCQlodWdlX3BhZ2Vfb3JkZXIoaCks
IHRydWUpOworCQkJCQkJaHVnZV9wYWdlX29yZGVyKGgpLAorCQkJCQkJR0ZQX0tFUk5FTCB8IF9f
R0ZQX05PV0FSTik7CiAJCQkJaWYgKHBhZ2UpCiAJCQkJCXJldHVybiBwYWdlOwogCQkJfQpkaWZm
IC0tZ2l0IGEvbW0vc2VjcmV0bWVtLmMgYi9tbS9zZWNyZXRtZW0uYwppbmRleCBiOGEzMjk1NGFj
NjguLjU4NWQ1NWI5ZjlkOCAxMDA2NDQKLS0tIGEvbW0vc2VjcmV0bWVtLmMKKysrIGIvbW0vc2Vj
cmV0bWVtLmMKQEAgLTg2LDcgKzg2LDggQEAgc3RhdGljIGludCBzZWNyZXRtZW1fcG9vbF9pbmNy
ZWFzZShzdHJ1Y3Qgc2VjcmV0bWVtX2N0eCAqY3R4LCBnZnBfdCBnZnApCiAJc3RydWN0IHBhZ2Ug
KnBhZ2U7CiAJaW50IGVycjsKIAotCXBhZ2UgPSBjbWFfYWxsb2Moc2VjcmV0bWVtX2NtYSwgbnJf
cGFnZXMsIFBNRF9TSVpFLCBnZnAgJiBfX0dGUF9OT1dBUk4pOworCXBhZ2UgPSBjbWFfYWxsb2Mo
c2VjcmV0bWVtX2NtYSwgbnJfcGFnZXMsIFBNRF9TSVpFLAorCQkJCUdGUF9LRVJORUwgfCAoZ2Zw
ICYgX19HRlBfTk9XQVJOKSk7CiAJaWYgKCFwYWdlKQogCQlyZXR1cm4gLUVOT01FTTsKIAotLSAK
Mi4zMC4wLjI5Ni5nMmJmYjFjNDZkOC1nb29nCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KTGluYXJvLW1tLXNpZyBtYWlsaW5nIGxpc3QKTGluYXJvLW1t
LXNpZ0BsaXN0cy5saW5hcm8ub3JnCmh0dHBzOi8vbGlzdHMubGluYXJvLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2xpbmFyby1tbS1zaWcK
