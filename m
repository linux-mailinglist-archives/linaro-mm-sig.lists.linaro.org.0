Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id DA9FA382F29
	for <lists+linaro-mm-sig@lfdr.de>; Mon, 17 May 2021 16:13:31 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id EFFFF60C20
	for <lists+linaro-mm-sig@lfdr.de>; Mon, 17 May 2021 14:13:29 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id D1AB8607C8; Mon, 17 May 2021 14:13:28 +0000 (UTC)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id AB41060FC4;
	Mon, 17 May 2021 14:13:23 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 2E253607C8
 for <linaro-mm-sig@lists.linaro.org>; Mon, 17 May 2021 14:11:38 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 290A160B82; Mon, 17 May 2021 14:11:38 +0000 (UTC)
Received: from mail-ed1-f45.google.com (mail-ed1-f45.google.com
 [209.85.208.45])
 by lists.linaro.org (Postfix) with ESMTPS id 0D54C608ED
 for <linaro-mm-sig@lists.linaro.org>; Mon, 17 May 2021 14:11:36 +0000 (UTC)
Received: by mail-ed1-f45.google.com with SMTP id di13so7100506edb.2
 for <linaro-mm-sig@lists.linaro.org>; Mon, 17 May 2021 07:11:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=248UB/TUNCTmAN6aYWGL5XFW384YdJfJpolfPyX69WA=;
 b=bJRrzxA7oruK8AqOTm2fAwzX3bk33WieHk1vcF5Kg3m79zOqCx5AcDNWWhE9QWMl9w
 PJMrrIY2a1s8sxvC2UOkGyGUaaWHsvarlF0Azqk0JMJYDZkAc8smmfzB+HSzIPzPM3Hv
 Lv4dcRruniAVzEgvSi7QRp6LjPo/67aftTwbZ3/crndbZseRX46kjgo08CXIbraOmNQD
 pkx8gPhx6ydNVDRl5foOCc40QhhxlJY/epvf+AAVa0SU/anaJgIQKaffiWlxMl4psGTZ
 IDiX3wRWv3beLrmYuYv3YqY2byv/pU75qEIcFSBge47qCA8WmgeTKXjjAHJupjZjrQwq
 CcmQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=248UB/TUNCTmAN6aYWGL5XFW384YdJfJpolfPyX69WA=;
 b=ffoXiXFXAOameVP4K8M9znwyLcmk6Z5O774P+2oS1ySdK472EbTysCECF/UdFAOhKD
 dAhQuBDCIqIglr4d+N7lJp5MhClx1bLQcwPWHr55cvIs0Ay9N4XNwYDf1UO+VbTpf+SQ
 uUPTlEqgA7U6K1cm6BnmMB7+eqNr6NWTivEifll8q29Lp7jb76EB7nKVewDnggsJBNmX
 dg7ZS06KbAQpMq3IcfJIxRtAcGPnC2Tqs/Ozexhq8Uh+r6LUkOG0b1SfwtzhTnOFAhi4
 lAP8CU7pIlZ+Adt7XV2qSuPUQcudJmoIQXEYBgaDK52ncuiSXdBerCn8gFWWWSLhvm5m
 RDUg==
X-Gm-Message-State: AOAM532f7rnKPauujPRZ5krXXaajXYTgmnz/43yG5sRJJo9i7ouiO/fB
 /nb99bjPhu3DNsPoicQdMdw=
X-Google-Smtp-Source: ABdhPJz6ZlorVOvVlxamaQPo9fc+NpSjoZ9qSezt7kmR3fv2Ujb8Wu0olkzje27jUTLcwgTnZpeqFQ==
X-Received: by 2002:a05:6402:270b:: with SMTP id
 y11mr251482edd.332.1621260695137; 
 Mon, 17 May 2021 07:11:35 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:1df4:c5b6:b8fd:3c4b])
 by smtp.gmail.com with ESMTPSA id b9sm2419624edt.71.2021.05.17.07.11.34
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 17 May 2021 07:11:34 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: dri-devel@lists.freedesktop.org,
	linaro-mm-sig@lists.linaro.org
Date: Mon, 17 May 2021 16:11:22 +0200
Message-Id: <20210517141129.2225-5-christian.koenig@amd.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20210517141129.2225-1-christian.koenig@amd.com>
References: <20210517141129.2225-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-Virus-Scanned: ClamAV using ClamSMTP
Subject: [Linaro-mm-sig] [PATCH 04/11] dma-buf: rename and cleanup
 dma_resv_get_excl
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Cc: daniel@ffwll.ch
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

V2hlbiB0aGUgY29tbWVudCBuZWVkcyB0byBzdGF0ZSBleHBsaWNpdGx5IHRoYXQgdGhpcwpkb2Vz
bid0IGdldCBhIHJlZmVyZW5jZSB0byB0aGUgb2JqZWN0IHRoZW4gdGhlIGZ1bmN0aW9uCmlzIG5h
bWVkIHJhdGhlciBiYWRseS4KClJlbmFtZSB0aGUgZnVuY3Rpb24gYW5kIHVzZSByY3VfZGVyZWZl
cmVuY2VfY2hlY2soKSwgdGhpcwp3YXkgaXQgY2FuIGJlIHVzZWQgZnJvbSBib3RoIHJjdSBhcyB3
ZWxsIGFzIGxvY2sgcHJvdGVjdGVkCmNyaXRpY2FsIHNlY3Rpb25zLgoKU2lnbmVkLW9mZi1ieTog
Q2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgotLS0KIGRyaXZlcnMv
ZG1hLWJ1Zi9kbWEtYnVmLmMgICAgICAgICAgICAgICAgfCAgNCArKy0tCiBkcml2ZXJzL2RtYS1i
dWYvZG1hLXJlc3YuYyAgICAgICAgICAgICAgIHwgMTAgKysrKystLS0tLQogZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dlbS5jICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfc3luYy5jIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0
bmF2aXZfZ2VtLmMgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X2J1c3kuYyB8ICAzICstLQogZHJpdmVycy9ncHUvZHJtL21zbS9tc21fZ2VtLmMgICAgICAgICAg
ICB8ICA0ICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfYm8uYyAgICAgfCAg
MiArLQogZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9mZW5jZS5jICB8ICAyICstCiBk
cml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9kaXNwbGF5LmMgIHwgIDIgKy0KIGRyaXZlcnMv
Z3B1L2RybS9yYWRlb24vcmFkZW9uX3N5bmMuYyAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJt
L3JhZGVvbi9yYWRlb25fdXZkLmMgICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vdHRtL3R0
bV9iby5jICAgICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4
X3Jlc291cmNlLmMgfCAgMiArLQogaW5jbHVkZS9saW51eC9kbWEtcmVzdi5oICAgICAgICAgICAg
ICAgICB8IDEzICsrKysrLS0tLS0tLS0KIDE1IGZpbGVzIGNoYW5nZWQsIDI1IGluc2VydGlvbnMo
KyksIDI5IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtYnVm
LmMgYi9kcml2ZXJzL2RtYS1idWYvZG1hLWJ1Zi5jCmluZGV4IDQ2OGMyODJiOGEwNi4uNWFiZjZi
OGM4OWFjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2RtYS1idWYvZG1hLWJ1Zi5jCisrKyBiL2RyaXZl
cnMvZG1hLWJ1Zi9kbWEtYnVmLmMKQEAgLTIzNCw3ICsyMzQsNyBAQCBzdGF0aWMgX19wb2xsX3Qg
ZG1hX2J1Zl9wb2xsKHN0cnVjdCBmaWxlICpmaWxlLCBwb2xsX3RhYmxlICpwb2xsKQogCQlzaGFy
ZWRfY291bnQgPSBmb2JqLT5zaGFyZWRfY291bnQ7CiAJZWxzZQogCQlzaGFyZWRfY291bnQgPSAw
OwotCWZlbmNlX2V4Y2wgPSByY3VfZGVyZWZlcmVuY2UocmVzdi0+ZmVuY2VfZXhjbCk7CisJZmVu
Y2VfZXhjbCA9IGRtYV9yZXN2X2V4Y2x1c2l2ZShyZXN2KTsKIAlpZiAocmVhZF9zZXFjb3VudF9y
ZXRyeSgmcmVzdi0+c2VxLCBzZXEpKSB7CiAJCXJjdV9yZWFkX3VubG9jaygpOwogCQlnb3RvIHJl
dHJ5OwpAQCAtMTM4NSw3ICsxMzg1LDcgQEAgc3RhdGljIGludCBkbWFfYnVmX2RlYnVnX3Nob3co
c3RydWN0IHNlcV9maWxlICpzLCB2b2lkICp1bnVzZWQpCiAJCXJvYmogPSBidWZfb2JqLT5yZXN2
OwogCQlzZXEgPSByZWFkX3NlcWNvdW50X2JlZ2luKCZyb2JqLT5zZXEpOwogCQlyY3VfcmVhZF9s
b2NrKCk7Ci0JCWZlbmNlID0gcmN1X2RlcmVmZXJlbmNlKHJvYmotPmZlbmNlX2V4Y2wpOworCQlm
ZW5jZSA9IGRtYV9yZXN2X2V4Y2x1c2l2ZShyb2JqKTsKIAkJaWYgKGZlbmNlKQogCQkJc2VxX3By
aW50ZihzLCAiXHRFeGNsdXNpdmUgZmVuY2U6ICVzICVzICVzc2lnbmFsbGVkXG4iLAogCQkJCSAg
IGZlbmNlLT5vcHMtPmdldF9kcml2ZXJfbmFtZShmZW5jZSksCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2RtYS1idWYvZG1hLXJlc3YuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi5jCmluZGV4IDZj
NjE5NTMxNWU5Zi4uODFiMDMyYjQzNDU3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2RtYS1idWYvZG1h
LXJlc3YuYworKysgYi9kcml2ZXJzL2RtYS1idWYvZG1hLXJlc3YuYwpAQCAtMjgxLDcgKzI4MSw3
IEBAIEVYUE9SVF9TWU1CT0woZG1hX3Jlc3ZfYWRkX3NoYXJlZF9mZW5jZSk7CiAgKi8KIHZvaWQg
ZG1hX3Jlc3ZfYWRkX2V4Y2xfZmVuY2Uoc3RydWN0IGRtYV9yZXN2ICpvYmosIHN0cnVjdCBkbWFf
ZmVuY2UgKmZlbmNlKQogewotCXN0cnVjdCBkbWFfZmVuY2UgKm9sZF9mZW5jZSA9IGRtYV9yZXN2
X2dldF9leGNsKG9iaik7CisJc3RydWN0IGRtYV9mZW5jZSAqb2xkX2ZlbmNlID0gZG1hX3Jlc3Zf
ZXhjbHVzaXZlKG9iaik7CiAJc3RydWN0IGRtYV9yZXN2X2xpc3QgKm9sZDsKIAl1MzIgaSA9IDA7
CiAKQEAgLTM3Nyw3ICszNzcsNyBAQCBpbnQgZG1hX3Jlc3ZfY29weV9mZW5jZXMoc3RydWN0IGRt
YV9yZXN2ICpkc3QsIHN0cnVjdCBkbWFfcmVzdiAqc3JjKQogCXJjdV9yZWFkX3VubG9jaygpOwog
CiAJc3JjX2xpc3QgPSBkbWFfcmVzdl9nZXRfbGlzdChkc3QpOwotCW9sZCA9IGRtYV9yZXN2X2dl
dF9leGNsKGRzdCk7CisJb2xkID0gZG1hX3Jlc3ZfZXhjbHVzaXZlKGRzdCk7CiAKIAl3cml0ZV9z
ZXFjb3VudF9iZWdpbigmZHN0LT5zZXEpOwogCS8qIHdyaXRlX3NlcWNvdW50X2JlZ2luIHByb3Zp
ZGVzIHRoZSBuZWNlc3NhcnkgbWVtb3J5IGJhcnJpZXIgKi8KQEAgLTQyNSw3ICs0MjUsNyBAQCBp
bnQgZG1hX3Jlc3ZfZ2V0X2ZlbmNlc19yY3Uoc3RydWN0IGRtYV9yZXN2ICpvYmosCiAJCXJjdV9y
ZWFkX2xvY2soKTsKIAkJc2VxID0gcmVhZF9zZXFjb3VudF9iZWdpbigmb2JqLT5zZXEpOwogCi0J
CWZlbmNlX2V4Y2wgPSByY3VfZGVyZWZlcmVuY2Uob2JqLT5mZW5jZV9leGNsKTsKKwkJZmVuY2Vf
ZXhjbCA9IGRtYV9yZXN2X2V4Y2x1c2l2ZShvYmopOwogCQlpZiAoZmVuY2VfZXhjbCAmJiAhZG1h
X2ZlbmNlX2dldF9yY3UoZmVuY2VfZXhjbCkpCiAJCQlnb3RvIHVubG9jazsKIApAQCAtNTIwLDcg
KzUyMCw3IEBAIGxvbmcgZG1hX3Jlc3Zfd2FpdF90aW1lb3V0X3JjdShzdHJ1Y3QgZG1hX3Jlc3Yg
Km9iaiwKIAlyY3VfcmVhZF9sb2NrKCk7CiAJaSA9IC0xOwogCi0JZmVuY2UgPSByY3VfZGVyZWZl
cmVuY2Uob2JqLT5mZW5jZV9leGNsKTsKKwlmZW5jZSA9IGRtYV9yZXN2X2V4Y2x1c2l2ZShvYmop
OwogCWlmIChmZW5jZSAmJiAhdGVzdF9iaXQoRE1BX0ZFTkNFX0ZMQUdfU0lHTkFMRURfQklULCAm
ZmVuY2UtPmZsYWdzKSkgewogCQlpZiAoIWRtYV9mZW5jZV9nZXRfcmN1KGZlbmNlKSkKIAkJCWdv
dG8gdW5sb2NrX3JldHJ5OwpAQCAtNjQyLDcgKzY0Miw3IEBAIGJvb2wgZG1hX3Jlc3ZfdGVzdF9z
aWduYWxlZF9yY3Uoc3RydWN0IGRtYV9yZXN2ICpvYmosIGJvb2wgdGVzdF9hbGwpCiAJfQogCiAJ
aWYgKCFzaGFyZWRfY291bnQpIHsKLQkJc3RydWN0IGRtYV9mZW5jZSAqZmVuY2VfZXhjbCA9IHJj
dV9kZXJlZmVyZW5jZShvYmotPmZlbmNlX2V4Y2wpOworCQlzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5j
ZV9leGNsID0gZG1hX3Jlc3ZfZXhjbHVzaXZlKG9iaik7CiAKIAkJaWYgKGZlbmNlX2V4Y2wpIHsK
IAkJCXJldCA9IGRtYV9yZXN2X3Rlc3Rfc2lnbmFsZWRfc2luZ2xlKGZlbmNlX2V4Y2wpOwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dlbS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dlbS5jCmluZGV4IDE4OTc0YmQwODFmMC4uOTRk
YTQ0ZDk3ZTdmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
Z2VtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dlbS5jCkBAIC0x
ODUsNyArMTg1LDcgQEAgc3RhdGljIHZvaWQgYW1kZ3B1X2dlbV9vYmplY3RfY2xvc2Uoc3RydWN0
IGRybV9nZW1fb2JqZWN0ICpvYmosCiAJaWYgKCFhbWRncHVfdm1fcmVhZHkodm0pKQogCQlnb3Rv
IG91dF91bmxvY2s7CiAKLQlmZW5jZSA9IGRtYV9yZXN2X2dldF9leGNsKGJvLT50Ym8uYmFzZS5y
ZXN2KTsKKwlmZW5jZSA9IGRtYV9yZXN2X2V4Y2x1c2l2ZShiby0+dGJvLmJhc2UucmVzdik7CiAJ
aWYgKGZlbmNlKSB7CiAJCWFtZGdwdV9ib19mZW5jZShibywgZmVuY2UsIHRydWUpOwogCQlmZW5j
ZSA9IE5VTEw7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
c3luYy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3N5bmMuYwppbmRleCA0
ZTU1ODYzMmE1ZDIuLmM4NGQ1Yjg0Mzk4NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3N5bmMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfc3luYy5jCkBAIC0yMTAsNyArMjEwLDcgQEAgaW50IGFtZGdwdV9zeW5jX3Jlc3Yoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdCBhbWRncHVfc3luYyAqc3luYywKIAkJcmV0
dXJuIC1FSU5WQUw7CiAKIAkvKiBhbHdheXMgc3luYyB0byB0aGUgZXhjbHVzaXZlIGZlbmNlICov
Ci0JZiA9IGRtYV9yZXN2X2dldF9leGNsKHJlc3YpOworCWYgPSBkbWFfcmVzdl9leGNsdXNpdmUo
cmVzdik7CiAJciA9IGFtZGdwdV9zeW5jX2ZlbmNlKHN5bmMsIGYpOwogCiAJZmxpc3QgPSBkbWFf
cmVzdl9nZXRfbGlzdChyZXN2KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2
L2V0bmF2aXZfZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9ldG5hdml2X2dlbS5jCmlu
ZGV4IGRiNjlmMTlhYjViYy4uZDRmNTRkZWE4YWMxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vZXRuYXZpdi9ldG5hdml2X2dlbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0
bmF2aXZfZ2VtLmMKQEAgLTQ3MSw3ICs0NzEsNyBAQCBzdGF0aWMgdm9pZCBldG5hdml2X2dlbV9k
ZXNjcmliZShzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iaiwgc3RydWN0IHNlcV9maWxlICptKQog
CQl9CiAJfQogCi0JZmVuY2UgPSByY3VfZGVyZWZlcmVuY2Uocm9iai0+ZmVuY2VfZXhjbCk7CisJ
ZmVuY2UgPSBkbWFfcmVzdl9leGNsdXNpdmUocm9iaik7CiAJaWYgKGZlbmNlKQogCQlldG5hdml2
X2dlbV9kZXNjcmliZV9mZW5jZShmZW5jZSwgIkV4Y2x1c2l2ZSIsIG0pOwogCXJjdV9yZWFkX3Vu
bG9jaygpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2J1
c3kuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9idXN5LmMKaW5kZXggMjUy
MzVlZjYzMGMxLi4wMjMxMmEwYzNhMzYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9idXN5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVf
Z2VtX2J1c3kuYwpAQCAtMTEzLDggKzExMyw3IEBAIGk5MTVfZ2VtX2J1c3lfaW9jdGwoc3RydWN0
IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwKIAlzZXEgPSByYXdfcmVhZF9zZXFjb3VudCgm
b2JqLT5iYXNlLnJlc3YtPnNlcSk7CiAKIAkvKiBUcmFuc2xhdGUgdGhlIGV4Y2x1c2l2ZSBmZW5j
ZSB0byB0aGUgUkVBRCAqYW5kKiBXUklURSBlbmdpbmUgKi8KLQlhcmdzLT5idXN5ID0KLQkJYnVz
eV9jaGVja193cml0ZXIocmN1X2RlcmVmZXJlbmNlKG9iai0+YmFzZS5yZXN2LT5mZW5jZV9leGNs
KSk7CisJYXJncy0+YnVzeSA9IGJ1c3lfY2hlY2tfd3JpdGVyKGRtYV9yZXN2X2V4Y2x1c2l2ZShv
YmotPmJhc2UucmVzdikpOwogCiAJLyogVHJhbnNsYXRlIHNoYXJlZCBmZW5jZXMgdG8gUkVBRCBz
ZXQgb2YgZW5naW5lcyAqLwogCWxpc3QgPSByY3VfZGVyZWZlcmVuY2Uob2JqLT5iYXNlLnJlc3Yt
PmZlbmNlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vbXNtX2dlbS5jIGIvZHJp
dmVycy9ncHUvZHJtL21zbS9tc21fZ2VtLmMKaW5kZXggYjE5OTk0MjI2NmEyLi45OWI4Y2VmYjAw
NzIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vbXNtX2dlbS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9tc20vbXNtX2dlbS5jCkBAIC04MDUsNyArODA1LDcgQEAgaW50IG1zbV9nZW1f
c3luY19vYmplY3Qoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmosCiAKIAlmb2JqID0gZG1hX3Jl
c3ZfZ2V0X2xpc3Qob2JqLT5yZXN2KTsKIAlpZiAoIWZvYmogfHwgKGZvYmotPnNoYXJlZF9jb3Vu
dCA9PSAwKSkgewotCQlmZW5jZSA9IGRtYV9yZXN2X2dldF9leGNsKG9iai0+cmVzdik7CisJCWZl
bmNlID0gZG1hX3Jlc3ZfZXhjbHVzaXZlKG9iai0+cmVzdik7CiAJCS8qIGRvbid0IG5lZWQgdG8g
d2FpdCBvbiBvdXIgb3duIGZlbmNlcywgc2luY2UgcmluZyBpcyBmaWZvICovCiAJCWlmIChmZW5j
ZSAmJiAoZmVuY2UtPmNvbnRleHQgIT0gZmN0eC0+Y29udGV4dCkpIHsKIAkJCXJldCA9IGRtYV9m
ZW5jZV93YWl0KGZlbmNlLCB0cnVlKTsKQEAgLTEwMjEsNyArMTAyMSw3IEBAIHZvaWQgbXNtX2dl
bV9kZXNjcmliZShzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iaiwgc3RydWN0IHNlcV9maWxlICpt
LAogCQl9CiAJfQogCi0JZmVuY2UgPSByY3VfZGVyZWZlcmVuY2Uocm9iai0+ZmVuY2VfZXhjbCk7
CisJZmVuY2UgPSBkbWFfcmVzdl9leGNsdXNpdmUocm9iaik7CiAJaWYgKGZlbmNlKQogCQlkZXNj
cmliZV9mZW5jZShmZW5jZSwgIkV4Y2x1c2l2ZSIsIG0pOwogCXJjdV9yZWFkX3VubG9jaygpOwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9iby5jIGIvZHJpdmVy
cy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9iby5jCmluZGV4IDdhMjYyNGMwYmE0Yy4uYWQzMGE2
YTEwMGI5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X2JvLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9iby5jCkBAIC05NTUsNyArOTU1
LDcgQEAgbm91dmVhdV9ib192bV9jbGVhbnVwKHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8s
CiB7CiAJc3RydWN0IG5vdXZlYXVfZHJtICpkcm0gPSBub3V2ZWF1X2JkZXYoYm8tPmJkZXYpOwog
CXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBkcm0tPmRldjsKLQlzdHJ1Y3QgZG1hX2ZlbmNlICpm
ZW5jZSA9IGRtYV9yZXN2X2dldF9leGNsKGJvLT5iYXNlLnJlc3YpOworCXN0cnVjdCBkbWFfZmVu
Y2UgKmZlbmNlID0gZG1hX3Jlc3ZfZXhjbHVzaXZlKGJvLT5iYXNlLnJlc3YpOwogCiAJbnYxMF9i
b19wdXRfdGlsZV9yZWdpb24oZGV2LCAqb2xkX3RpbGUsIGZlbmNlKTsKIAkqb2xkX3RpbGUgPSBu
ZXdfdGlsZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZmVu
Y2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZmVuY2UuYwppbmRleCBlNWRj
YmY2N2RlN2UuLmE2Y2IzNTE4MWFlZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL25vdXZl
YXUvbm91dmVhdV9mZW5jZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVf
ZmVuY2UuYwpAQCAtMzU2LDcgKzM1Niw3IEBAIG5vdXZlYXVfZmVuY2Vfc3luYyhzdHJ1Y3Qgbm91
dmVhdV9ibyAqbnZibywgc3RydWN0IG5vdXZlYXVfY2hhbm5lbCAqY2hhbiwgYm9vbCBlCiAJfQog
CiAJZm9iaiA9IGRtYV9yZXN2X2dldF9saXN0KHJlc3YpOwotCWZlbmNlID0gZG1hX3Jlc3ZfZ2V0
X2V4Y2wocmVzdik7CisJZmVuY2UgPSBkbWFfcmVzdl9leGNsdXNpdmUocmVzdik7CiAKIAlpZiAo
ZmVuY2UgJiYgKCFleGNsdXNpdmUgfHwgIWZvYmogfHwgIWZvYmotPnNoYXJlZF9jb3VudCkpIHsK
IAkJc3RydWN0IG5vdXZlYXVfY2hhbm5lbCAqcHJldiA9IE5VTEw7CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFk
ZW9uL3JhZGVvbl9kaXNwbGF5LmMKaW5kZXggNjUyYWY3YTEzNGJkLi41N2M5MTBlNWFlNzcgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX2Rpc3BsYXkuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9kaXNwbGF5LmMKQEAgLTUzMyw3ICs1MzMsNyBA
QCBzdGF0aWMgaW50IHJhZGVvbl9jcnRjX3BhZ2VfZmxpcF90YXJnZXQoc3RydWN0IGRybV9jcnRj
ICpjcnRjLAogCQlEUk1fRVJST1IoImZhaWxlZCB0byBwaW4gbmV3IHJibyBidWZmZXIgYmVmb3Jl
IGZsaXBcbiIpOwogCQlnb3RvIGNsZWFudXA7CiAJfQotCXdvcmstPmZlbmNlID0gZG1hX2ZlbmNl
X2dldChkbWFfcmVzdl9nZXRfZXhjbChuZXdfcmJvLT50Ym8uYmFzZS5yZXN2KSk7CisJd29yay0+
ZmVuY2UgPSBkbWFfZmVuY2VfZ2V0KGRtYV9yZXN2X2V4Y2x1c2l2ZShuZXdfcmJvLT50Ym8uYmFz
ZS5yZXN2KSk7CiAJcmFkZW9uX2JvX2dldF90aWxpbmdfZmxhZ3MobmV3X3JibywgJnRpbGluZ19m
bGFncywgTlVMTCk7CiAJcmFkZW9uX2JvX3VucmVzZXJ2ZShuZXdfcmJvKTsKIApkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fc3luYy5jIGIvZHJpdmVycy9ncHUvZHJt
L3JhZGVvbi9yYWRlb25fc3luYy5jCmluZGV4IDVkMzMwMjk0NTA3Ni4uZTQ3NmY5MGVmMWMxIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9zeW5jLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fc3luYy5jCkBAIC05OCw3ICs5OCw3IEBAIGludCBy
YWRlb25fc3luY19yZXN2KHN0cnVjdCByYWRlb25fZGV2aWNlICpyZGV2LAogCWludCByID0gMDsK
IAogCS8qIGFsd2F5cyBzeW5jIHRvIHRoZSBleGNsdXNpdmUgZmVuY2UgKi8KLQlmID0gZG1hX3Jl
c3ZfZ2V0X2V4Y2wocmVzdik7CisJZiA9IGRtYV9yZXN2X2V4Y2x1c2l2ZShyZXN2KTsKIAlmZW5j
ZSA9IGYgPyB0b19yYWRlb25fZmVuY2UoZikgOiBOVUxMOwogCWlmIChmZW5jZSAmJiBmZW5jZS0+
cmRldiA9PSByZGV2KQogCQlyYWRlb25fc3luY19mZW5jZShzeW5jLCBmZW5jZSk7CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl91dmQuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcmFkZW9uX3V2ZC5jCmluZGV4IGRmYTlmZGJlOThkYS4uMDJkNGJiZGM5MTExIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl91dmQuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl91dmQuYwpAQCAtNDc3LDcgKzQ3Nyw3IEBAIHN0YXRp
YyBpbnQgcmFkZW9uX3V2ZF9jc19tc2coc3RydWN0IHJhZGVvbl9jc19wYXJzZXIgKnAsIHN0cnVj
dCByYWRlb25fYm8gKmJvLAogCQlyZXR1cm4gLUVJTlZBTDsKIAl9CiAKLQlmID0gZG1hX3Jlc3Zf
Z2V0X2V4Y2woYm8tPnRiby5iYXNlLnJlc3YpOworCWYgPSBkbWFfcmVzdl9leGNsdXNpdmUoYm8t
PnRiby5iYXNlLnJlc3YpOwogCWlmIChmKSB7CiAJCXIgPSByYWRlb25fZmVuY2Vfd2FpdCgoc3Ry
dWN0IHJhZGVvbl9mZW5jZSAqKWYsIGZhbHNlKTsKIAkJaWYgKHIpIHsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5j
CmluZGV4IGNhMWIwOThiNmE1Ni4uOTVmYTczZWY5MGZiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vdHRtL3R0bV9iby5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvLmMKQEAg
LTI2MCw3ICsyNjAsNyBAQCBzdGF0aWMgdm9pZCB0dG1fYm9fZmx1c2hfYWxsX2ZlbmNlcyhzdHJ1
Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvKQogCiAJcmN1X3JlYWRfbG9jaygpOwogCWZvYmogPSBy
Y3VfZGVyZWZlcmVuY2UocmVzdi0+ZmVuY2UpOwotCWZlbmNlID0gcmN1X2RlcmVmZXJlbmNlKHJl
c3YtPmZlbmNlX2V4Y2wpOworCWZlbmNlID0gZG1hX3Jlc3ZfZXhjbHVzaXZlKHJlc3YpOwogCWlm
IChmZW5jZSAmJiAhZmVuY2UtPm9wcy0+c2lnbmFsZWQpCiAJCWRtYV9mZW5jZV9lbmFibGVfc3df
c2lnbmFsaW5nKGZlbmNlKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92
bXdnZnhfcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3Jlc291cmNl
LmMKaW5kZXggNjJlYTkyMGFkZGMzLi5jNzhmMzhlZTFjMjAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS92bXdnZngvdm13Z2Z4X3Jlc291cmNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3Zt
d2dmeC92bXdnZnhfcmVzb3VyY2UuYwpAQCAtMTE2Niw3ICsxMTY2LDcgQEAgaW50IHZtd19yZXNv
dXJjZXNfY2xlYW4oc3RydWN0IHZtd19idWZmZXJfb2JqZWN0ICp2Ym8sIHBnb2ZmX3Qgc3RhcnQs
CiAJCWlmIChiby0+bW92aW5nKQogCQkJZG1hX2ZlbmNlX3B1dChiby0+bW92aW5nKTsKIAkJYm8t
Pm1vdmluZyA9IGRtYV9mZW5jZV9nZXQKLQkJCShkbWFfcmVzdl9nZXRfZXhjbChiby0+YmFzZS5y
ZXN2KSk7CisJCQkoZG1hX3Jlc3ZfZXhjbHVzaXZlKGJvLT5iYXNlLnJlc3YpKTsKIAl9CiAKIAly
ZXR1cm4gMDsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvZG1hLXJlc3YuaCBiL2luY2x1ZGUv
bGludXgvZG1hLXJlc3YuaAppbmRleCBmMzJhM2QxNzY1MTMuLjc1NDllYzVlYjM1YyAxMDA2NDQK
LS0tIGEvaW5jbHVkZS9saW51eC9kbWEtcmVzdi5oCisrKyBiL2luY2x1ZGUvbGludXgvZG1hLXJl
c3YuaApAQCAtMjI2LDIyICsyMjYsMTkgQEAgc3RhdGljIGlubGluZSB2b2lkIGRtYV9yZXN2X3Vu
bG9jayhzdHJ1Y3QgZG1hX3Jlc3YgKm9iaikKIH0KIAogLyoqCi0gKiBkbWFfcmVzdl9nZXRfZXhj
bCAtIGdldCB0aGUgcmVzZXJ2YXRpb24gb2JqZWN0J3MKLSAqIGV4Y2x1c2l2ZSBmZW5jZSwgd2l0
aCB1cGRhdGUtc2lkZSBsb2NrIGhlbGQKKyAqIGRtYV9yZXN2X2V4Y2x1c2l2ZSAtIHJldHVybiB0
aGUgb2JqZWN0J3MgZXhjbHVzaXZlIGZlbmNlCiAgKiBAb2JqOiB0aGUgcmVzZXJ2YXRpb24gb2Jq
ZWN0CiAgKgotICogUmV0dXJucyB0aGUgZXhjbHVzaXZlIGZlbmNlIChpZiBhbnkpLiAgRG9lcyBO
T1QgdGFrZSBhCi0gKiByZWZlcmVuY2UuIFdyaXRlcnMgbXVzdCBob2xkIG9iai0+bG9jaywgcmVh
ZGVycyBtYXkgb25seQotICogaG9sZCBhIFJDVSByZWFkIHNpZGUgbG9jay4KKyAqIFJldHVybnMg
dGhlIGV4Y2x1c2l2ZSBmZW5jZSAoaWYgYW55KS4gQ2FsbGVyIG11c3QgZWl0aGVyIGhvbGQgdGhl
IG9iamVjdHMKKyAqIGxvY2sgb3IgdGhlIHJjdSByZWFkIHNpZGUgbG9jay4KICAqCiAgKiBSRVRV
Uk5TCiAgKiBUaGUgZXhjbHVzaXZlIGZlbmNlIG9yIE5VTEwKICAqLwogc3RhdGljIGlubGluZSBz
dHJ1Y3QgZG1hX2ZlbmNlICoKLWRtYV9yZXN2X2dldF9leGNsKHN0cnVjdCBkbWFfcmVzdiAqb2Jq
KQorZG1hX3Jlc3ZfZXhjbHVzaXZlKHN0cnVjdCBkbWFfcmVzdiAqb2JqKQogewotCXJldHVybiBy
Y3VfZGVyZWZlcmVuY2VfcHJvdGVjdGVkKG9iai0+ZmVuY2VfZXhjbCwKLQkJCQkJIGRtYV9yZXN2
X2hlbGQob2JqKSk7CisJcmV0dXJuIHJjdV9kZXJlZmVyZW5jZV9jaGVjayhvYmotPmZlbmNlX2V4
Y2wsIGRtYV9yZXN2X2hlbGQob2JqKSk7CiB9CiAKIC8qKgotLSAKMi4yNS4xCgpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW5hcm8tbW0tc2lnIG1haWxp
bmcgbGlzdApMaW5hcm8tbW0tc2lnQGxpc3RzLmxpbmFyby5vcmcKaHR0cHM6Ly9saXN0cy5saW5h
cm8ub3JnL21haWxtYW4vbGlzdGluZm8vbGluYXJvLW1tLXNpZwo=
