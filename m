Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id B7EE61DAF1B
	for <lists+linaro-mm-sig@lfdr.de>; Wed, 20 May 2020 11:44:27 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 783F965F89
	for <lists+linaro-mm-sig@lfdr.de>; Wed, 20 May 2020 09:44:26 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 658B365F93; Wed, 20 May 2020 09:44:26 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-7.9 required=5.0 tests=BAYES_00,MAILING_LIST_MULTI,
	RCVD_IN_DNSWL_HI,SPF_HELO_NONE autolearn=disabled version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id E661465F8A;
	Wed, 20 May 2020 09:43:20 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 12B2E61778
 for <linaro-mm-sig@lists.linaro.org>; Wed, 20 May 2020 09:43:18 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id F0D3665F8A; Wed, 20 May 2020 09:43:17 +0000 (UTC)
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [85.220.165.71])
 by lists.linaro.org (Postfix) with ESMTPS id 9FD4E61778
 for <linaro-mm-sig@lists.linaro.org>; Wed, 20 May 2020 09:43:15 +0000 (UTC)
Received: from gallifrey.ext.pengutronix.de
 ([2001:67c:670:201:5054:ff:fe8d:eefb] helo=localhost)
 by metis.ext.pengutronix.de with esmtps
 (TLS1.3:ECDHE_RSA_AES_256_GCM_SHA384:256) (Exim 4.92)
 (envelope-from <l.stach@pengutronix.de>)
 id 1jbLFF-0005cD-JY; Wed, 20 May 2020 11:42:37 +0200
Message-ID: <53258cd99caaf1199036737f8fad6cc097939567.camel@pengutronix.de>
From: Lucas Stach <l.stach@pengutronix.de>
To: Shengjiu Wang <shengjiu.wang@gmail.com>
Date: Wed, 20 May 2020 11:42:32 +0200
In-Reply-To: <CAA+D8APhHvA39wmCayeCsAEKmOJ0n7qOQiT1tZmFHr4+yASgTw@mail.gmail.com>
References: <1589881301-4143-1-git-send-email-shengjiu.wang@nxp.com>
 <0866cd8cdb0c22f0b2a6814c4dafa29202aad5f3.camel@pengutronix.de>
 <CAA+D8APhHvA39wmCayeCsAEKmOJ0n7qOQiT1tZmFHr4+yASgTw@mail.gmail.com>
User-Agent: Evolution 3.36.2 (3.36.2-1.fc32) 
MIME-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:201:5054:ff:fe8d:eefb
X-SA-Exim-Mail-From: l.stach@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: linaro-mm-sig@lists.linaro.org
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: linaro-mm-sig@lists.linaro.org, Linux-ALSA <alsa-devel@alsa-project.org>,
 linuxppc-dev@lists.ozlabs.org, linux-kernel <linux-kernel@vger.kernel.org>,
 Timur Tabi <timur@kernel.org>, Xiubo Li <Xiubo.Lee@gmail.com>,
 shawnguo@kernel.org, Shengjiu Wang <shengjiu.wang@nxp.com>,
 Takashi Iwai <tiwai@suse.com>, Liam Girdwood <lgirdwood@gmail.com>,
 dri-devel@lists.freedesktop.org, perex@perex.cz,
 Nicolin Chen <nicoleotsuka@gmail.com>, Mark Brown <broonie@kernel.org>,
 linux-imx@nxp.com, kernel@pengutronix.de, Fabio Estevam <festevam@gmail.com>,
 s.hauer@pengutronix.de, linux-arm-kernel@lists.infradead.org,
 linux-media@vger.kernel.org
Subject: Re: [Linaro-mm-sig] [PATCH] ASoC: fsl: imx-pcm-dma: Don't request
 dma channel in probe
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

QW0gTWl0dHdvY2gsIGRlbiAyMC4wNS4yMDIwLCAxNjoyMCArMDgwMCBzY2hyaWViIFNoZW5naml1
IFdhbmc6Cj4gSGkKPiAKPiBPbiBUdWUsIE1heSAxOSwgMjAyMCBhdCA2OjA0IFBNIEx1Y2FzIFN0
YWNoIDxsLnN0YWNoQHBlbmd1dHJvbml4LmRlPiB3cm90ZToKPiA+IEFtIERpZW5zdGFnLCBkZW4g
MTkuMDUuMjAyMCwgMTc6NDEgKzA4MDAgc2NocmllYiBTaGVuZ2ppdSBXYW5nOgo+ID4gPiBUaGVy
ZSBhcmUgdHdvIHJlcXVpcmVtZW50cyB0aGF0IHdlIG5lZWQgdG8gbW92ZSB0aGUgcmVxdWVzdAo+
ID4gPiBvZiBkbWEgY2hhbm5lbCBmcm9tIHByb2JlIHRvIG9wZW4uCj4gPiAKPiA+IEhvdyBkbyB5
b3UgaGFuZGxlIC1FUFJPQkVfREVGRVIgcmV0dXJuIGNvZGUgZnJvbSB0aGUgY2hhbm5lbCByZXF1
ZXN0IGlmCj4gPiB5b3UgZG9uJ3QgZG8gaXQgaW4gcHJvYmU/Cj4gCj4gSSB1c2UgdGhlIGRtYV9y
ZXF1ZXN0X3NsYXZlX2NoYW5uZWwgb3IgZG1hX3JlcXVlc3RfY2hhbm5lbCBpbnN0ZWFkCj4gb2Yg
ZG1hZW5naW5lX3BjbV9yZXF1ZXN0X2NoYW5fb2YuIHNvIHRoZXJlIHNob3VsZCBiZSBub3QgLUVQ
Uk9CRV9ERUZFUgo+IHJldHVybiBjb2RlLgoKVGhpcyBpcyBhIHByZXR0eSB3ZWFrIGFyZ3VtZW50
LiBUaGUgZG1hZW5naW5lIGRldmljZSBtaWdodCBwcm9iZSBhZnRlcgp5b3UgdHJ5IHRvIGdldCB0
aGUgY2hhbm5lbC4gVXNpbmcgYSBmdW5jdGlvbiB0byByZXF1ZXN0IHRoZSBjaGFubmVsCnRoYXQg
ZG9lc24ndCBhbGxvdyB5b3UgdG8gaGFuZGxlIHByb2JlIGRlZmVycmFsIGlzIElNSE8gYSBidWcg
YW5kCnNob3VsZCBiZSBmaXhlZCwgaW5zdGVhZCBvZiBidWlsZGluZyBldmVuIG1vcmUgYXNzdW1w
dGlvbnMgb24gdG9wIG9mCml0LgoKPiA+ID4gLSBXaGVuIGRtYSBkZXZpY2UgYmluZHMgd2l0aCBw
b3dlci1kb21haW5zLCB0aGUgcG93ZXIgd2lsbAo+ID4gPiBiZSBlbmFibGVkIHdoZW4gd2UgcmVx
dWVzdCBkbWEgY2hhbm5lbC4gSWYgdGhlIHJlcXVlc3Qgb2YgZG1hCj4gPiA+IGNoYW5uZWwgaGFw
cGVuIG9uIHByb2JlLCB0aGVuIHRoZSBwb3dlci1kb21haW5zIHdpbGwgYmUgYWx3YXlzCj4gPiA+
IGVuYWJsZWQgYWZ0ZXIga2VybmVsIGJvb3QgdXAsICB3aGljaCBpcyBub3QgZ29vZCBmb3IgcG93
ZXIKPiA+ID4gc2F2aW5nLCAgc28gd2UgbmVlZCB0byBtb3ZlIHRoZSByZXF1ZXN0IG9mIGRtYSBj
aGFubmVsIHRvIC5vcGVuKCk7Cj4gPiAKPiA+IFRoaXMgaXMgY2VydGFpbmx5IHNvbWV0aGluZyB3
aGljaCBjb3VsZCBiZSBmaXhlZCBpbiB0aGUgZG1hZW5naW5lCj4gPiBkcml2ZXIuCj4gCj4gRG1h
IGRyaXZlciBhbHdheXMgY2FsbCB0aGUgcG1fcnVudGltZV9nZXRfc3luYyBpbgo+IGRldmljZV9h
bGxvY19jaGFuX3Jlc291cmNlcywgdGhlIGRldmljZV9hbGxvY19jaGFuX3Jlc291cmNlcyBpcwo+
IGNhbGxlZCB3aGVuIGNoYW5uZWwgaXMgcmVxdWVzdGVkLiBzbyBwb3dlciBpcyBlbmFibGVkIG9u
IGNoYW5uZWwKPiByZXF1ZXN0LgoKU28gd2h5IGNhbid0IHlvdSBmaXggdGhlIGRtYWVuZ2luZSBk
cml2ZXIgdG8gZG8gdGhhdCBSUE0gY2FsbCBhdCBhCmxhdGVyIHRpbWUgd2hlbiB0aGUgY2hhbm5l
bCBpcyBhY3R1YWxseSBnb2luZyB0byBiZSB1c2VkPyBUaGlzIHdpbGwKYWxsb3cgZnVydGhlciBw
b3dlciBzYXZpbmdzIHdpdGggb3RoZXIgc2xhdmUgZGV2aWNlcyB0aGFuIHRoZSBhdWRpbwpQQ00u
CgpSZWdhcmRzLApMdWNhcwoKPiA+ID4gLSBXaXRoIEZFLUJFIGNhc2UsIGlmIHRoZSBkbWEgY2hh
bm5lbCBpcyByZXF1ZXN0ZWQgaW4gcHJvYmUsCj4gPiA+IHRoZW4gdGhlcmUgd2lsbCBiZSBiZWxv
dyBpc3N1ZSwgd2hpY2ggaXMgY2F1c2VkIGJ5IHRoYXQgdGhlCj4gPiA+IGRtYSBjaGFubmVsIHdp
bGwgYmUgcmVxdWVzdGVkIGR1cGxpY2F0ZWx5Cj4gPiAKPiA+IFdoeSBpcyB0aGlzIHJlcXVlc3Rl
ZCBhIHNlY29uZCB0aW1lPyBJcyB0aGlzIGp1c3Qgc29tZSBtaXNzaW5nIGNsZWFudXAKPiA+IG9u
IGEgZGVmZXJyZWQgcHJvYmUgcGF0aD8KPiAKPiBOb3QgcmVsYXRlIHdpdGggZGVmZXJyZWQgcHJv
YmUuICBXaXRoIERNQTEtPkFTUkMtPkRNQTItPkVTQUkgY2FzZSwKPiB0aGUgRE1BMS0+QVNSQy0+
RE1BMiBpcyBpbiBGRSwgIEVTQUkgaXMgaW4gQkUuICBXaGVuIEVTQUkgZHJ2aWVyCj4gcHJvYmUs
ICBETUEzIGNoYW5uZWwgaXMgY3JlYXRlZCB3aXRoIEVTQUkncyAiZG1hOnR4IiAoRE1BMyBjaGFu
bmVsCj4gaXMgbm90IHVzZWQgaW4gdGhpcyBGRS1CRSBjYXNlKS4gICAgV2hlbiBGRS1CRSBzdGFy
dHVwLCBETUEyCj4gY2hhbm5lbCBpcyBjcmVhdGVkLCBpdCBuZWVkcyB0aGUgRVNBSSdzICJkbWE6
dHgiLCBzbyBiZWxvdyB3YXJuaW5nCj4gY29tZXMgb3V0Lgo+IAo+ID4gUmVnYXJkcywKPiA+IEx1
Y2FzCj4gPiAKPiA+ID4gWyAgNjM4LjkwNjI2OF0gc3lzZnM6IGNhbm5vdCBjcmVhdGUgZHVwbGlj
YXRlIGZpbGVuYW1lICcvZGV2aWNlcy9zb2MwL3NvYy8yMDAwMDAwLmJ1cy8yMDAwMDAwLnNwYmEt
YnVzLzIwMjQwMDAuZXNhaS9kbWE6dHgnCj4gPiA+IFsgIDYzOC45MTkwNjFdIENQVTogMSBQSUQ6
IDY3MyBDb21tOiBhcGxheSBOb3QgdGFpbnRlZCA1LjcuMC1yYzEtMTI5NTYtZ2ZjNjRiMjU4NTU5
MyAjMjg3Cj4gPiA+IFsgIDYzOC45MjcxMTNdIEhhcmR3YXJlIG5hbWU6IEZyZWVzY2FsZSBpLk1Y
NiBRdWFkL0R1YWxMaXRlIChEZXZpY2UgVHJlZSkKPiA+ID4gWyAgNjM4LjkzMzY5MF0gWzxjMDEx
MGRkOD5dICh1bndpbmRfYmFja3RyYWNlKSBmcm9tIFs8YzAxMGI4ZWM+XSAoc2hvd19zdGFjaysw
eDEwLzB4MTQpCj4gPiA+IFsgIDYzOC45NDE0NjRdIFs8YzAxMGI4ZWM+XSAoc2hvd19zdGFjaykg
ZnJvbSBbPGMwNTU3ZmMwPl0gKGR1bXBfc3RhY2srMHhlNC8weDExOCkKPiA+ID4gWyAgNjM4Ljk0
ODgwOF0gWzxjMDU1N2ZjMD5dIChkdW1wX3N0YWNrKSBmcm9tIFs8YzAzMmFlYjQ+XSAoc3lzZnNf
d2Fybl9kdXArMHg1MC8weDY0KQo+ID4gPiBbICA2MzguOTU2NDA2XSBbPGMwMzJhZWI0Pl0gKHN5
c2ZzX3dhcm5fZHVwKSBmcm9tIFs8YzAzMmIxYTg+XSAoc3lzZnNfZG9fY3JlYXRlX2xpbmtfc2Qr
MHhjOC8weGQ0KQo+ID4gPiBbICA2MzguOTY1MTM0XSBbPGMwMzJiMWE4Pl0gKHN5c2ZzX2RvX2Ny
ZWF0ZV9saW5rX3NkKSBmcm9tIFs8YzA1ZGM2Njg+XSAoZG1hX3JlcXVlc3RfY2hhbisweGIwLzB4
MjEwKQo+ID4gPiBbICA2MzguOTc0MTIwXSBbPGMwNWRjNjY4Pl0gKGRtYV9yZXF1ZXN0X2NoYW4p
IGZyb20gWzxjMDVkYzdkMD5dIChkbWFfcmVxdWVzdF9zbGF2ZV9jaGFubmVsKzB4OC8weDE0KQo+
ID4gPiBbICA2MzguOTgzMTExXSBbPGMwNWRjN2QwPl0gKGRtYV9yZXF1ZXN0X3NsYXZlX2NoYW5u
ZWwpIGZyb20gWzxjMDlkNTU0OD5dIChmc2xfYXNyY19kbWFfaHdfcGFyYW1zKzB4MWUwLzB4NDM4
KQo+ID4gPiBbICA2MzguOTkyODgxXSBbPGMwOWQ1NTQ4Pl0gKGZzbF9hc3JjX2RtYV9od19wYXJh
bXMpIGZyb20gWzxjMDljMTY1ND5dIChzb2NfcGNtX2h3X3BhcmFtcysweDRhMC8weDZhOCkKPiA+
ID4gWyAgNjM5LjAwMTk1Ml0gWzxjMDljMTY1ND5dIChzb2NfcGNtX2h3X3BhcmFtcykgZnJvbSBb
PGMwOWMzOWQ0Pl0gKGRwY21fZmVfZGFpX2h3X3BhcmFtcysweDcwLzB4ZTQpCj4gPiA+IFsgIDYz
OS4wMTA3NjVdIFs8YzA5YzM5ZDQ+XSAoZHBjbV9mZV9kYWlfaHdfcGFyYW1zKSBmcm9tIFs8YzA5
OWIyNzQ+XSAoc25kX3BjbV9od19wYXJhbXMrMHgxNTgvMHg0MTgpCj4gPiA+IFsgIDYzOS4wMTk3
NTBdIFs8YzA5OWIyNzQ+XSAoc25kX3BjbV9od19wYXJhbXMpIGZyb20gWzxjMDk5YzVhMD5dIChz
bmRfcGNtX2lvY3RsKzB4NzM0LzB4MTgzYykKPiA+ID4gWyAgNjM5LjAyODEyOV0gWzxjMDk5YzVh
MD5dIChzbmRfcGNtX2lvY3RsKSBmcm9tIFs8YzAyOWZmOTQ+XSAoa3N5c19pb2N0bCsweDJhYy8w
eGI5OCkKPiA+ID4gWyAgNjM5LjAzNTgxMl0gWzxjMDI5ZmY5ND5dIChrc3lzX2lvY3RsKSBmcm9t
IFs8YzAxMDAwODA+XSAocmV0X2Zhc3Rfc3lzY2FsbCsweDAvMHgyOCkKPiA+ID4gWyAgNjM5LjA0
MzQ5MF0gRXhjZXB0aW9uIHN0YWNrKDB4ZWM1MjlmYTggdG8gMHhlYzUyOWZmMCkKPiA+ID4gWyAg
NjM5LjA0ODU2NV0gOWZhMDogICAgICAgICAgICAgICAgICAgYmVlODQ2NTAgMDEzMjE4NzAgMDAw
MDAwMDQgYzI1YzQxMTEgYmVlODQ2NTAgMDAwMjAwMGYKPiA+ID4gWyAgNjM5LjA1Njc2Nl0gOWZj
MDogYmVlODQ2NTAgMDEzMjE4NzAgMDEzMjE4MjAgMDAwMDAwMzYgMDAwMDFmNDAgMDAwMDAwMDAg
MDAwMmMyZjggMDAwMDAwMDMKPiA+ID4gWyAgNjM5LjA2NDk2NF0gOWZlMDogYjZmNDgzZmMgYmVl
ODQ1MWMgYjZlZTI2NTUgYjZlMWRjZjgKPiA+ID4gWyAgNjM5LjA3MDMzOV0gZnNsLWVzYWktZGFp
IDIwMjQwMDAuZXNhaTogQ2Fubm90IGNyZWF0ZSBETUEgZG1hOnR4IHN5bWxpbmsKPiA+ID4gCj4g
PiA+IFNpZ25lZC1vZmYtYnk6IFNoZW5naml1IFdhbmcgPHNoZW5naml1LndhbmdAbnhwLmNvbT4K
PiA+ID4gLS0tCj4gPiA+ICBzb3VuZC9zb2MvZnNsL2lteC1wY20tZG1hLmMgfCAxNzMgKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tCj4gPiA+ICAxIGZpbGUgY2hhbmdlZCwgMTU5
IGluc2VydGlvbnMoKyksIDE0IGRlbGV0aW9ucygtKQo+ID4gPiAKPiA+ID4gZGlmZiAtLWdpdCBh
L3NvdW5kL3NvYy9mc2wvaW14LXBjbS1kbWEuYyBiL3NvdW5kL3NvYy9mc2wvaW14LXBjbS1kbWEu
Ywo+ID4gPiBpbmRleCAwNGE5YmM3NDkwMTYuLmRhZTUzYjM4NGRmNCAxMDA2NDQKPiA+ID4gLS0t
IGEvc291bmQvc29jL2ZzbC9pbXgtcGNtLWRtYS5jCj4gPiA+ICsrKyBiL3NvdW5kL3NvYy9mc2wv
aW14LXBjbS1kbWEuYwo+ID4gPiBAQCAtMTEsNiArMTEsNyBAQAo+ID4gPiAgI2luY2x1ZGUgPGxp
bnV4L2RtYWVuZ2luZS5oPgo+ID4gPiAgI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4gPiA+ICAj
aW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cj4gPiA+ICsjaW5jbHVkZSA8bGludXgvZG1hLW1hcHBp
bmcuaD4KPiA+ID4gCj4gPiA+ICAjaW5jbHVkZSA8c291bmQvY29yZS5oPgo+ID4gPiAgI2luY2x1
ZGUgPHNvdW5kL3BjbS5oPgo+ID4gPiBAQCAtMjksMjQgKzMwLDE2OCBAQCBzdGF0aWMgYm9vbCBm
aWx0ZXIoc3RydWN0IGRtYV9jaGFuICpjaGFuLCB2b2lkICpwYXJhbSkKPiA+ID4gICAgICAgcmV0
dXJuIHRydWU7Cj4gPiA+ICB9Cj4gPiA+IAo+ID4gPiAtc3RhdGljIGNvbnN0IHN0cnVjdCBzbmRf
ZG1hZW5naW5lX3BjbV9jb25maWcgaW14X2RtYWVuZ2luZV9wY21fY29uZmlnID0gewo+ID4gPiAt
ICAgICAucHJlcGFyZV9zbGF2ZV9jb25maWcgPSBzbmRfZG1hZW5naW5lX3BjbV9wcmVwYXJlX3Ns
YXZlX2NvbmZpZywKPiA+ID4gLSAgICAgLmNvbXBhdF9maWx0ZXJfZm4gPSBmaWx0ZXIsCj4gPiA+
IC19Owo+ID4gPiArc3RhdGljIGludCBpbXhfcGNtX2h3X3BhcmFtcyhzdHJ1Y3Qgc25kX3NvY19j
b21wb25lbnQgKmNvbXBvbmVudCwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IHNuZF9wY21fc3Vic3RyZWFtICpzdWJzdHJlYW0sCj4gPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgIHN0cnVjdCBzbmRfcGNtX2h3X3BhcmFtcyAqcGFyYW1zKQo+ID4gPiArewo+ID4g
PiArICAgICBzdHJ1Y3Qgc25kX3BjbV9ydW50aW1lICpydW50aW1lID0gc3Vic3RyZWFtLT5ydW50
aW1lOwo+ID4gPiArICAgICBzdHJ1Y3Qgc25kX3NvY19wY21fcnVudGltZSAqcnRkID0gc3Vic3Ry
ZWFtLT5wcml2YXRlX2RhdGE7Cj4gPiA+ICsgICAgIHN0cnVjdCBzbmRfc29jX2RhaSAqY3B1X2Rh
aSA9IGFzb2NfcnRkX3RvX2NwdShydGQsIDApOwo+ID4gPiArICAgICBzdHJ1Y3Qgc25kX2RtYWVu
Z2luZV9kYWlfZG1hX2RhdGEgKmRtYV9kYXRhOwo+ID4gPiArICAgICBzdHJ1Y3QgZG1hX3NsYXZl
X2NvbmZpZyBjb25maWc7Cj4gPiA+ICsgICAgIHN0cnVjdCBkbWFfY2hhbiAqY2hhbjsKPiA+ID4g
KyAgICAgaW50IHJldCA9IDA7Cj4gPiA+IAo+ID4gPiAtaW50IGlteF9wY21fZG1hX2luaXQoc3Ry
dWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwgc2l6ZV90IHNpemUpCj4gPiA+ICsgICAgIHNuZF9w
Y21fc2V0X3J1bnRpbWVfYnVmZmVyKHN1YnN0cmVhbSwgJnN1YnN0cmVhbS0+ZG1hX2J1ZmZlcik7
Cj4gPiA+ICsgICAgIHJ1bnRpbWUtPmRtYV9ieXRlcyA9IHBhcmFtc19idWZmZXJfYnl0ZXMocGFy
YW1zKTsKPiA+ID4gKwo+ID4gPiArICAgICBjaGFuID0gc25kX2RtYWVuZ2luZV9wY21fZ2V0X2No
YW4oc3Vic3RyZWFtKTsKPiA+ID4gKyAgICAgaWYgKCFjaGFuKQo+ID4gPiArICAgICAgICAgICAg
IHJldHVybiAtRUlOVkFMOwo+ID4gPiArCj4gPiA+ICsgICAgIHJldCA9IHNuZF9od3BhcmFtc190
b19kbWFfc2xhdmVfY29uZmlnKHN1YnN0cmVhbSwgcGFyYW1zLCAmY29uZmlnKTsKPiA+ID4gKyAg
ICAgaWYgKHJldCkKPiA+ID4gKyAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gPiArCj4gPiA+
ICsgICAgIGRtYV9kYXRhID0gc25kX3NvY19kYWlfZ2V0X2RtYV9kYXRhKGNwdV9kYWksIHN1YnN0
cmVhbSk7Cj4gPiA+ICsgICAgIGlmICghZG1hX2RhdGEpCj4gPiA+ICsgICAgICAgICAgICAgcmV0
dXJuIC1FSU5WQUw7Cj4gPiA+ICsKPiA+ID4gKyAgICAgc25kX2RtYWVuZ2luZV9wY21fc2V0X2Nv
bmZpZ19mcm9tX2RhaV9kYXRhKHN1YnN0cmVhbSwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRtYV9kYXRhLAo+ID4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmNvbmZpZyk7Cj4gPiA+ICsgICAg
IHJldHVybiBkbWFlbmdpbmVfc2xhdmVfY29uZmlnKGNoYW4sICZjb25maWcpOwo+ID4gPiArfQo+
ID4gPiArCj4gPiA+ICtzdGF0aWMgaW50IGlteF9wY21faHdfZnJlZShzdHJ1Y3Qgc25kX3NvY19j
b21wb25lbnQgKmNvbXBvbmVudCwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCBzbmRfcGNtX3N1YnN0cmVhbSAqc3Vic3RyZWFtKQo+ID4gPiAgewo+ID4gPiAtICAgICBzdHJ1
Y3Qgc25kX2RtYWVuZ2luZV9wY21fY29uZmlnICpjb25maWc7Cj4gPiA+ICsgICAgIHNuZF9wY21f
c2V0X3J1bnRpbWVfYnVmZmVyKHN1YnN0cmVhbSwgTlVMTCk7Cj4gPiA+ICsgICAgIHJldHVybiAw
Owo+ID4gPiArfQo+ID4gPiArCj4gPiA+ICtzdGF0aWMgc25kX3BjbV91ZnJhbWVzX3QgaW14X3Bj
bV9wb2ludGVyKHN0cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcG9uZW50LAo+ID4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qgc25kX3BjbV9zdWJzdHJl
YW0gKnN1YnN0cmVhbSkKPiA+ID4gK3sKPiA+ID4gKyAgICAgcmV0dXJuIHNuZF9kbWFlbmdpbmVf
cGNtX3BvaW50ZXIoc3Vic3RyZWFtKTsKPiA+ID4gK30KPiA+ID4gKwo+ID4gPiArc3RhdGljIGlu
dCBpbXhfcGNtX3RyaWdnZXIoc3RydWN0IHNuZF9zb2NfY29tcG9uZW50ICpjb21wb25lbnQsCj4g
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qgc25kX3BjbV9zdWJzdHJlYW0gKnN1
YnN0cmVhbSwgaW50IGNtZCkKPiA+ID4gK3sKPiA+ID4gKyAgICAgcmV0dXJuIHNuZF9kbWFlbmdp
bmVfcGNtX3RyaWdnZXIoc3Vic3RyZWFtLCBjbWQpOwo+ID4gPiArfQo+ID4gPiArCj4gPiA+ICtz
dGF0aWMgaW50IGlteF9wY21fb3BlbihzdHJ1Y3Qgc25kX3NvY19jb21wb25lbnQgKmNvbXBvbmVu
dCwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBzbmRfcGNtX3N1YnN0cmVhbSAq
c3Vic3RyZWFtKQo+ID4gPiArewo+ID4gPiArICAgICBzdHJ1Y3Qgc25kX3NvY19wY21fcnVudGlt
ZSAqcnRkID0gc3Vic3RyZWFtLT5wcml2YXRlX2RhdGE7Cj4gPiA+ICsgICAgIGJvb2wgdHggPSBz
dWJzdHJlYW0tPnN0cmVhbSA9PSBTTkRSVl9QQ01fU1RSRUFNX1BMQVlCQUNLOwo+ID4gPiArICAg
ICBzdHJ1Y3Qgc25kX3NvY19kYWkgKmNwdV9kYWkgPSBhc29jX3J0ZF90b19jcHUocnRkLCAwKTsK
PiA+ID4gKyAgICAgc3RydWN0IHNuZF9kbWFlbmdpbmVfZGFpX2RtYV9kYXRhICpkbWFfZGF0YTsK
PiA+ID4gKyAgICAgc3RydWN0IGRldmljZSAqZGV2ID0gY29tcG9uZW50LT5kZXY7Cj4gPiA+ICsg
ICAgIHN0cnVjdCBzbmRfcGNtX2hhcmR3YXJlIGh3Owo+ID4gPiArICAgICBzdHJ1Y3QgZG1hX2No
YW4gKmNoYW47Cj4gPiA+ICsgICAgIGludCByZXQ7Cj4gPiA+ICsKPiA+ID4gKyAgICAgcmV0ID0g
c25kX3BjbV9od19jb25zdHJhaW50X2ludGVnZXIoc3Vic3RyZWFtLT5ydW50aW1lLAo+ID4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTTkRSVl9QQ01fSFdfUEFS
QU1fUEVSSU9EUyk7Cj4gPiA+ICsgICAgIGlmIChyZXQgPCAwKSB7Cj4gPiA+ICsgICAgICAgICAg
ICAgZGV2X2VycihkZXYsICJmYWlsZWQgdG8gc2V0IHBjbSBodyBwYXJhbXMgcGVyaW9kc1xuIik7
Cj4gPiA+ICsgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+ID4gKyAgICAgfQo+ID4gPiArCj4g
PiA+ICsgICAgIGRtYV9kYXRhID0gc25kX3NvY19kYWlfZ2V0X2RtYV9kYXRhKGNwdV9kYWksIHN1
YnN0cmVhbSk7Cj4gPiA+ICsgICAgIGlmICghZG1hX2RhdGEpCj4gPiA+ICsgICAgICAgICAgICAg
cmV0dXJuIC1FSU5WQUw7Cj4gPiA+ICsKPiA+ID4gKyAgICAgY2hhbiA9IGRtYV9yZXF1ZXN0X3Ns
YXZlX2NoYW5uZWwoY3B1X2RhaS0+ZGV2LCB0eCA/ICJ0eCIgOiAicngiKTsKPiA+ID4gKyAgICAg
aWYgKCFjaGFuKSB7Cj4gPiA+ICsgICAgICAgICAgICAgLyogVHJ5IHRvIHJlcXVlc3QgY2hhbm5l
bCB1c2luZyBjb21wYXRfZmlsdGVyX2ZuICovCj4gPiA+ICsgICAgICAgICAgICAgY2hhbiA9IHNu
ZF9kbWFlbmdpbmVfcGNtX3JlcXVlc3RfY2hhbm5lbChmaWx0ZXIsCj4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbWFfZGF0YS0+Zmls
dGVyX2RhdGEpOwo+ID4gPiArICAgICAgICAgICAgIGlmICghY2hhbikKPiA+ID4gKyAgICAgICAg
ICAgICAgICAgICAgIHJldHVybiAtRU5YSU87Cj4gPiA+ICsgICAgIH0KPiA+ID4gCj4gPiA+IC0g
ICAgIGNvbmZpZyA9IGRldm1fa3phbGxvYygmcGRldi0+ZGV2LAo+ID4gPiAtICAgICAgICAgICAg
ICAgICAgICAgc2l6ZW9mKHN0cnVjdCBzbmRfZG1hZW5naW5lX3BjbV9jb25maWcpLCBHRlBfS0VS
TkVMKTsKPiA+ID4gLSAgICAgaWYgKCFjb25maWcpCj4gPiA+IC0gICAgICAgICAgICAgcmV0dXJu
IC1FTk9NRU07Cj4gPiA+IC0gICAgICpjb25maWcgPSBpbXhfZG1hZW5naW5lX3BjbV9jb25maWc7
Cj4gPiA+ICsgICAgIHJldCA9IHNuZF9kbWFlbmdpbmVfcGNtX29wZW4oc3Vic3RyZWFtLCBjaGFu
KTsKPiA+ID4gKyAgICAgaWYgKHJldCkKPiA+ID4gKyAgICAgICAgICAgICBnb3RvIHBjbV9vcGVu
X2ZhaWw7Cj4gPiA+IAo+ID4gPiAtICAgICByZXR1cm4gZGV2bV9zbmRfZG1hZW5naW5lX3BjbV9y
ZWdpc3RlcigmcGRldi0+ZGV2LAo+ID4gPiAtICAgICAgICAgICAgIGNvbmZpZywKPiA+ID4gLSAg
ICAgICAgICAgICBTTkRfRE1BRU5HSU5FX1BDTV9GTEFHX0NPTVBBVCk7Cj4gPiA+ICsgICAgIG1l
bXNldCgmaHcsIDAsIHNpemVvZihodykpOwo+ID4gPiArICAgICBody5pbmZvID0gU05EUlZfUENN
X0lORk9fTU1BUCB8IFNORFJWX1BDTV9JTkZPX01NQVBfVkFMSUQgfAo+ID4gPiArICAgICAgICAg
ICAgICAgICAgICAgU05EUlZfUENNX0lORk9fSU5URVJMRUFWRUQ7Cj4gPiA+ICsgICAgIGh3LnBl
cmlvZHNfbWluID0gMjsKPiA+ID4gKyAgICAgaHcucGVyaW9kc19tYXggPSBVSU5UX01BWDsKPiA+
ID4gKyAgICAgaHcucGVyaW9kX2J5dGVzX21pbiA9IDI1NjsKPiA+ID4gKyAgICAgaHcucGVyaW9k
X2J5dGVzX21heCA9IGRtYV9nZXRfbWF4X3NlZ19zaXplKGNoYW4tPmRldmljZS0+ZGV2KTsKPiA+
ID4gKyAgICAgaHcuYnVmZmVyX2J5dGVzX21heCA9IElNWF9ERUZBVUxUX0RNQUJVRl9TSVpFOwo+
ID4gPiArICAgICBody5maWZvX3NpemUgPSBkbWFfZGF0YS0+Zmlmb19zaXplOwo+ID4gPiArCj4g
PiA+ICsgICAgIC8qIFJlZmluZSB0aGUgaHcgYWNjb3JkaW5nIHRvIGNhcHMgb2YgRE1BLiAqLwo+
ID4gPiArICAgICByZXQgPSBzbmRfZG1hZW5naW5lX3BjbV9yZWZpbmVfcnVudGltZV9od3BhcmFt
cyhzdWJzdHJlYW0sCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGRtYV9kYXRhLAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmaHcsCj4gPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW4pOwo+ID4gPiArICAgICBp
ZiAocmV0IDwgMCkKPiA+ID4gKyAgICAgICAgICAgICBnb3RvIHJlZmluZV9ydW50aW1lX2h3cGFy
YW1zX2ZhaWw7Cj4gPiA+ICsKPiA+ID4gKyAgICAgc25kX3NvY19zZXRfcnVudGltZV9od3BhcmFt
cyhzdWJzdHJlYW0sICZodyk7Cj4gPiA+ICsKPiA+ID4gKyAgICAgLyogU3VwcG9ydCBhbGxvY2F0
ZSBtZW1vcnkgZnJvbSBJUkFNICovCj4gPiA+ICsgICAgIHJldCA9IHNuZF9kbWFfYWxsb2NfcGFn
ZXMoU05EUlZfRE1BX1RZUEVfREVWX0lSQU0sCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY2hhbi0+ZGV2aWNlLT5kZXYsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaHcuYnVmZmVyX2J5dGVzX21heCwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAmc3Vic3RyZWFtLT5kbWFfYnVmZmVyKTsKPiA+ID4gKyAgICAgaWYgKHJldCA8
IDApCj4gPiA+ICsgICAgICAgICAgICAgZ290byBhbGxvY19wYWdhc19mYWlsOwo+ID4gPiArCj4g
PiA+ICsgICAgIHJldHVybiAwOwo+ID4gPiArCj4gPiA+ICthbGxvY19wYWdhc19mYWlsOgo+ID4g
PiArcmVmaW5lX3J1bnRpbWVfaHdwYXJhbXNfZmFpbDoKPiA+ID4gKyAgICAgc25kX2RtYWVuZ2lu
ZV9wY21fY2xvc2Uoc3Vic3RyZWFtKTsKPiA+ID4gK3BjbV9vcGVuX2ZhaWw6Cj4gPiA+ICsgICAg
IGRtYV9yZWxlYXNlX2NoYW5uZWwoY2hhbik7Cj4gPiA+ICsKPiA+ID4gKyAgICAgcmV0dXJuIHJl
dDsKPiA+ID4gK30KPiA+ID4gKwo+ID4gPiArc3RhdGljIGludCBpbXhfcGNtX2Nsb3NlKHN0cnVj
dCBzbmRfc29jX2NvbXBvbmVudCAqY29tcG9uZW50LAo+ID4gPiArICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCBzbmRfcGNtX3N1YnN0cmVhbSAqc3Vic3RyZWFtKQo+ID4gPiArewo+ID4gPiAr
ICAgICBpZiAoc3Vic3RyZWFtKSB7Cj4gPiA+ICsgICAgICAgICAgICAgc25kX2RtYV9mcmVlX3Bh
Z2VzKCZzdWJzdHJlYW0tPmRtYV9idWZmZXIpOwo+ID4gPiArICAgICAgICAgICAgIHN1YnN0cmVh
bS0+ZG1hX2J1ZmZlci5hcmVhID0gTlVMTDsKPiA+ID4gKyAgICAgICAgICAgICBzdWJzdHJlYW0t
PmRtYV9idWZmZXIuYWRkciA9IDA7Cj4gPiA+ICsgICAgIH0KPiA+ID4gKwo+ID4gPiArICAgICBy
ZXR1cm4gc25kX2RtYWVuZ2luZV9wY21fY2xvc2VfcmVsZWFzZV9jaGFuKHN1YnN0cmVhbSk7Cj4g
PiA+ICt9Cj4gPiA+ICsKPiA+ID4gK3N0YXRpYyBpbnQgaW14X3BjbV9uZXcoc3RydWN0IHNuZF9z
b2NfY29tcG9uZW50ICpjb21wb25lbnQsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCBzbmRfc29jX3BjbV9ydW50aW1lICpydGQpCj4gPiA+ICt7Cj4gPiA+ICsgICAgIHN0cnVjdCBz
bmRfY2FyZCAqY2FyZCA9IHJ0ZC0+Y2FyZC0+c25kX2NhcmQ7Cj4gPiA+ICsKPiA+ID4gKyAgICAg
cmV0dXJuIGRtYV9jb2VyY2VfbWFza19hbmRfY29oZXJlbnQoY2FyZC0+ZGV2LCBETUFfQklUX01B
U0soMzIpKTsKPiA+ID4gK30KPiA+ID4gKwo+ID4gPiArc3RhdGljIGNvbnN0IHN0cnVjdCBzbmRf
c29jX2NvbXBvbmVudF9kcml2ZXIgaW14X3BjbV9jb21wb25lbnQgPSB7Cj4gPiA+ICsgICAgIC5u
YW1lICAgICAgICAgICA9ICJpbXgtcGNtLWRtYSIsCj4gPiA+ICsgICAgIC5wY21fY29uc3RydWN0
ICA9IGlteF9wY21fbmV3LAo+ID4gPiArICAgICAub3BlbiAgICAgICAgICAgPSBpbXhfcGNtX29w
ZW4sCj4gPiA+ICsgICAgIC5jbG9zZSAgICAgICAgICA9IGlteF9wY21fY2xvc2UsCj4gPiA+ICsg
ICAgIC5od19wYXJhbXMgICAgICA9IGlteF9wY21faHdfcGFyYW1zLAo+ID4gPiArICAgICAuaHdf
ZnJlZSAgICAgICAgPSBpbXhfcGNtX2h3X2ZyZWUsCj4gPiA+ICsgICAgIC50cmlnZ2VyICAgICAg
ICA9IGlteF9wY21fdHJpZ2dlciwKPiA+ID4gKyAgICAgLnBvaW50ZXIgICAgICAgID0gaW14X3Bj
bV9wb2ludGVyLAo+ID4gPiArfTsKPiA+ID4gKwo+ID4gPiAraW50IGlteF9wY21fZG1hX2luaXQo
c3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwgc2l6ZV90IHNpemUpCj4gPiA+ICt7Cj4gPiA+
ICsgICAgIHJldHVybiBkZXZtX3NuZF9zb2NfcmVnaXN0ZXJfY29tcG9uZW50KCZwZGV2LT5kZXYs
Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZpbXhf
cGNtX2NvbXBvbmVudCwgTlVMTCwgMCk7Cj4gPiA+ICB9Cj4gPiA+ICBFWFBPUlRfU1lNQk9MX0dQ
TChpbXhfcGNtX2RtYV9pbml0KTsKPiA+ID4gCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpMaW5hcm8tbW0tc2lnIG1haWxpbmcgbGlzdApMaW5hcm8tbW0t
c2lnQGxpc3RzLmxpbmFyby5vcmcKaHR0cHM6Ly9saXN0cy5saW5hcm8ub3JnL21haWxtYW4vbGlz
dGluZm8vbGluYXJvLW1tLXNpZwo=
