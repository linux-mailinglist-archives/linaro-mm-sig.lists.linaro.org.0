Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id 956B0CB5D1E
	for <lists+linaro-mm-sig@lfdr.de>; Thu, 11 Dec 2025 13:25:16 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id BCC863F99F
	for <lists+linaro-mm-sig@lfdr.de>; Thu, 11 Dec 2025 12:25:15 +0000 (UTC)
Received: from mail-wm1-f49.google.com (mail-wm1-f49.google.com [209.85.128.49])
	by lists.linaro.org (Postfix) with ESMTPS id 28F2E3F99F
	for <linaro-mm-sig@lists.linaro.org>; Thu, 11 Dec 2025 12:24:14 +0000 (UTC)
Authentication-Results: lists.linaro.org;
	dkim=pass header.d=gmail.com header.s=20230601 header.b=a9QLlvAv;
	spf=pass (lists.linaro.org: domain of ckoenig.leichtzumerken@gmail.com designates 209.85.128.49 as permitted sender) smtp.mailfrom=ckoenig.leichtzumerken@gmail.com;
	dmarc=pass (policy=none) header.from=gmail.com
Received: by mail-wm1-f49.google.com with SMTP id 5b1f17b1804b1-4779a4fc95aso57505e9.1
        for <linaro-mm-sig@lists.linaro.org>; Thu, 11 Dec 2025 04:24:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20230601; t=1765455853; x=1766060653; darn=lists.linaro.org;
        h=content-transfer-encoding:mime-version:references:in-reply-to
         :message-id:date:subject:cc:to:from:from:to:cc:subject:date
         :message-id:reply-to;
        bh=XWIuuPyNwio5iQ8wJwLVpRz3y0CzmDAgy3sReltCERo=;
        b=a9QLlvAvET0B57RUgcgTaotEkZheYbPtHJRow0h/b5YkOGIOSId872Bwq2NLgIHc4K
         La7nT0UjC0GRO6WQK0+VRZnU017EU3vQSbCpCpOr4nbvxF3xpHYgCwAjVDE4TyT3qUR0
         hK6dBKNv+sHCQdFgwFtzXTCNALBM6O8+WVmWjEgjrD9Fk3uEH/vMOfCGHwwXgPde3WsD
         Vwy1Gcvq1h4wu6x9DBA5b2nkYz37AHLkPVkJosLqsriOzDWSRALS26f8lNeyhueWOKHX
         M9YmGaJtyuEZ216g/QWTn50obJ+PRd/XVK6PYUPcDplzoapb/QCBkW7AO+9DbwAXhbmz
         4mYA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1765455853; x=1766060653;
        h=content-transfer-encoding:mime-version:references:in-reply-to
         :message-id:date:subject:cc:to:from:x-gm-gg:x-gm-message-state:from
         :to:cc:subject:date:message-id:reply-to;
        bh=XWIuuPyNwio5iQ8wJwLVpRz3y0CzmDAgy3sReltCERo=;
        b=oz3R5vo4BrkxhXdIrxicT54eYIKiKXMCiZORZ2Xnyki9XfSxaoe5fegT9DWpBndxFU
         ZMZhHDb1iqu9GDigqGCFRfrKQev5aPxg+kSAmQTyUzQEnhNT8qmmgedHryPI38Y867BD
         c9ZafFfjOeJrMgvIgHJtiDDrd8lazTNm9tRoVzpwHPWsLormb4V3+5xwDs6evIGDvHj/
         anXOtx1fU8z61s2+kJphcHH7TDvmVwe2UoW0f5wrVX4CvZf8jHRTvwAxtNEexfT592Wd
         bUviGflCw7vlKsHVzdlJMqSw1nW6HLdEPxChjX7M1BCIVcS9sgjKaNPldvjFqQpTr7ws
         FMcA==
X-Forwarded-Encrypted: i=1; AJvYcCWQCP1ugztPu6vAW4fx/fOm0+xaNEZ6qU2HhyM1nB8KFpN40GZBejUtGw4+5jGShiLnuGJR0K99ZB1fsGPJ@lists.linaro.org
X-Gm-Message-State: AOJu0YzIMFrTMQzbg2J+mpMKbwgGGyPDXUyGlbni67HJTag10oxsFcAW
	VM4JWMh70xUEzNbgDDqDhp9Z/iNm5ySVRojTgKMx85uoL8lKqkT+0F7j
X-Gm-Gg: AY/fxX5gtvgKsOakduPJw1MQ+ZiPYPY5y+CVplQ3eo4xYSxPfpzGAz8eOYlWJdaoKya
	ZUzK6f80LJsFDNtcy9wQMg1rcRc4aQdHbY5JRcxWE15OsLPaYPhAemeIm7GuXLd/PoYjvKRSlly
	RzOJvTOSMAXU0DAWmRfvPeqiAjEG/HxKgCN3Mk7sTPiZE7mwX1SZL7ZayIUi03+YtCHhBGquaZv
	oaHEnMXHMovuXCnQ4ObOe/Qinu8Ok/W8DdI3sYsyT3hX05tYFuZr5FSK927ttOoVGQvx+hGENxF
	d64U5Ce/e1/ADUMZPBxztnG3vfb2eroCocUzCLWezE0SUnGlGm6PtrL3lC9j9WadDkU4tHlvXgW
	nCh9Qgt7SZ22jZChX7k7MwhW1JL25LZksjVfExSctWI6n1BUfpl+d2BSr4UJo9yyFk3cH/Gcjza
	DFlRc/XG/PlsaC9Xq1lkslxAzE
X-Google-Smtp-Source: AGHT+IG/zxjs9U8GFuYCWMT0HiUbfGawbEEmmHdQp0RCisXQYXkMjBOXjlCdyT4yQBcEwvz+3/6cQA==
X-Received: by 2002:a05:600c:c8d:b0:46e:2815:8568 with SMTP id 5b1f17b1804b1-47a89f9c2d4mr21395925e9.10.1765455852900;
        Thu, 11 Dec 2025 04:24:12 -0800 (PST)
Received: from able.fritz.box ([2a00:e180:152a:9f00:dc26:feac:12f7:4088])
        by smtp.gmail.com with ESMTPSA id 5b1f17b1804b1-47a89d8e680sm12172785e9.6.2025.12.11.04.24.12
        (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
        Thu, 11 Dec 2025 04:24:12 -0800 (PST)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
To: phasta@mailbox.org,
	tursulin@ursulin.net,
	matthew.brost@intel.com,
	sumit.semwal@linaro.org
Date: Thu, 11 Dec 2025 13:16:34 +0100
Message-ID: <20251211122407.1709-4-christian.koenig@amd.com>
X-Mailer: git-send-email 2.43.0
In-Reply-To: <20251211122407.1709-1-christian.koenig@amd.com>
References: <20251211122407.1709-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-Rspamd-Action: no action
X-Spamd-Result: default: False [-4.00 / 15.00];
	BAYES_HAM(-3.00)[100.00%];
	DMARC_POLICY_ALLOW(-0.50)[gmail.com,none];
	R_SPF_ALLOW(-0.20)[+ip4:209.85.128.0/17:c];
	R_DKIM_ALLOW(-0.20)[gmail.com:s=20230601];
	MIME_GOOD(-0.10)[text/plain];
	RCVD_VIA_SMTP_AUTH(0.00)[];
	FROM_EQ_ENVFROM(0.00)[];
	ARC_NA(0.00)[];
	MIME_TRACE(0.00)[0:+];
	ASN(0.00)[asn:15169, ipnet:209.85.128.0/17, country:US];
	FREEMAIL_ENVFROM(0.00)[gmail.com];
	FREEMAIL_FROM(0.00)[gmail.com];
	RWL_MAILSPIKE_POSSIBLE(0.00)[209.85.128.49:from];
	BLOCKLISTDE_FAIL(0.00)[209.85.128.49:server fail,2a00:e180:152a:9f00:dc26:feac:12f7:4088:query timed out];
	RCPT_COUNT_FIVE(0.00)[6];
	TO_DN_NONE(0.00)[];
	RCVD_COUNT_TWO(0.00)[2];
	FROM_HAS_DN(0.00)[];
	TO_MATCH_ENVRCPT_SOME(0.00)[];
	RCVD_TLS_LAST(0.00)[];
	PREVIOUSLY_DELIVERED(0.00)[linaro-mm-sig@lists.linaro.org];
	NEURAL_HAM(-0.00)[-1.000];
	DKIM_TRACE(0.00)[gmail.com:+]
X-Rspamd-Server: lists.linaro.org
X-Rspamd-Queue-Id: 28F2E3F99F
X-Spamd-Bar: ----
Message-ID-Hash: T7XMLDA6GDQDYKISGMDVTT7HSNTNZBTC
X-Message-ID-Hash: T7XMLDA6GDQDYKISGMDVTT7HSNTNZBTC
X-MailFrom: ckoenig.leichtzumerken@gmail.com
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: dri-devel@lists.freedesktop.org, linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] [PATCH 03/19] dma-buf: inline spinlock for fence protection v3
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/T7XMLDA6GDQDYKISGMDVTT7HSNTNZBTC/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

SW1wbGVtZW50IHBlci1mZW5jZSBzcGlubG9ja3MsIGFsbG93aW5nIGltcGxlbWVudGF0aW9ucyB0
byBub3QgZ2l2ZSBhbg0KZXh0ZXJuYWwgc3BpbmxvY2sgdG8gcHJvdGVjdCB0aGUgZmVuY2UgaW50
ZXJuYWwgc3RhdGVpLiBJbnN0ZWFkIGEgc3BpbmxvY2sNCmVtYmVkZGVkIGludG8gdGhlIGZlbmNl
IHN0cnVjdHVyZSBpdHNlbGYgaXMgdXNlZCBpbiB0aGlzIGNhc2UuDQoNClNoYXJlZCBzcGlubG9j
a3MgaGF2ZSB0aGUgcHJvYmxlbSB0aGF0IGltcGxlbWVudGF0aW9ucyBuZWVkIHRvIGd1YXJhbnRl
ZQ0KdGhhdCB0aGUgbG9jayBsaXZlIGF0IGxlYXN0IGFzIGxvbmcgYWxsIGZlbmNlcyByZWZlcmVu
Y2luZyB0aGVtLg0KDQpVc2luZyBhIHBlci1mZW5jZSBzcGlubG9jayBhbGxvd3MgY29tcGxldGVs
eSBkZWNvdXBsaW5nIHNwaW5sb2NrIHByb2R1Y2VyDQphbmQgY29uc3VtZXIgbGlmZSB0aW1lcywg
c2ltcGxpZnlpbmcgdGhlIGhhbmRsaW5nIGluIG1vc3QgdXNlIGNhc2VzLg0KDQp2MjogaW1wcm92
ZSBuYW1pbmcsIGNvdmVyYWdlIGFuZCBmdW5jdGlvbiBkb2N1bWVudGF0aW9uDQp2MzogZml4IG9u
ZSBhZGRpdGlvbmFsIGxvY2tpbmcgaW4gdGhlIHNlbGZ0ZXN0cw0KDQpTaWduZWQtb2ZmLWJ5OiBD
aHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+DQpSZXZpZXdlZC1ieTog
VHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGlnYWxpYS5jb20+DQotLS0NCiBkcml2ZXJz
L2RtYS1idWYvZG1hLWZlbmNlLmMgICAgICAgICAgICAgIHwgNjkgKysrKysrKysrKysrKy0tLS0t
LS0tLS0tDQogZHJpdmVycy9kbWEtYnVmL3N0LWRtYS1mZW5jZS5jICAgICAgICAgICB8ICA2ICsr
LQ0KIGRyaXZlcnMvZG1hLWJ1Zi9zd19zeW5jLmMgICAgICAgICAgICAgICAgfCAxNCArKy0tLQ0K
IGRyaXZlcnMvZG1hLWJ1Zi9zeW5jX2RlYnVnLmggICAgICAgICAgICAgfCAgMiArLQ0KIGRyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMgfCAgNCArLQ0KIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jICAgfCAgNCArLQ0KIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV92bS5oICAgfCAxMiArKy0tLQ0KIGRyaXZlcnMvZ3B1L2RybS9kcm1f
Y3J0Yy5jICAgICAgICAgICAgICAgfCAgMiArLQ0KIGRyaXZlcnMvZ3B1L2RybS9kcm1fd3JpdGVi
YWNrLmMgICAgICAgICAgfCAgMiArLQ0KIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVf
ZHJtLmMgICAgfCAgNSArLQ0KIGRyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZmVuY2Uu
YyAgfCAgMyArLQ0KIGRyaXZlcnMvZ3B1L2RybS9xeGwvcXhsX3JlbGVhc2UuYyAgICAgICAgfCAg
MyArLQ0KIGRyaXZlcnMvZ3B1L2RybS9zY2hlZHVsZXIvc2NoZWRfZmVuY2UuYyAgfCAgNCArLQ0K
IGRyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2ZlbmNlLmMgICAgfCAgMyArLQ0KIGRyaXZl
cnMvZ3B1L2RybS94ZS94ZV9od19mZW5jZS5jICAgICAgICAgfCAgMyArLQ0KIGRyaXZlcnMvZ3B1
L2RybS94ZS94ZV9zY2hlZF9qb2IuYyAgICAgICAgfCAgNCArLQ0KIGluY2x1ZGUvbGludXgvZG1h
LWZlbmNlLmggICAgICAgICAgICAgICAgfCA0MiArKysrKysrKysrKysrKy0NCiAxNyBmaWxlcyBj
aGFuZ2VkLCAxMTcgaW5zZXJ0aW9ucygrKSwgNjUgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2RtYS1idWYvZG1hLWZlbmNlLmMgYi9kcml2ZXJzL2RtYS1idWYvZG1hLWZlbmNl
LmMNCmluZGV4IDQ4MWYxY2Q5YWFlMi4uYjNjMWZiOTkwNjIxIDEwMDY0NA0KLS0tIGEvZHJpdmVy
cy9kbWEtYnVmL2RtYS1mZW5jZS5jDQorKysgYi9kcml2ZXJzL2RtYS1idWYvZG1hLWZlbmNlLmMN
CkBAIC0zNDMsNyArMzQzLDYgQEAgdm9pZCBfX2RtYV9mZW5jZV9taWdodF93YWl0KHZvaWQpDQog
fQ0KICNlbmRpZg0KIA0KLQ0KIC8qKg0KICAqIGRtYV9mZW5jZV9zaWduYWxfdGltZXN0YW1wX2xv
Y2tlZCAtIHNpZ25hbCBjb21wbGV0aW9uIG9mIGEgZmVuY2UNCiAgKiBAZmVuY2U6IHRoZSBmZW5j
ZSB0byBzaWduYWwNCkBAIC0zNjUsNyArMzY0LDcgQEAgdm9pZCBkbWFfZmVuY2Vfc2lnbmFsX3Rp
bWVzdGFtcF9sb2NrZWQoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsDQogCXN0cnVjdCBkbWFfZmVu
Y2VfY2IgKmN1ciwgKnRtcDsNCiAJc3RydWN0IGxpc3RfaGVhZCBjYl9saXN0Ow0KIA0KLQlsb2Nr
ZGVwX2Fzc2VydF9oZWxkKGZlbmNlLT5sb2NrKTsNCisJbG9ja2RlcF9hc3NlcnRfaGVsZChkbWFf
ZmVuY2Vfc3BpbmxvY2soZmVuY2UpKTsNCiANCiAJaWYgKHVubGlrZWx5KHRlc3RfYW5kX3NldF9i
aXQoRE1BX0ZFTkNFX0ZMQUdfU0lHTkFMRURfQklULA0KIAkJCQkgICAgICAmZmVuY2UtPmZsYWdz
KSkpDQpAQCAtNDEyLDkgKzQxMSw5IEBAIHZvaWQgZG1hX2ZlbmNlX3NpZ25hbF90aW1lc3RhbXAo
c3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGt0aW1lX3QgdGltZXN0YW1wKQ0KIAlpZiAoV0FSTl9P
TighZmVuY2UpKQ0KIAkJcmV0dXJuOw0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9j
aywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCWRt
YV9mZW5jZV9zaWduYWxfdGltZXN0YW1wX2xvY2tlZChmZW5jZSwgdGltZXN0YW1wKTsNCi0Jc3Bp
bl91bmxvY2tfaXJxcmVzdG9yZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfdW5s
b2NrX2lycXJlc3RvcmUoZmVuY2UsIGZsYWdzKTsNCiB9DQogRVhQT1JUX1NZTUJPTChkbWFfZmVu
Y2Vfc2lnbmFsX3RpbWVzdGFtcCk7DQogDQpAQCAtNDczLDkgKzQ3Miw5IEBAIGJvb2wgZG1hX2Zl
bmNlX2NoZWNrX2FuZF9zaWduYWwoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpDQogCXVuc2lnbmVk
IGxvbmcgZmxhZ3M7DQogCWJvb2wgcmV0Ow0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+
bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQog
CXJldCA9IGRtYV9mZW5jZV9jaGVja19hbmRfc2lnbmFsX2xvY2tlZChmZW5jZSk7DQotCXNwaW5f
dW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX3VubG9j
a19pcnFyZXN0b3JlKGZlbmNlLCBmbGFncyk7DQogDQogCXJldHVybiByZXQ7DQogfQ0KQEAgLTUw
MSw5ICs1MDAsOSBAQCB2b2lkIGRtYV9mZW5jZV9zaWduYWwoc3RydWN0IGRtYV9mZW5jZSAqZmVu
Y2UpDQogDQogCXRtcCA9IGRtYV9mZW5jZV9iZWdpbl9zaWduYWxsaW5nKCk7DQogDQotCXNwaW5f
bG9ja19pcnFzYXZlKGZlbmNlLT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV9sb2NrX2lycXNh
dmUoZmVuY2UsIGZsYWdzKTsNCiAJZG1hX2ZlbmNlX3NpZ25hbF90aW1lc3RhbXBfbG9ja2VkKGZl
bmNlLCBrdGltZV9nZXQoKSk7DQotCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ss
IGZsYWdzKTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLCBmbGFncyk7DQog
DQogCWRtYV9mZW5jZV9lbmRfc2lnbmFsbGluZyh0bXApOw0KIH0NCkBAIC02MDMsMTAgKzYwMiwx
MCBAQCB2b2lkIGRtYV9mZW5jZV9yZWxlYXNlKHN0cnVjdCBrcmVmICprcmVmKQ0KIAkJICogZG9u
J3QgbGVhdmUgY2hhaW5zIGRhbmdsaW5nLiBXZSBzZXQgdGhlIGVycm9yIGZsYWcgZmlyc3QNCiAJ
CSAqIHNvIHRoYXQgdGhlIGNhbGxiYWNrcyBrbm93IHRoaXMgc2lnbmFsIGlzIGR1ZSB0byBhbiBl
cnJvci4NCiAJCSAqLw0KLQkJc3Bpbl9sb2NrX2lycXNhdmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsN
CisJCWRtYV9mZW5jZV9sb2NrX2lycXNhdmUoZmVuY2UsIGZsYWdzKTsNCiAJCWZlbmNlLT5lcnJv
ciA9IC1FREVBRExLOw0KIAkJZG1hX2ZlbmNlX3NpZ25hbF9sb2NrZWQoZmVuY2UpOw0KLQkJc3Bp
bl91bmxvY2tfaXJxcmVzdG9yZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwkJZG1hX2ZlbmNlX3Vu
bG9ja19pcnFyZXN0b3JlKGZlbmNlLCBmbGFncyk7DQogCX0NCiANCiAJb3BzID0gcmN1X2RlcmVm
ZXJlbmNlKGZlbmNlLT5vcHMpOw0KQEAgLTYzNiw3ICs2MzUsNyBAQCBzdGF0aWMgYm9vbCBfX2Rt
YV9mZW5jZV9lbmFibGVfc2lnbmFsaW5nKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQ0KIAljb25z
dCBzdHJ1Y3QgZG1hX2ZlbmNlX29wcyAqb3BzOw0KIAlib29sIHdhc19zZXQ7DQogDQotCWxvY2tk
ZXBfYXNzZXJ0X2hlbGQoZmVuY2UtPmxvY2spOw0KKwlsb2NrZGVwX2Fzc2VydF9oZWxkKGRtYV9m
ZW5jZV9zcGlubG9jayhmZW5jZSkpOw0KIA0KIAl3YXNfc2V0ID0gdGVzdF9hbmRfc2V0X2JpdChE
TUFfRkVOQ0VfRkxBR19FTkFCTEVfU0lHTkFMX0JJVCwNCiAJCQkJICAgJmZlbmNlLT5mbGFncyk7
DQpAQCAtNjcyLDkgKzY3MSw5IEBAIHZvaWQgZG1hX2ZlbmNlX2VuYWJsZV9zd19zaWduYWxpbmco
c3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpDQogew0KIAl1bnNpZ25lZCBsb25nIGZsYWdzOw0KIA0K
LQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfbG9j
a19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCV9fZG1hX2ZlbmNlX2VuYWJsZV9zaWduYWxpbmco
ZmVuY2UpOw0KLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLT5sb2NrLCBmbGFncyk7DQor
CWRtYV9mZW5jZV91bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwgZmxhZ3MpOw0KIH0NCiBFWFBPUlRf
U1lNQk9MKGRtYV9mZW5jZV9lbmFibGVfc3dfc2lnbmFsaW5nKTsNCiANCkBAIC03MTQsOCArNzEz
LDcgQEAgaW50IGRtYV9mZW5jZV9hZGRfY2FsbGJhY2soc3RydWN0IGRtYV9mZW5jZSAqZmVuY2Us
IHN0cnVjdCBkbWFfZmVuY2VfY2IgKmNiLA0KIAkJcmV0dXJuIC1FTk9FTlQ7DQogCX0NCiANCi0J
c3Bpbl9sb2NrX2lycXNhdmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsNCi0NCisJZG1hX2ZlbmNlX2xv
Y2tfaXJxc2F2ZShmZW5jZSwgZmxhZ3MpOw0KIAlpZiAoX19kbWFfZmVuY2VfZW5hYmxlX3NpZ25h
bGluZyhmZW5jZSkpIHsNCiAJCWNiLT5mdW5jID0gZnVuYzsNCiAJCWxpc3RfYWRkX3RhaWwoJmNi
LT5ub2RlLCAmZmVuY2UtPmNiX2xpc3QpOw0KQEAgLTcyMyw4ICs3MjEsNyBAQCBpbnQgZG1hX2Zl
bmNlX2FkZF9jYWxsYmFjayhzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSwgc3RydWN0IGRtYV9mZW5j
ZV9jYiAqY2IsDQogCQlJTklUX0xJU1RfSEVBRCgmY2ItPm5vZGUpOw0KIAkJcmV0ID0gLUVOT0VO
VDsNCiAJfQ0KLQ0KLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLT5sb2NrLCBmbGFncyk7
DQorCWRtYV9mZW5jZV91bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwgZmxhZ3MpOw0KIA0KIAlyZXR1
cm4gcmV0Ow0KIH0NCkBAIC03NDcsOSArNzQ0LDkgQEAgaW50IGRtYV9mZW5jZV9nZXRfc3RhdHVz
KHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQ0KIAl1bnNpZ25lZCBsb25nIGZsYWdzOw0KIAlpbnQg
c3RhdHVzOw0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlk
bWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCXN0YXR1cyA9IGRtYV9mZW5j
ZV9nZXRfc3RhdHVzX2xvY2tlZChmZW5jZSk7DQotCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVu
Y2UtPmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLCBm
bGFncyk7DQogDQogCXJldHVybiBzdGF0dXM7DQogfQ0KQEAgLTc3OSwxMyArNzc2LDExIEBAIGRt
YV9mZW5jZV9yZW1vdmVfY2FsbGJhY2soc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIHN0cnVjdCBk
bWFfZmVuY2VfY2IgKmNiKQ0KIAl1bnNpZ25lZCBsb25nIGZsYWdzOw0KIAlib29sIHJldDsNCiAN
Ci0Jc3Bpbl9sb2NrX2lycXNhdmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsNCi0NCisJZG1hX2ZlbmNl
X2xvY2tfaXJxc2F2ZShmZW5jZSwgZmxhZ3MpOw0KIAlyZXQgPSAhbGlzdF9lbXB0eSgmY2ItPm5v
ZGUpOw0KIAlpZiAocmV0KQ0KIAkJbGlzdF9kZWxfaW5pdCgmY2ItPm5vZGUpOw0KLQ0KLQlzcGlu
X3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV91bmxv
Y2tfaXJxcmVzdG9yZShmZW5jZSwgZmxhZ3MpOw0KIA0KIAlyZXR1cm4gcmV0Ow0KIH0NCkBAIC04
MjQsNyArODE5LDcgQEAgZG1hX2ZlbmNlX2RlZmF1bHRfd2FpdChzdHJ1Y3QgZG1hX2ZlbmNlICpm
ZW5jZSwgYm9vbCBpbnRyLCBzaWduZWQgbG9uZyB0aW1lb3V0KQ0KIAl1bnNpZ25lZCBsb25nIGZs
YWdzOw0KIAlzaWduZWQgbG9uZyByZXQgPSB0aW1lb3V0ID8gdGltZW91dCA6IDE7DQogDQotCXNw
aW5fbG9ja19pcnFzYXZlKGZlbmNlLT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV9sb2NrX2ly
cXNhdmUoZmVuY2UsIGZsYWdzKTsNCiANCiAJaWYgKGRtYV9mZW5jZV90ZXN0X3NpZ25hbGVkX2Zs
YWcoZmVuY2UpKQ0KIAkJZ290byBvdXQ7DQpAQCAtODQ4LDExICs4NDMsMTEgQEAgZG1hX2ZlbmNl
X2RlZmF1bHRfd2FpdChzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSwgYm9vbCBpbnRyLCBzaWduZWQg
bG9uZyB0aW1lb3V0KQ0KIAkJCV9fc2V0X2N1cnJlbnRfc3RhdGUoVEFTS19JTlRFUlJVUFRJQkxF
KTsNCiAJCWVsc2UNCiAJCQlfX3NldF9jdXJyZW50X3N0YXRlKFRBU0tfVU5JTlRFUlJVUFRJQkxF
KTsNCi0JCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJCWRt
YV9mZW5jZV91bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwgZmxhZ3MpOw0KIA0KIAkJcmV0ID0gc2No
ZWR1bGVfdGltZW91dChyZXQpOw0KIA0KLQkJc3Bpbl9sb2NrX2lycXNhdmUoZmVuY2UtPmxvY2ss
IGZsYWdzKTsNCisJCWRtYV9mZW5jZV9sb2NrX2lycXNhdmUoZmVuY2UsIGZsYWdzKTsNCiAJCWlm
IChyZXQgPiAwICYmIGludHIgJiYgc2lnbmFsX3BlbmRpbmcoY3VycmVudCkpDQogCQkJcmV0ID0g
LUVSRVNUQVJUU1lTOw0KIAl9DQpAQCAtODYyLDcgKzg1Nyw3IEBAIGRtYV9mZW5jZV9kZWZhdWx0
X3dhaXQoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGJvb2wgaW50ciwgc2lnbmVkIGxvbmcgdGlt
ZW91dCkNCiAJX19zZXRfY3VycmVudF9zdGF0ZShUQVNLX1JVTk5JTkcpOw0KIA0KIG91dDoNCi0J
c3Bpbl91bmxvY2tfaXJxcmVzdG9yZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2Vf
dW5sb2NrX2lycXJlc3RvcmUoZmVuY2UsIGZsYWdzKTsNCiAJcmV0dXJuIHJldDsNCiB9DQogRVhQ
T1JUX1NZTUJPTChkbWFfZmVuY2VfZGVmYXVsdF93YWl0KTsNCkBAIC0xMDcxLDcgKzEwNjYsNiBA
QCBzdGF0aWMgdm9pZA0KIF9fZG1hX2ZlbmNlX2luaXQoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2Us
IGNvbnN0IHN0cnVjdCBkbWFfZmVuY2Vfb3BzICpvcHMsDQogCSAgICAgICAgIHNwaW5sb2NrX3Qg
KmxvY2ssIHU2NCBjb250ZXh0LCB1NjQgc2Vxbm8sIHVuc2lnbmVkIGxvbmcgZmxhZ3MpDQogew0K
LQlCVUdfT04oIWxvY2spOw0KIAlCVUdfT04oIW9wcyB8fCAhb3BzLT5nZXRfZHJpdmVyX25hbWUg
fHwgIW9wcy0+Z2V0X3RpbWVsaW5lX25hbWUpOw0KIA0KIAlrcmVmX2luaXQoJmZlbmNlLT5yZWZj
b3VudCk7DQpAQCAtMTA4MiwxMCArMTA3NiwxNSBAQCBfX2RtYV9mZW5jZV9pbml0KHN0cnVjdCBk
bWFfZmVuY2UgKmZlbmNlLCBjb25zdCBzdHJ1Y3QgZG1hX2ZlbmNlX29wcyAqb3BzLA0KIAkgKi8N
CiAJUkNVX0lOSVRfUE9JTlRFUihmZW5jZS0+b3BzLCBvcHMpOw0KIAlJTklUX0xJU1RfSEVBRCgm
ZmVuY2UtPmNiX2xpc3QpOw0KLQlmZW5jZS0+bG9jayA9IGxvY2s7DQogCWZlbmNlLT5jb250ZXh0
ID0gY29udGV4dDsNCiAJZmVuY2UtPnNlcW5vID0gc2Vxbm87DQogCWZlbmNlLT5mbGFncyA9IGZs
YWdzOw0KKwlpZiAobG9jaykgew0KKwkJZmVuY2UtPmV4dGVybl9sb2NrID0gbG9jazsNCisJfSBl
bHNlIHsNCisJCXNwaW5fbG9ja19pbml0KCZmZW5jZS0+aW5saW5lX2xvY2spOw0KKwkJZmVuY2Ut
PmZsYWdzIHw9IEJJVChETUFfRkVOQ0VfRkxBR19JTkxJTkVfTE9DS19CSVQpOw0KKwl9DQogCWZl
bmNlLT5lcnJvciA9IDA7DQogDQogCXRyYWNlX2RtYV9mZW5jZV9pbml0KGZlbmNlKTsNCkBAIC0x
MDk1LDcgKzEwOTQsNyBAQCBfX2RtYV9mZW5jZV9pbml0KHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNl
LCBjb25zdCBzdHJ1Y3QgZG1hX2ZlbmNlX29wcyAqb3BzLA0KICAqIGRtYV9mZW5jZV9pbml0IC0g
SW5pdGlhbGl6ZSBhIGN1c3RvbSBmZW5jZS4NCiAgKiBAZmVuY2U6IHRoZSBmZW5jZSB0byBpbml0
aWFsaXplDQogICogQG9wczogdGhlIGRtYV9mZW5jZV9vcHMgZm9yIG9wZXJhdGlvbnMgb24gdGhp
cyBmZW5jZQ0KLSAqIEBsb2NrOiB0aGUgaXJxc2FmZSBzcGlubG9jayB0byB1c2UgZm9yIGxvY2tp
bmcgdGhpcyBmZW5jZQ0KKyAqIEBsb2NrOiBvcHRpb25hbCBpcnFzYWZlIHNwaW5sb2NrIHRvIHVz
ZSBmb3IgbG9ja2luZyB0aGlzIGZlbmNlDQogICogQGNvbnRleHQ6IHRoZSBleGVjdXRpb24gY29u
dGV4dCB0aGlzIGZlbmNlIGlzIHJ1biBvbg0KICAqIEBzZXFubzogYSBsaW5lYXIgaW5jcmVhc2lu
ZyBzZXF1ZW5jZSBudW1iZXIgZm9yIHRoaXMgY29udGV4dA0KICAqDQpAQCAtMTEwNSw2ICsxMTA0
LDEwIEBAIF9fZG1hX2ZlbmNlX2luaXQoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGNvbnN0IHN0
cnVjdCBkbWFfZmVuY2Vfb3BzICpvcHMsDQogICoNCiAgKiBjb250ZXh0IGFuZCBzZXFubyBhcmUg
dXNlZCBmb3IgZWFzeSBjb21wYXJpc29uIGJldHdlZW4gZmVuY2VzLCBhbGxvd2luZw0KICAqIHRv
IGNoZWNrIHdoaWNoIGZlbmNlIGlzIGxhdGVyIGJ5IHNpbXBseSB1c2luZyBkbWFfZmVuY2VfbGF0
ZXIoKS4NCisgKg0KKyAqIEl0IGlzIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkIHRvIHByb3ZpZGUgYW4g
ZXh0ZXJuYWwgbG9jay4gVGhpcyBpcyBvbmx5IGFsbG93ZWQNCisgKiBmb3IgbGVnYWN5IHVzZSBj
YXNlcyB3aGVuIG11bHRpcGxlIGZlbmNlcyBuZWVkIHRvIGJlIHByZXZlbnRlZCBmcm9tDQorICog
c2lnbmFsaW5nIG91dCBvZiBvcmRlci4NCiAgKi8NCiB2b2lkDQogZG1hX2ZlbmNlX2luaXQoc3Ry
dWN0IGRtYV9mZW5jZSAqZmVuY2UsIGNvbnN0IHN0cnVjdCBkbWFfZmVuY2Vfb3BzICpvcHMsDQpA
QCAtMTExOCw3ICsxMTIxLDcgQEAgRVhQT1JUX1NZTUJPTChkbWFfZmVuY2VfaW5pdCk7DQogICog
ZG1hX2ZlbmNlX2luaXQ2NCAtIEluaXRpYWxpemUgYSBjdXN0b20gZmVuY2Ugd2l0aCA2NC1iaXQg
c2Vxbm8gc3VwcG9ydC4NCiAgKiBAZmVuY2U6IHRoZSBmZW5jZSB0byBpbml0aWFsaXplDQogICog
QG9wczogdGhlIGRtYV9mZW5jZV9vcHMgZm9yIG9wZXJhdGlvbnMgb24gdGhpcyBmZW5jZQ0KLSAq
IEBsb2NrOiB0aGUgaXJxc2FmZSBzcGlubG9jayB0byB1c2UgZm9yIGxvY2tpbmcgdGhpcyBmZW5j
ZQ0KKyAqIEBsb2NrOiBvcHRpb25hbCBpcnFzYWZlIHNwaW5sb2NrIHRvIHVzZSBmb3IgbG9ja2lu
ZyB0aGlzIGZlbmNlDQogICogQGNvbnRleHQ6IHRoZSBleGVjdXRpb24gY29udGV4dCB0aGlzIGZl
bmNlIGlzIHJ1biBvbg0KICAqIEBzZXFubzogYSBsaW5lYXIgaW5jcmVhc2luZyBzZXF1ZW5jZSBu
dW1iZXIgZm9yIHRoaXMgY29udGV4dA0KICAqDQpAQCAtMTEyOCw2ICsxMTMxLDEwIEBAIEVYUE9S
VF9TWU1CT0woZG1hX2ZlbmNlX2luaXQpOw0KICAqDQogICogQ29udGV4dCBhbmQgc2Vxbm8gYXJl
IHVzZWQgZm9yIGVhc3kgY29tcGFyaXNvbiBiZXR3ZWVuIGZlbmNlcywgYWxsb3dpbmcNCiAgKiB0
byBjaGVjayB3aGljaCBmZW5jZSBpcyBsYXRlciBieSBzaW1wbHkgdXNpbmcgZG1hX2ZlbmNlX2xh
dGVyKCkuDQorICoNCisgKiBJdCBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZCB0byBwcm92aWRlIGFu
IGV4dGVybmFsIGxvY2suIFRoaXMgaXMgb25seSBhbGxvd2VkDQorICogZm9yIGxlZ2FjeSB1c2Ug
Y2FzZXMgd2hlbiBtdWx0aXBsZSBmZW5jZXMgbmVlZCB0byBiZSBwcmV2ZW50ZWQgZnJvbQ0KKyAq
IHNpZ25hbGluZyBvdXQgb2Ygb3JkZXIuDQogICovDQogdm9pZA0KIGRtYV9mZW5jZV9pbml0NjQo
c3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGNvbnN0IHN0cnVjdCBkbWFfZmVuY2Vfb3BzICpvcHMs
DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9kbWEtYnVmL3N0LWRtYS1mZW5jZS5jIGIvZHJpdmVycy9k
bWEtYnVmL3N0LWRtYS1mZW5jZS5jDQppbmRleCA0ZGJlMzljNThiZmIuLjVjYjhmOTBhNzQ0OCAx
MDA2NDQNCi0tLSBhL2RyaXZlcnMvZG1hLWJ1Zi9zdC1kbWEtZmVuY2UuYw0KKysrIGIvZHJpdmVy
cy9kbWEtYnVmL3N0LWRtYS1mZW5jZS5jDQpAQCAtNDUxLDggKzQ1MSwxMCBAQCBzdHJ1Y3QgcmFj
ZV90aHJlYWQgew0KIA0KIHN0YXRpYyB2b2lkIF9fd2FpdF9mb3JfY2FsbGJhY2tzKHN0cnVjdCBk
bWFfZmVuY2UgKmYpDQogew0KLQlzcGluX2xvY2tfaXJxKGYtPmxvY2spOw0KLQlzcGluX3VubG9j
a19pcnEoZi0+bG9jayk7DQorCXVuc2lnbmVkIGxvbmcgZmxhZ3M7DQorDQorCWRtYV9mZW5jZV9s
b2NrX2lycXNhdmUoZiwgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfdW5sb2NrX2lycXJlc3RvcmUoZiwg
ZmxhZ3MpOw0KIH0NCiANCiBzdGF0aWMgaW50IHRocmVhZF9zaWduYWxfY2FsbGJhY2sodm9pZCAq
YXJnKQ0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9zd19zeW5jLmMgYi9kcml2ZXJzL2Rt
YS1idWYvc3dfc3luYy5jDQppbmRleCA2ZjA5ZDEzYmU2YjYuLjRjODFhMzdkZDY4MiAxMDA2NDQN
Ci0tLSBhL2RyaXZlcnMvZG1hLWJ1Zi9zd19zeW5jLmMNCisrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9z
d19zeW5jLmMNCkBAIC0xNTYsMTIgKzE1NiwxMiBAQCBzdGF0aWMgdm9pZCB0aW1lbGluZV9mZW5j
ZV9yZWxlYXNlKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQ0KIAlzdHJ1Y3Qgc3luY190aW1lbGlu
ZSAqcGFyZW50ID0gZG1hX2ZlbmNlX3BhcmVudChmZW5jZSk7DQogCXVuc2lnbmVkIGxvbmcgZmxh
Z3M7DQogDQotCXNwaW5fbG9ja19pcnFzYXZlKGZlbmNlLT5sb2NrLCBmbGFncyk7DQorCWRtYV9m
ZW5jZV9sb2NrX2lycXNhdmUoZmVuY2UsIGZsYWdzKTsNCiAJaWYgKCFsaXN0X2VtcHR5KCZwdC0+
bGluaykpIHsNCiAJCWxpc3RfZGVsKCZwdC0+bGluayk7DQogCQlyYl9lcmFzZSgmcHQtPm5vZGUs
ICZwYXJlbnQtPnB0X3RyZWUpOw0KIAl9DQotCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVuY2Ut
PmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLCBmbGFn
cyk7DQogDQogCXN5bmNfdGltZWxpbmVfcHV0KHBhcmVudCk7DQogCWRtYV9mZW5jZV9mcmVlKGZl
bmNlKTsNCkBAIC0xNzksNyArMTc5LDcgQEAgc3RhdGljIHZvaWQgdGltZWxpbmVfZmVuY2Vfc2V0
X2RlYWRsaW5lKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLCBrdGltZV90IGRlYWRsaW4NCiAJc3Ry
dWN0IHN5bmNfcHQgKnB0ID0gZG1hX2ZlbmNlX3RvX3N5bmNfcHQoZmVuY2UpOw0KIAl1bnNpZ25l
ZCBsb25nIGZsYWdzOw0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9jaywgZmxhZ3Mp
Ow0KKwlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCWlmICh0ZXN0X2Jp
dChTV19TWU5DX0hBU19ERUFETElORV9CSVQsICZmZW5jZS0+ZmxhZ3MpKSB7DQogCQlpZiAoa3Rp
bWVfYmVmb3JlKGRlYWRsaW5lLCBwdC0+ZGVhZGxpbmUpKQ0KIAkJCXB0LT5kZWFkbGluZSA9IGRl
YWRsaW5lOw0KQEAgLTE4Nyw3ICsxODcsNyBAQCBzdGF0aWMgdm9pZCB0aW1lbGluZV9mZW5jZV9z
ZXRfZGVhZGxpbmUoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGt0aW1lX3QgZGVhZGxpbg0KIAkJ
cHQtPmRlYWRsaW5lID0gZGVhZGxpbmU7DQogCQlfX3NldF9iaXQoU1dfU1lOQ19IQVNfREVBRExJ
TkVfQklULCAmZmVuY2UtPmZsYWdzKTsNCiAJfQ0KLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKGZl
bmNlLT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV91bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwg
ZmxhZ3MpOw0KIH0NCiANCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRtYV9mZW5jZV9vcHMgdGltZWxp
bmVfZmVuY2Vfb3BzID0gew0KQEAgLTQzMSwxMyArNDMxLDEzIEBAIHN0YXRpYyBpbnQgc3dfc3lu
Y19pb2N0bF9nZXRfZGVhZGxpbmUoc3RydWN0IHN5bmNfdGltZWxpbmUgKm9iaiwgdW5zaWduZWQg
bG9uZyBhDQogCQlnb3RvIHB1dF9mZW5jZTsNCiAJfQ0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShm
ZW5jZS0+bG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFn
cyk7DQogCWlmICghdGVzdF9iaXQoU1dfU1lOQ19IQVNfREVBRExJTkVfQklULCAmZmVuY2UtPmZs
YWdzKSkgew0KIAkJcmV0ID0gLUVOT0VOVDsNCiAJCWdvdG8gdW5sb2NrOw0KIAl9DQogCWRhdGEu
ZGVhZGxpbmVfbnMgPSBrdGltZV90b19ucyhwdC0+ZGVhZGxpbmUpOw0KLQlzcGluX3VubG9ja19p
cnFyZXN0b3JlKGZlbmNlLT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV91bmxvY2tfaXJxcmVz
dG9yZShmZW5jZSwgZmxhZ3MpOw0KIA0KIAlkbWFfZmVuY2VfcHV0KGZlbmNlKTsNCiANCkBAIC00
NTAsNyArNDUwLDcgQEAgc3RhdGljIGludCBzd19zeW5jX2lvY3RsX2dldF9kZWFkbGluZShzdHJ1
Y3Qgc3luY190aW1lbGluZSAqb2JqLCB1bnNpZ25lZCBsb25nIGENCiAJcmV0dXJuIDA7DQogDQog
dW5sb2NrOg0KLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLT5sb2NrLCBmbGFncyk7DQor
CWRtYV9mZW5jZV91bmxvY2tfaXJxcmVzdG9yZShmZW5jZSwgZmxhZ3MpOw0KIHB1dF9mZW5jZToN
CiAJZG1hX2ZlbmNlX3B1dChmZW5jZSk7DQogDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9kbWEtYnVm
L3N5bmNfZGVidWcuaCBiL2RyaXZlcnMvZG1hLWJ1Zi9zeW5jX2RlYnVnLmgNCmluZGV4IDAyYWYz
NDcyOTNkMC4uYzQ5MzI0NTA1YjIwIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9kbWEtYnVmL3N5bmNf
ZGVidWcuaA0KKysrIGIvZHJpdmVycy9kbWEtYnVmL3N5bmNfZGVidWcuaA0KQEAgLTQ3LDcgKzQ3
LDcgQEAgc3RydWN0IHN5bmNfdGltZWxpbmUgew0KIA0KIHN0YXRpYyBpbmxpbmUgc3RydWN0IHN5
bmNfdGltZWxpbmUgKmRtYV9mZW5jZV9wYXJlbnQoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpDQog
ew0KLQlyZXR1cm4gY29udGFpbmVyX29mKGZlbmNlLT5sb2NrLCBzdHJ1Y3Qgc3luY190aW1lbGlu
ZSwgbG9jayk7DQorCXJldHVybiBjb250YWluZXJfb2YoZmVuY2UtPmV4dGVybl9sb2NrLCBzdHJ1
Y3Qgc3luY190aW1lbGluZSwgbG9jayk7DQogfQ0KIA0KIC8qKg0KZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfcmluZy5jDQppbmRleCBjNTk2YjZkZjJlMmQuLjYwOTIyNDYzYjQxNSAx
MDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMNCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMNCkBAIC00NzQsMTAg
KzQ3NCwxMCBAQCBib29sIGFtZGdwdV9yaW5nX3NvZnRfcmVjb3Zlcnkoc3RydWN0IGFtZGdwdV9y
aW5nICpyaW5nLCB1bnNpZ25lZCBpbnQgdm1pZCwNCiAJaWYgKGFtZGdwdV9zcmlvdl92ZihyaW5n
LT5hZGV2KSB8fCAhcmluZy0+ZnVuY3MtPnNvZnRfcmVjb3ZlcnkgfHwgIWZlbmNlKQ0KIAkJcmV0
dXJuIGZhbHNlOw0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShmZW5jZS0+bG9jaywgZmxhZ3MpOw0K
KwlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCWlmICghZG1hX2ZlbmNl
X2lzX3NpZ25hbGVkX2xvY2tlZChmZW5jZSkpDQogCQlkbWFfZmVuY2Vfc2V0X2Vycm9yKGZlbmNl
LCAtRU5PREFUQSk7DQotCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGZsYWdz
KTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLCBmbGFncyk7DQogDQogCXdo
aWxlICghZG1hX2ZlbmNlX2lzX3NpZ25hbGVkKGZlbmNlKSAmJg0KIAkgICAgICAga3RpbWVfdG9f
bnMoa3RpbWVfc3ViKGRlYWRsaW5lLCBrdGltZV9nZXQoKSkpID4gMCkNCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV92bS5jDQppbmRleCBhNjcyODUxMThjMzcuLjllYTE5NmU4ODU4OCAx
MDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jDQorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYw0KQEAgLTI3ODIsOCArMjc4
Miw4IEBAIHZvaWQgYW1kZ3B1X3ZtX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0
cnVjdCBhbWRncHVfdm0gKnZtKQ0KIAlkbWFfZmVuY2VfcHV0KHZtLT5sYXN0X3VubG9ja2VkKTsN
CiAJZG1hX2ZlbmNlX3dhaXQodm0tPmxhc3RfdGxiX2ZsdXNoLCBmYWxzZSk7DQogCS8qIE1ha2Ug
c3VyZSB0aGF0IGFsbCBmZW5jZSBjYWxsYmFja3MgaGF2ZSBjb21wbGV0ZWQgKi8NCi0Jc3Bpbl9s
b2NrX2lycXNhdmUodm0tPmxhc3RfdGxiX2ZsdXNoLT5sb2NrLCBmbGFncyk7DQotCXNwaW5fdW5s
b2NrX2lycXJlc3RvcmUodm0tPmxhc3RfdGxiX2ZsdXNoLT5sb2NrLCBmbGFncyk7DQorCWRtYV9m
ZW5jZV9sb2NrX2lycXNhdmUodm0tPmxhc3RfdGxiX2ZsdXNoLCBmbGFncyk7DQorCWRtYV9mZW5j
ZV91bmxvY2tfaXJxcmVzdG9yZSh2bS0+bGFzdF90bGJfZmx1c2gsIGZsYWdzKTsNCiAJZG1hX2Zl
bmNlX3B1dCh2bS0+bGFzdF90bGJfZmx1c2gpOw0KIA0KIAlsaXN0X2Zvcl9lYWNoX2VudHJ5X3Nh
ZmUobWFwcGluZywgdG1wLCAmdm0tPmZyZWVkLCBsaXN0KSB7DQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdm0uaA0KaW5kZXggMTVkNzU3YzAxNmNiLi5lYWUxMDVhNmNmMzcgMTAwNjQ0
DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uaA0KKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmgNCkBAIC02MjcsMjAgKzYyNywyMCBA
QCBib29sIGFtZGdwdV92bV9pc19ib19hbHdheXNfdmFsaWQoc3RydWN0IGFtZGdwdV92bSAqdm0s
IHN0cnVjdCBhbWRncHVfYm8gKmJvKTsNCiAgKi8NCiBzdGF0aWMgaW5saW5lIHVpbnQ2NF90IGFt
ZGdwdV92bV90bGJfc2VxKHN0cnVjdCBhbWRncHVfdm0gKnZtKQ0KIHsNCisJc3RydWN0IGRtYV9m
ZW5jZSAqZmVuY2U7DQogCXVuc2lnbmVkIGxvbmcgZmxhZ3M7DQotCXNwaW5sb2NrX3QgKmxvY2s7
DQogDQogCS8qDQogCSAqIFdvcmthcm91bmQgdG8gc3RvcCByYWNpbmcgYmV0d2VlbiB0aGUgZmVu
Y2Ugc2lnbmFsaW5nIGFuZCBoYW5kbGluZw0KLQkgKiB0aGUgY2IuIFRoZSBsb2NrIGlzIHN0YXRp
YyBhZnRlciBpbml0aWFsbHkgc2V0dGluZyBpdCB1cCwganVzdCBtYWtlDQotCSAqIHN1cmUgdGhh
dCB0aGUgZG1hX2ZlbmNlIHN0cnVjdHVyZSBpc24ndCBmcmVlZCB1cC4NCisJICogdGhlIGNiLg0K
IAkgKi8NCiAJcmN1X3JlYWRfbG9jaygpOw0KLQlsb2NrID0gdm0tPmxhc3RfdGxiX2ZsdXNoLT5s
b2NrOw0KKwlmZW5jZSA9IGRtYV9mZW5jZV9nZXRfcmN1KHZtLT5sYXN0X3RsYl9mbHVzaCk7DQog
CXJjdV9yZWFkX3VubG9jaygpOw0KIA0KLQlzcGluX2xvY2tfaXJxc2F2ZShsb2NrLCBmbGFncyk7
DQotCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUobG9jaywgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfbG9j
a19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQorCWRtYV9mZW5jZV91bmxvY2tfaXJxcmVzdG9yZShm
ZW5jZSwgZmxhZ3MpOw0KKwlkbWFfZmVuY2VfcHV0KGZlbmNlKTsNCiANCiAJcmV0dXJuIGF0b21p
YzY0X3JlYWQoJnZtLT50bGJfc2VxKTsNCiB9DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2RybV9jcnRjLmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2NydGMuYw0KaW5kZXggYTc3OTdkMjYw
ZjFlLi4xNzQ3MjkxNTg0MmYgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2NydGMu
Yw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9jcnRjLmMNCkBAIC0xNTksNyArMTU5LDcgQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCBkbWFfZmVuY2Vfb3BzIGRybV9jcnRjX2ZlbmNlX29wczsNCiBz
dGF0aWMgc3RydWN0IGRybV9jcnRjICpmZW5jZV90b19jcnRjKHN0cnVjdCBkbWFfZmVuY2UgKmZl
bmNlKQ0KIHsNCiAJQlVHX09OKGZlbmNlLT5vcHMgIT0gJmRybV9jcnRjX2ZlbmNlX29wcyk7DQot
CXJldHVybiBjb250YWluZXJfb2YoZmVuY2UtPmxvY2ssIHN0cnVjdCBkcm1fY3J0YywgZmVuY2Vf
bG9jayk7DQorCXJldHVybiBjb250YWluZXJfb2YoZmVuY2UtPmV4dGVybl9sb2NrLCBzdHJ1Y3Qg
ZHJtX2NydGMsIGZlbmNlX2xvY2spOw0KIH0NCiANCiBzdGF0aWMgY29uc3QgY2hhciAqZHJtX2Ny
dGNfZmVuY2VfZ2V0X2RyaXZlcl9uYW1lKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQ0KZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fd3JpdGViYWNrLmMgYi9kcml2ZXJzL2dwdS9kcm0v
ZHJtX3dyaXRlYmFjay5jDQppbmRleCA5NWI4YTJlNGJkYTYuLjYyNGE0ZThiNmM5OSAxMDA2NDQN
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9kcm1fd3JpdGViYWNrLmMNCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9kcm1fd3JpdGViYWNrLmMNCkBAIC04MSw3ICs4MSw3IEBADQogICoJRnJvbSB1c2Vyc3Bh
Y2UsIHRoaXMgcHJvcGVydHkgd2lsbCBhbHdheXMgcmVhZCBhcyB6ZXJvLg0KICAqLw0KIA0KLSNk
ZWZpbmUgZmVuY2VfdG9fd2JfY29ubmVjdG9yKHgpIGNvbnRhaW5lcl9vZih4LT5sb2NrLCBcDQor
I2RlZmluZSBmZW5jZV90b193Yl9jb25uZWN0b3IoeCkgY29udGFpbmVyX29mKHgtPmV4dGVybl9s
b2NrLCBcDQogCQkJCQkgICAgICBzdHJ1Y3QgZHJtX3dyaXRlYmFja19jb25uZWN0b3IsIFwNCiAJ
CQkJCSAgICAgIGZlbmNlX2xvY2spDQogDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL25v
dXZlYXUvbm91dmVhdV9kcm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZHJt
LmMNCmluZGV4IDE1MjdiODAxZjAxMy4uZWM0ZGZhM2VhNzI1IDEwMDY0NA0KLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9kcm0uYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL25v
dXZlYXUvbm91dmVhdV9kcm0uYw0KQEAgLTE1NiwxMiArMTU2LDEzIEBAIG5vdXZlYXVfbmFtZShz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2KQ0KIHN0YXRpYyBpbmxpbmUgYm9vbA0KIG5vdXZlYXVfY2xp
X3dvcmtfcmVhZHkoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpDQogew0KKwl1bnNpZ25lZCBsb25n
IGZsYWdzOw0KIAlib29sIHJldCA9IHRydWU7DQogDQotCXNwaW5fbG9ja19pcnEoZmVuY2UtPmxv
Y2spOw0KKwlkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNlLCBmbGFncyk7DQogCWlmICghZG1h
X2ZlbmNlX2lzX3NpZ25hbGVkX2xvY2tlZChmZW5jZSkpDQogCQlyZXQgPSBmYWxzZTsNCi0Jc3Bp
bl91bmxvY2tfaXJxKGZlbmNlLT5sb2NrKTsNCisJZG1hX2ZlbmNlX3VubG9ja19pcnFyZXN0b3Jl
KGZlbmNlLCBmbGFncyk7DQogDQogCWlmIChyZXQgPT0gdHJ1ZSkNCiAJCWRtYV9mZW5jZV9wdXQo
ZmVuY2UpOw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZmVu
Y2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfZmVuY2UuYw0KaW5kZXggNGEx
OTNiN2Q2ZDllLi5jMjgyYzk0MTM4YjIgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91
dmVhdS9ub3V2ZWF1X2ZlbmNlLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZl
YXVfZmVuY2UuYw0KQEAgLTQxLDcgKzQxLDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkbWFfZmVu
Y2Vfb3BzIG5vdXZlYXVfZmVuY2Vfb3BzX2xlZ2FjeTsNCiBzdGF0aWMgaW5saW5lIHN0cnVjdCBu
b3V2ZWF1X2ZlbmNlX2NoYW4gKg0KIG5vdXZlYXVfZmN0eChzdHJ1Y3Qgbm91dmVhdV9mZW5jZSAq
ZmVuY2UpDQogew0KLQlyZXR1cm4gY29udGFpbmVyX29mKGZlbmNlLT5iYXNlLmxvY2ssIHN0cnVj
dCBub3V2ZWF1X2ZlbmNlX2NoYW4sIGxvY2spOw0KKwlyZXR1cm4gY29udGFpbmVyX29mKGZlbmNl
LT5iYXNlLmV4dGVybl9sb2NrLCBzdHJ1Y3Qgbm91dmVhdV9mZW5jZV9jaGFuLA0KKwkJCSAgICBs
b2NrKTsNCiB9DQogDQogc3RhdGljIGJvb2wNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
cXhsL3F4bF9yZWxlYXNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF9yZWxlYXNlLmMNCmlu
ZGV4IDdiM2M5YTYwMTZkYi4uZGUwNWUzOTJkZjg4IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3F4bC9xeGxfcmVsZWFzZS5jDQorKysgYi9kcml2ZXJzL2dwdS9kcm0vcXhsL3F4bF9yZWxl
YXNlLmMNCkBAIC02Miw3ICs2Miw4IEBAIHN0YXRpYyBsb25nIHF4bF9mZW5jZV93YWl0KHN0cnVj
dCBkbWFfZmVuY2UgKmZlbmNlLCBib29sIGludHIsDQogCXN0cnVjdCBxeGxfZGV2aWNlICpxZGV2
Ow0KIAl1bnNpZ25lZCBsb25nIGN1ciwgZW5kID0gamlmZmllcyArIHRpbWVvdXQ7DQogDQotCXFk
ZXYgPSBjb250YWluZXJfb2YoZmVuY2UtPmxvY2ssIHN0cnVjdCBxeGxfZGV2aWNlLCByZWxlYXNl
X2xvY2spOw0KKwlxZGV2ID0gY29udGFpbmVyX29mKGZlbmNlLT5leHRlcm5fbG9jaywgc3RydWN0
IHF4bF9kZXZpY2UsDQorCQkJICAgIHJlbGVhc2VfbG9jayk7DQogDQogCWlmICghd2FpdF9ldmVu
dF90aW1lb3V0KHFkZXYtPnJlbGVhc2VfZXZlbnQsDQogCQkJCShkbWFfZmVuY2VfaXNfc2lnbmFs
ZWQoZmVuY2UpIHx8DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3NjaGVkdWxlci9zY2hl
ZF9mZW5jZS5jIGIvZHJpdmVycy9ncHUvZHJtL3NjaGVkdWxlci9zY2hlZF9mZW5jZS5jDQppbmRl
eCA5MzkxZDZmMGRjMDEuLjA4Y2NiZGU4YjJmNSAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9zY2hlZHVsZXIvc2NoZWRfZmVuY2UuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL3NjaGVkdWxl
ci9zY2hlZF9mZW5jZS5jDQpAQCAtMTU2LDcgKzE1Niw3IEBAIHN0YXRpYyB2b2lkIGRybV9zY2hl
ZF9mZW5jZV9zZXRfZGVhZGxpbmVfZmluaXNoZWQoc3RydWN0IGRtYV9mZW5jZSAqZiwNCiAJc3Ry
dWN0IGRtYV9mZW5jZSAqcGFyZW50Ow0KIAl1bnNpZ25lZCBsb25nIGZsYWdzOw0KIA0KLQlzcGlu
X2xvY2tfaXJxc2F2ZSgmZmVuY2UtPmxvY2ssIGZsYWdzKTsNCisJZG1hX2ZlbmNlX2xvY2tfaXJx
c2F2ZShmLCBmbGFncyk7DQogDQogCS8qIElmIHdlIGFscmVhZHkgaGF2ZSBhbiBlYXJsaWVyIGRl
YWRsaW5lLCBrZWVwIGl0OiAqLw0KIAlpZiAodGVzdF9iaXQoRFJNX1NDSEVEX0ZFTkNFX0ZMQUdf
SEFTX0RFQURMSU5FX0JJVCwgJmYtPmZsYWdzKSAmJg0KQEAgLTE2OCw3ICsxNjgsNyBAQCBzdGF0
aWMgdm9pZCBkcm1fc2NoZWRfZmVuY2Vfc2V0X2RlYWRsaW5lX2ZpbmlzaGVkKHN0cnVjdCBkbWFf
ZmVuY2UgKmYsDQogCWZlbmNlLT5kZWFkbGluZSA9IGRlYWRsaW5lOw0KIAlzZXRfYml0KERSTV9T
Q0hFRF9GRU5DRV9GTEFHX0hBU19ERUFETElORV9CSVQsICZmLT5mbGFncyk7DQogDQotCXNwaW5f
dW5sb2NrX2lycXJlc3RvcmUoJmZlbmNlLT5sb2NrLCBmbGFncyk7DQorCWRtYV9mZW5jZV91bmxv
Y2tfaXJxcmVzdG9yZShmLCBmbGFncyk7DQogDQogCS8qDQogCSAqIHNtcF9sb2FkX2FxdWlyZSgp
IHRvIGVuc3VyZSB0aGF0IGlmIHdlIGFyZSByYWNpbmcgYW5vdGhlcg0KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2ZlbmNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vdm13
Z2Z4L3Ztd2dmeF9mZW5jZS5jDQppbmRleCAwMGJlOTJkYTU1MDkuLjYyMWFhMGFhODQwNiAxMDA2
NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2ZlbmNlLmMNCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X2ZlbmNlLmMNCkBAIC00Nyw3ICs0Nyw4IEBAIHN0
cnVjdCB2bXdfZXZlbnRfZmVuY2VfYWN0aW9uIHsNCiBzdGF0aWMgc3RydWN0IHZtd19mZW5jZV9t
YW5hZ2VyICoNCiBmbWFuX2Zyb21fZmVuY2Uoc3RydWN0IHZtd19mZW5jZV9vYmogKmZlbmNlKQ0K
IHsNCi0JcmV0dXJuIGNvbnRhaW5lcl9vZihmZW5jZS0+YmFzZS5sb2NrLCBzdHJ1Y3Qgdm13X2Zl
bmNlX21hbmFnZXIsIGxvY2spOw0KKwlyZXR1cm4gY29udGFpbmVyX29mKGZlbmNlLT5iYXNlLmV4
dGVybl9sb2NrLCBzdHJ1Y3Qgdm13X2ZlbmNlX21hbmFnZXIsDQorCQkJICAgIGxvY2spOw0KIH0N
CiANCiBzdGF0aWMgdm9pZCB2bXdfZmVuY2Vfb2JqX2Rlc3Ryb3koc3RydWN0IGRtYV9mZW5jZSAq
ZikNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0veGUveGVfaHdfZmVuY2UuYyBiL2RyaXZl
cnMvZ3B1L2RybS94ZS94ZV9od19mZW5jZS5jDQppbmRleCBmNjA1NzQ1NmU0NjAuLjNkODljNjYw
ZWE3MyAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS94ZS94ZV9od19mZW5jZS5jDQorKysg
Yi9kcml2ZXJzL2dwdS9kcm0veGUveGVfaHdfZmVuY2UuYw0KQEAgLTE0Miw3ICsxNDIsOCBAQCBz
dGF0aWMgc3RydWN0IHhlX2h3X2ZlbmNlICp0b194ZV9od19mZW5jZShzdHJ1Y3QgZG1hX2ZlbmNl
ICpmZW5jZSk7DQogDQogc3RhdGljIHN0cnVjdCB4ZV9od19mZW5jZV9pcnEgKnhlX2h3X2ZlbmNl
X2lycShzdHJ1Y3QgeGVfaHdfZmVuY2UgKmZlbmNlKQ0KIHsNCi0JcmV0dXJuIGNvbnRhaW5lcl9v
ZihmZW5jZS0+ZG1hLmxvY2ssIHN0cnVjdCB4ZV9od19mZW5jZV9pcnEsIGxvY2spOw0KKwlyZXR1
cm4gY29udGFpbmVyX29mKGZlbmNlLT5kbWEuZXh0ZXJuX2xvY2ssIHN0cnVjdCB4ZV9od19mZW5j
ZV9pcnEsDQorCQkJICAgIGxvY2spOw0KIH0NCiANCiBzdGF0aWMgY29uc3QgY2hhciAqeGVfaHdf
ZmVuY2VfZ2V0X2RyaXZlcl9uYW1lKHN0cnVjdCBkbWFfZmVuY2UgKmRtYV9mZW5jZSkNCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0veGUveGVfc2NoZWRfam9iLmMgYi9kcml2ZXJzL2dwdS9k
cm0veGUveGVfc2NoZWRfam9iLmMNCmluZGV4IGNiNjc0YTMyMjExMy4uOWE0M2VkNjg5ZTY1IDEw
MDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL3hlL3hlX3NjaGVkX2pvYi5jDQorKysgYi9kcml2
ZXJzL2dwdS9kcm0veGUveGVfc2NoZWRfam9iLmMNCkBAIC0xODksMTEgKzE4OSwxMSBAQCBzdGF0
aWMgYm9vbCB4ZV9mZW5jZV9zZXRfZXJyb3Ioc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGludCBl
cnJvcikNCiAJdW5zaWduZWQgbG9uZyBpcnFfZmxhZ3M7DQogCWJvb2wgc2lnbmFsZWQ7DQogDQot
CXNwaW5fbG9ja19pcnFzYXZlKGZlbmNlLT5sb2NrLCBpcnFfZmxhZ3MpOw0KKwlkbWFfZmVuY2Vf
bG9ja19pcnFzYXZlKGZlbmNlLCBpcnFfZmxhZ3MpOw0KIAlzaWduYWxlZCA9IHRlc3RfYml0KERN
QV9GRU5DRV9GTEFHX1NJR05BTEVEX0JJVCwgJmZlbmNlLT5mbGFncyk7DQogCWlmICghc2lnbmFs
ZWQpDQogCQlkbWFfZmVuY2Vfc2V0X2Vycm9yKGZlbmNlLCBlcnJvcik7DQotCXNwaW5fdW5sb2Nr
X2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGlycV9mbGFncyk7DQorCWRtYV9mZW5jZV91bmxvY2tf
aXJxcmVzdG9yZShmZW5jZSwgaXJxX2ZsYWdzKTsNCiANCiAJcmV0dXJuIHNpZ25hbGVkOw0KIH0N
CmRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2RtYS1mZW5jZS5oIGIvaW5jbHVkZS9saW51eC9k
bWEtZmVuY2UuaA0KaW5kZXggZTZkNzUzMTA3MTQzLi5lYjg4NTFlYTVmYTEgMTAwNjQ0DQotLS0g
YS9pbmNsdWRlL2xpbnV4L2RtYS1mZW5jZS5oDQorKysgYi9pbmNsdWRlL2xpbnV4L2RtYS1mZW5j
ZS5oDQpAQCAtMzQsNyArMzQsOCBAQCBzdHJ1Y3Qgc2VxX2ZpbGU7DQogICogQG9wczogZG1hX2Zl
bmNlX29wcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBmZW5jZQ0KICAqIEByY3U6IHVzZWQgZm9yIHJl
bGVhc2luZyBmZW5jZSB3aXRoIGtmcmVlX3JjdQ0KICAqIEBjYl9saXN0OiBsaXN0IG9mIGFsbCBj
YWxsYmFja3MgdG8gY2FsbA0KLSAqIEBsb2NrOiBzcGluX2xvY2tfaXJxc2F2ZSB1c2VkIGZvciBs
b2NraW5nDQorICogQGV4dGVybl9sb2NrOiBleHRlcm5hbCBzcGluX2xvY2tfaXJxc2F2ZSB1c2Vk
IGZvciBsb2NraW5nDQorICogQGlubGluZV9sb2NrOiBhbHRlcm5hdGl2ZSBpbnRlcm5hbCBzcGlu
X2xvY2tfaXJxc2F2ZSB1c2VkIGZvciBsb2NraW5nDQogICogQGNvbnRleHQ6IGV4ZWN1dGlvbiBj
b250ZXh0IHRoaXMgZmVuY2UgYmVsb25ncyB0bywgcmV0dXJuZWQgYnkNCiAgKiAgICAgICAgICAg
ZG1hX2ZlbmNlX2NvbnRleHRfYWxsb2MoKQ0KICAqIEBzZXFubzogdGhlIHNlcXVlbmNlIG51bWJl
ciBvZiB0aGlzIGZlbmNlIGluc2lkZSB0aGUgZXhlY3V0aW9uIGNvbnRleHQsDQpAQCAtNDgsNiAr
NDksNyBAQCBzdHJ1Y3Qgc2VxX2ZpbGU7DQogICogYXRvbWljIG9wcyAoYml0XyopLCBzbyB0YWtp
bmcgdGhlIHNwaW5sb2NrIHdpbGwgbm90IGJlIG5lZWRlZCBtb3N0DQogICogb2YgdGhlIHRpbWUu
DQogICoNCisgKiBETUFfRkVOQ0VfRkxBR19JTkxJTkVfTE9DS19CSVQgLSB1c2UgaW5saW5lIHNw
aW5sb2NrIGluc3RlYWQgb2YgZXh0ZXJuYWwgb25lDQogICogRE1BX0ZFTkNFX0ZMQUdfU0lHTkFM
RURfQklUIC0gZmVuY2UgaXMgYWxyZWFkeSBzaWduYWxlZA0KICAqIERNQV9GRU5DRV9GTEFHX1RJ
TUVTVEFNUF9CSVQgLSB0aW1lc3RhbXAgcmVjb3JkZWQgZm9yIGZlbmNlIHNpZ25hbGluZw0KICAq
IERNQV9GRU5DRV9GTEFHX0VOQUJMRV9TSUdOQUxfQklUIC0gZW5hYmxlX3NpZ25hbGluZyBtaWdo
dCBoYXZlIGJlZW4gY2FsbGVkDQpAQCAtNjUsNyArNjcsMTAgQEAgc3RydWN0IHNlcV9maWxlOw0K
ICAqIGJlZW4gY29tcGxldGVkLCBvciBuZXZlciBjYWxsZWQgYXQgYWxsLg0KICAqLw0KIHN0cnVj
dCBkbWFfZmVuY2Ugew0KLQlzcGlubG9ja190ICpsb2NrOw0KKwl1bmlvbiB7DQorCQlzcGlubG9j
a190ICpleHRlcm5fbG9jazsNCisJCXNwaW5sb2NrX3QgaW5saW5lX2xvY2s7DQorCX07DQogCWNv
bnN0IHN0cnVjdCBkbWFfZmVuY2Vfb3BzIF9fcmN1ICpvcHM7DQogCS8qDQogCSAqIFdlIGNsZWFy
IHRoZSBjYWxsYmFjayBsaXN0IG9uIGtyZWZfcHV0IHNvIHRoYXQgYnkgdGhlIHRpbWUgd2UNCkBA
IC05OCw2ICsxMDMsNyBAQCBzdHJ1Y3QgZG1hX2ZlbmNlIHsNCiB9Ow0KIA0KIGVudW0gZG1hX2Zl
bmNlX2ZsYWdfYml0cyB7DQorCURNQV9GRU5DRV9GTEFHX0lOTElORV9MT0NLX0JJVCwNCiAJRE1B
X0ZFTkNFX0ZMQUdfU0VRTk82NF9CSVQsDQogCURNQV9GRU5DRV9GTEFHX1NJR05BTEVEX0JJVCwN
CiAJRE1BX0ZFTkNFX0ZMQUdfVElNRVNUQU1QX0JJVCwNCkBAIC0zNjIsNiArMzY4LDM4IEBAIGRt
YV9mZW5jZV9nZXRfcmN1X3NhZmUoc3RydWN0IGRtYV9mZW5jZSBfX3JjdSAqKmZlbmNlcCkNCiAJ
fSB3aGlsZSAoMSk7DQogfQ0KIA0KKy8qKg0KKyAqIGRtYV9mZW5jZV9zcGlubG9jayAtIHJldHVy
biBwb2ludGVyIHRvIHRoZSBzcGlubG9jayBwcm90ZWN0aW5nIHRoZSBmZW5jZQ0KKyAqIEBmZW5j
ZTogdGhlIGZlbmNlIHRvIGdldCB0aGUgbG9jayBmcm9tDQorICoNCisgKiBSZXR1cm4gZWl0aGVy
IHRoZSBwb2ludGVyIHRvIHRoZSBlbWJlZGRlZCBvciB0aGUgZXh0ZXJuYWwgc3BpbiBsb2NrLg0K
KyAqLw0KK3N0YXRpYyBpbmxpbmUgc3BpbmxvY2tfdCAqZG1hX2ZlbmNlX3NwaW5sb2NrKHN0cnVj
dCBkbWFfZmVuY2UgKmZlbmNlKQ0KK3sNCisJcmV0dXJuIHRlc3RfYml0KERNQV9GRU5DRV9GTEFH
X0lOTElORV9MT0NLX0JJVCwgJmZlbmNlLT5mbGFncykgPw0KKwkJJmZlbmNlLT5pbmxpbmVfbG9j
ayA6IGZlbmNlLT5leHRlcm5fbG9jazsNCit9DQorDQorLyoqDQorICogZG1hX2ZlbmNlX2xvY2tf
aXJxc2F2ZSAtIGlycXNhdmUgbG9jayB0aGUgZmVuY2UNCisgKiBAZmVuY2U6IHRoZSBmZW5jZSB0
byBsb2NrDQorICogQGZsYWdzOiB3aGVyZSB0byBzdG9yZSB0aGUgQ1BVIGZsYWdzLg0KKyAqDQor
ICogTG9jayB0aGUgZmVuY2UsIHByZXZlbnRpbmcgaXQgZnJvbSBjaGFuZ2luZyB0byB0aGUgc2ln
bmFsZWQgc3RhdGUuDQorICovDQorI2RlZmluZSBkbWFfZmVuY2VfbG9ja19pcnFzYXZlKGZlbmNl
LCBmbGFncykJXA0KKwlzcGluX2xvY2tfaXJxc2F2ZShkbWFfZmVuY2Vfc3BpbmxvY2soZmVuY2Up
LCBmbGFncykNCisNCisvKioNCisgKiBkbWFfZmVuY2VfdW5sb2NrX2lycXJlc3RvcmUgLSB1bmxv
Y2sgdGhlIGZlbmNlIGFuZCBpcnFyZXN0b3JlDQorICogQGZlbmNlOiB0aGUgZmVuY2UgdG8gdW5s
b2NrDQorICogQGZsYWdzIHRoZSBDUFUgZmxhZ3MgdG8gcmVzdG9yZQ0KKyAqDQorICogVW5sb2Nr
IHRoZSBmZW5jZSwgYWxsb3dpbmcgaXQgdG8gY2hhbmdlIGl0J3Mgc3RhdGUgdG8gc2lnbmFsZWQg
YWdhaW4uDQorICovDQorI2RlZmluZSBkbWFfZmVuY2VfdW5sb2NrX2lycXJlc3RvcmUoZmVuY2Us
IGZsYWdzKQlcDQorCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoZG1hX2ZlbmNlX3NwaW5sb2NrKGZl
bmNlKSwgZmxhZ3MpDQorDQogI2lmZGVmIENPTkZJR19MT0NLREVQDQogYm9vbCBkbWFfZmVuY2Vf
YmVnaW5fc2lnbmFsbGluZyh2b2lkKTsNCiB2b2lkIGRtYV9mZW5jZV9lbmRfc2lnbmFsbGluZyhi
b29sIGNvb2tpZSk7DQotLSANCjIuNDMuMA0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpMaW5hcm8tbW0tc2lnIG1haWxpbmcgbGlzdCAtLSBsaW5hcm8t
bW0tc2lnQGxpc3RzLmxpbmFyby5vcmcKVG8gdW5zdWJzY3JpYmUgc2VuZCBhbiBlbWFpbCB0byBs
aW5hcm8tbW0tc2lnLWxlYXZlQGxpc3RzLmxpbmFyby5vcmcK
