Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 53D7539AD25
	for <lists+linaro-mm-sig@lfdr.de>; Thu,  3 Jun 2021 23:48:13 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 831CB6088A
	for <lists+linaro-mm-sig@lfdr.de>; Thu,  3 Jun 2021 21:48:11 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 3514C60E9C; Thu,  3 Jun 2021 21:48:10 +0000 (UTC)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 3A7BC6066C;
	Thu,  3 Jun 2021 21:48:07 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id C7DE960572
 for <linaro-mm-sig@lists.linaro.org>; Thu,  3 Jun 2021 21:48:05 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id BD92B6066C; Thu,  3 Jun 2021 21:48:05 +0000 (UTC)
Received: from mail-qv1-f73.google.com (mail-qv1-f73.google.com
 [209.85.219.73])
 by lists.linaro.org (Postfix) with ESMTPS id B2F2660572
 for <linaro-mm-sig@lists.linaro.org>; Thu,  3 Jun 2021 21:48:03 +0000 (UTC)
Received: by mail-qv1-f73.google.com with SMTP id
 dr11-20020a05621408ebb029021e40008bd5so4550303qvb.0
 for <linaro-mm-sig@lists.linaro.org>; Thu, 03 Jun 2021 14:48:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=20161025;
 h=date:message-id:mime-version:subject:from:to:cc
 :content-transfer-encoding;
 bh=xBMBTCG9clLeLndmvJxIQrAZo4U8jS3hu/WI/hx/a1I=;
 b=GEVz0TF1D+O2DSy9/XAHmME62ykoPhuSeRPi8bGtDvau0+FqS28oBEnIjvbAyu0AQB
 xbb7VBiDL2Cnaw0oOts+PqWxisEjyYSLd9zX4pMp7RRaUwSPTzDkrVGpk00Z9r5RCddm
 AaVcGeyYgfAX8I4+oZSqSLudkYar10JavjfYk5l18S+/sliE3gM47aWWOG1Mk13SvOkx
 CDM0nrzBgB8S6Y2bhAsE76Fb3uQSSTzSXZ81H5JpSZ5wCS8e2DiTiHHyTwl7hqyIwPWG
 tg9BQJ4YDu8X0aL+vSHjUw3TtA5upFSa1DscMrv3hMtRMvwutJdY3FNejpUcgB6GvkAz
 NnLw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:message-id:mime-version:subject:from:to:cc
 :content-transfer-encoding;
 bh=xBMBTCG9clLeLndmvJxIQrAZo4U8jS3hu/WI/hx/a1I=;
 b=GRr4o4ydeWYjNploW+e0kYDC4/XLcVXYuOSrsaL8ICiRNzm2BHhNEN3LVSFYw8GGfb
 gtO8FFiDak6YDzxVjTTbuk1q1gDoGYQdjxQoZAkiA00iyYh3bwxvfjIzgJ0rfnJ891dP
 aTRG3g8kxx96AEqMG7NSvaCGgJfnTauVMCWMxEyVpn0sAOJwMpIRfQBI2Xn0i7J2Lgpm
 4bxDFEG7u6TTFii6qwvGO693+jzPGtNwZRxXmt4we0yuzrvzgHrOCL7Hq/FCtwvsgZnS
 6GX4lJEgGf26HF7axYVaeUDMSMcGtzhQwbw1dWc8X+tBmfHKhcthhyF0ZxGVP0ko3Js0
 Bmdw==
X-Gm-Message-State: AOAM533AzMoQqjVBYef8xKnJgUF0p3dffg9tsFM+cSR4pR8FREcArv/y
 txTd0dI5t27rV3JT3h9NH5fWaEgrhws=
X-Google-Smtp-Source: ABdhPJy4E/mCf/YrVGNDI7Hd/9E4qenZnWW0dIB9iUzdd2/GzEM8DixveUwKElewZYV8uEabe3yaT8uKLA4=
X-Received: from hridya.mtv.corp.google.com
 ([2620:15c:211:200:9aed:df8b:305e:ad79])
 (user=hridya job=sendgmr) by 2002:a05:6214:16c1:: with SMTP id
 d1mr1436663qvz.62.1622756883325; Thu, 03 Jun 2021 14:48:03 -0700 (PDT)
Date: Thu,  3 Jun 2021 14:47:51 -0700
Message-Id: <20210603214758.2955251-1-hridya@google.com>
Mime-Version: 1.0
X-Mailer: git-send-email 2.32.0.rc1.229.g3e70b5a671-goog
From: Hridya Valsaraju <hridya@google.com>
To: daniel@ffwll.ch, Sumit Semwal <sumit.semwal@linaro.org>, 
 "=?UTF-8?q?Christian=20K=C3=B6nig?=" <christian.koenig@amd.com>,
 Jonathan Corbet <corbet@lwn.net>, Hridya Valsaraju <hridya@google.com>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>, 
 linux-kernel@vger.kernel.org, linux-media@vger.kernel.org, 
 dri-devel@lists.freedesktop.org, linaro-mm-sig@lists.linaro.org, 
 linux-doc@vger.kernel.org
X-Virus-Scanned: ClamAV using ClamSMTP
Subject: [Linaro-mm-sig] [PATCH v6] dmabuf: Add the capability to expose
 DMA-BUF stats in sysfs
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Cc: surenb@google.com, john.stultz@linaro.org, kernel-team@android.com,
 kernel test robot <lkp@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

T3ZlcnZpZXcKPT09PT09PT0KVGhlIHBhdGNoIGFkZHMgRE1BLUJVRiBzdGF0aXN0aWNzIHRvIC9z
eXMva2VybmVsL2RtYWJ1Zi9idWZmZXJzLiBJdAphbGxvd3Mgc3RhdGlzdGljcyB0byBiZSBlbmFi
bGVkIGZvciBlYWNoIERNQS1CVUYgaW4gc3lzZnMgYnkgZW5hYmxpbmcKdGhlIGNvbmZpZyBDT05G
SUdfRE1BQlVGX1NZU0ZTX1NUQVRTLgoKVGhlIGZvbGxvd2luZyBzdGF0cyB3aWxsIGJlIGV4cG9z
ZWQgYnkgdGhlIGludGVyZmFjZToKCi9zeXMva2VybmVsL2RtYWJ1Zi9idWZmZXJzLzxpbm9kZV9u
dW1iZXI+L2V4cG9ydGVyX25hbWUKL3N5cy9rZXJuZWwvZG1hYnVmL2J1ZmZlcnMvPGlub2RlX251
bWJlcj4vc2l6ZQovc3lzL2tlcm5lbC9kbWFidWYvYnVmZmVycy88aW5vZGVfbnVtYmVyPi9hdHRh
Y2htZW50cy88YXR0YWNoX3VpZD4vZGV2aWNlCi9zeXMva2VybmVsL2RtYWJ1Zi9idWZmZXJzLzxp
bm9kZV9udW1iZXI+L2F0dGFjaG1lbnRzLzxhdHRhY2hfdWlkPi9tYXBfY291bnRlcgoKVGhlIGlu
b2RlX251bWJlciBpcyB1bmlxdWUgZm9yIGVhY2ggRE1BLUJVRiBhbmQgd2FzIGFkZGVkIGVhcmxp
ZXIgWzFdCmluIG9yZGVyIHRvIGFsbG93IHVzZXJzcGFjZSB0byB0cmFjayBETUEtQlVGIHVzYWdl
IGFjcm9zcyBkaWZmZXJlbnQKcHJvY2Vzc2VzLgoKVXNlIENhc2VzCj09PT09PT09PQpUaGUgaW50
ZXJmYWNlIHByb3ZpZGVzIGEgd2F5IHRvIGdhdGhlciBETUEtQlVGIHBlci1idWZmZXIgc3RhdGlz
dGljcwpmcm9tIHByb2R1Y3Rpb24gZGV2aWNlcy4gVGhlc2Ugc3RhdGlzdGljcyB3aWxsIGJlIHVz
ZWQgdG8gZGVyaXZlIERNQS1CVUYKcGVyLWV4cG9ydGVyIHN0YXRzIGFuZCBwZXItZGV2aWNlIHVz
YWdlIHN0YXRzIGZvciBBbmRyb2lkIEJ1ZyByZXBvcnRzLgpUaGUgY29ycmVzcG9uZGluZyB1c2Vy
c3BhY2UgY2hhbmdlcyBjYW4gYmUgZm91bmQgYXQgWzJdLgpUZWxlbWV0cnkgdG9vbHMgd2lsbCBh
bHNvIGNhcHR1cmUgdGhpcyBpbmZvcm1hdGlvbihhbG9uZyB3aXRoIG90aGVyCm1lbW9yeSBtZXRy
aWNzKSBwZXJpb2RpY2FsbHkgYXMgd2VsbCBhcyBvbiBpbXBvcnRhbnQgZXZlbnRzIGxpa2UgYQpm
b3JlZ3JvdW5kIGFwcCBraWxsICh3aGljaCBtaWdodCBoYXZlIGJlZW4gdHJpZ2dlcmVkIGJ5IExv
dyBNZW1vcnkKS2lsbGVyKS4gSXQgd2lsbCBhbHNvIGNvbnRyaWJ1dGUgdG8gcHJvdmlkZSBhIHNu
YXBzaG90IG9mIHRoZSBzeXN0ZW0KbWVtb3J5IHVzYWdlIG9uIG90aGVyIGV2ZW50cyBzdWNoIGFz
IE9PTSBraWxscyBhbmQgQXBwbGljYXRpb24gTm90ClJlc3BvbmRpbmcgZXZlbnRzLgoKQmFja2dy
b3VuZAo9PT09PT09PT09CkN1cnJlbnRseSwgdGhlcmUgYXJlIHR3byBleGlzdGluZyBpbnRlcmZh
Y2VzIHRoYXQgcHJvdmlkZSBpbmZvcm1hdGlvbgphYm91dCBETUEtQlVGcy4KMSkgL3N5cy9rZXJu
ZWwvZGVidWcvZG1hX2J1Zi9idWZpbmZvCmRlYnVnZnMgaXMgaG93ZXZlciB1bnN1aXRhYmxlIHRv
IGJlIG1vdW50ZWQgaW4gcHJvZHVjdGlvbiBzeXN0ZW1zIGFuZApjYW5ub3QgYmUgY29uc2lkZXJl
ZCBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgc3lzZnMgaW50ZXJmYWNlIGJlaW5nCnByb3Bvc2Vk
LgoyKSBwcm9jLzxwaWQ+L2ZkaW5mby88ZmQ+ClRoZSBwcm9jLzxwaWQ+L2ZkaW5mby88ZmQ+IGZp
bGVzIGV4cG9zZSBpbmZvcm1hdGlvbiBhYm91dCBETUEtQlVGIGZkcy4KSG93ZXZlciwgdGhlIGV4
aXN0aW5nIHByb2NmcyBpbnRlcmZhY2VzIGNhbiBvbmx5IHByb3ZpZGUgaW5mb3JtYXRpb24KYWJv
dXQgdGhlIGJ1ZmZlcnMgZm9yIHdoaWNoIHByb2Nlc3NlcyBob2xkIGZkcyBvciBoYXZlIHRoZSBi
dWZmZXJzCm1tYXBwZWQgaW50byB0aGVpciBhZGRyZXNzIHNwYWNlLiBTaW5jZSB0aGUgcHJvY2Zz
IGludGVyZmFjZXMgYWxvbmUKY2Fubm90IHByb3ZpZGUgYSBmdWxsIHBpY3R1cmUgb2YgYWxsIERN
QS1CVUZzIGluIHRoZSBzeXN0ZW0sIHRoZXJlIGlzCnRoZSBuZWVkIGZvciBhbiBhbHRlcm5hdGUg
aW50ZXJmYWNlIHRvIHByb3ZpZGUgdGhpcyBpbmZvcm1hdGlvbiBvbgpwcm9kdWN0aW9uIHN5c3Rl
bXMuCgpUaGUgcGF0Y2ggY29udGFpbnMgdGhlIGZvbGxvd2luZyBtYWpvciBpbXByb3ZlbWVudHMg
b3ZlciB2MToKMSkgRWFjaCBhdHRhY2htZW50IGlzIHJlcHJlc2VudGVkIGJ5IGl0cyBvd24gZGly
ZWN0b3J5IHRvIGFsbG93IGNyZWF0aW5nCmEgc3ltbGluayB0byB0aGUgaW1wb3J0aW5nIGRldmlj
ZSBhbmQgdG8gYWxzbyBwcm92aWRlIHJvb20gZm9yIGZ1dHVyZQpleHBhbnNpb24uCjIpIFRoZSBu
dW1iZXIgb2YgZGlzdGluY3QgbWFwcGluZ3Mgb2YgZWFjaCBhdHRhY2htZW50IGlzIGV4cG9zZWQg
aW4gYQpzZXBhcmF0ZSBmaWxlLgozKSBUaGUgcGVyLWJ1ZmZlciBzdGF0aXN0aWNzIGFyZSBub3cg
aW4gL3N5cy9rZXJuZWwvZG1hYnVmL2J1ZmZlcnMKaW5vcmRlciB0byBtYWtlIHRoZSBpbnRlcmZh
Y2UgZXhwYW5kYWJsZSBpbiBmdXR1cmUuCgpBbGwgb2YgdGhlIGltcHJvdmVtZW50cyBhYm92ZSBh
cmUgYmFzZWQgb24gc3VnZ2VzdGlvbnMvZmVlZGJhY2sgZnJvbQpEYW5pZWwgVmV0dGVyIGFuZCBD
aHJpc3RpYW4gS8O2bmlnLgoKQSBzaGVsbCBzY3JpcHQgdGhhdCBjYW4gYmUgcnVuIG9uIGEgY2xh
c3NpYyBMaW51eCBlbnZpcm9ubWVudCB0byByZWFkCm91dCB0aGUgRE1BLUJVRiBzdGF0aXN0aWNz
IGNhbiBiZSBmb3VuZCBhdCBbM10oc3VnZ2VzdGVkIGJ5IEpvaG4KU3R1bHR6KS4KClsxXTogaHR0
cHM6Ly9sb3JlLmtlcm5lbC5vcmcvcGF0Y2h3b3JrL3BhdGNoLzEwODg3OTEvClsyXTogaHR0cHM6
Ly9hbmRyb2lkLXJldmlldy5nb29nbGVzb3VyY2UuY29tL3EvdG9waWM6JTIyZG1hYnVmLXN5c2Zz
JTIyKyhzdGF0dXM6b3BlbiUyME9SJTIwc3RhdHVzOm1lcmdlZCkKWzNdOiBodHRwczovL2FuZHJv
aWQtcmV2aWV3Lmdvb2dsZXNvdXJjZS5jb20vYy9wbGF0Zm9ybS9zeXN0ZW0vbWVtb3J5L2xpYm1l
bWluZm8vKy8xNTQ5NzM0CgpSZXZpZXdlZC1ieTogR3JlZyBLcm9haC1IYXJ0bWFuIDxncmVna2hA
bGludXhmb3VuZGF0aW9uLm9yZz4KU2lnbmVkLW9mZi1ieTogSHJpZHlhIFZhbHNhcmFqdSA8aHJp
ZHlhQGdvb2dsZS5jb20+ClJlcG9ydGVkLWJ5OiBrZXJuZWwgdGVzdCByb2JvdCA8bGtwQGludGVs
LmNvbT4KLS0tCgpIZWxsbyBEYW5pZWwsCgpJIGhhdmUgYWRkZWQgdGhlIGRvY3VtZW50YXRpb24g
YXMgYSBET0M6IG92ZXJ2aWV3IHNlY3Rpb24gaW4gdGhlCmRtYS1idWYtc3lzZnMtc3RhdHMuYyBm
aWxlIGFzIHBlciB5b3VyIHN1Z2dlc3Rpb24uIFBsZWFzZSBkbyB0YWtlIGEgbG9vawp3aGVuIHlv
dSBnZXQgYSBjaGFuY2UuIFRoYW5rcyBpbiBhZHZhbmNlIQoKUmVnYXJkcywKSHJpZHlhCgpDaGFu
Z2UgaW4gdjY6Ci1Nb3ZlZCBkb2N1bWVudGF0aW9uIGNvbnRlbnQgZnJvbSBEb2N1bWVudGF0aW9u
L2RyaXZlci1hcGkvZG1hLWJ1Zi5yc3QKdG8gZHJpdmVycy9kbWEtYnVmL2RtYS1idWYtc3lzZnMt
c3RhdHMuYyBhcyBhIERPQyBzZWN0aW9uIGFuZCBsaW5rZWQgdG8KaXQgZnJvbSBEb2N1bWVudGF0
aW9uL2RyaXZlci1hcGkvZG1hLWJ1Zi5yc3QuIEJhc2VkIG9uIGZlZWRiYWNrIGZyb20KRGFuaWVs
IFZldHRlci4KCkNoYW5nZSBpbiB2NToKLUFkZGVkIGEgc2VjdGlvbiBvbiBETUEtQlVGIHN0YXRp
c3RpY3MgdG8KRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL2RtYS1idWYucnN0LiBPcmdhbml6ZWQg
dGhlIGNvbW1pdCBtZXNzYWdlIHRvCmNsZWFybHkgc3RhdGUgdGhlIG5lZWQgZm9yIHRoZSBuZXcg
aW50ZXJmYWNlIGFuZCBwcm92aWRlIHRoZQpiYWNrZ3JvdW5kIG9uIHdoeSB0aGUgZXhpc3Rpbmcg
bWVhbnMgb2YgRE1BLUJVRiBhY2NvdW50aW5nIHdpbGwgbm90CnN1ZmZpY2UuIEJhc2VkIG9uIGZl
ZWRiYWNrIGZyb20gRGFuaWVsIFZldHRlci4KCkNoYW5nZXMgaW4gdjQ6Ci1TdXBwcmVzcyB1ZXZl
bnRzIGZyb20ga3NldCBjcmVhdGlvbiB0byBhdm9pZCB3YWtpbmcgdXAgdWV2ZW50IGxpc3RlbmVy
cwpvbiBETUEtQlVGIGV4cG9ydC9yZWxlYXNlLgoKQ2hhbmdlcyBpbiB2MzoKLUZpeCBhIHdhcm5p
bmcgcmVwb3J0ZWQgYnkgdGhlIGtlcm5lbCB0ZXN0IHJvYm90LgoKQ2hhbmdlcyBpbiB2MjoKLU1v
dmUgc3RhdGlzdGljcyB0byAvc3lzL2tlcm5lbC9kbWFidWYvYnVmZmVycyBpbiBvZGVyIHRvIGFs
bG93IGFkZGl0aW9uCm9mIG90aGVyIERNQS1CVUYtcmVsYXRlZCBzeXNmcyBzdGF0cyBpbiBmdXR1
cmUuIEJhc2VkIG9uIGZlZWRiYWNrIGZyb20KRGFuaWVsIFZldHRlci4KLUVhY2ggYXR0YWNobWVu
dCBoYXMgaXRzIG93biBkaXJlY3RvcnkgdG8gcmVwcmVzZW50IGF0dGFjaGVkIGRldmljZXMgYXMK
c3ltbGlua3MgYW5kIHRvIGludHJvZHVjZSBtYXBfY291bnQgYXMgYSBzZXBhcmF0ZSBmaWxlLiBC
YXNlZCBvbgpmZWVkYmFjayBmcm9tIERhbmllbCBWZXR0ZXIgYW5kIENocmlzdGlhbiBLw7ZuaWcu
IFRoYW5rIHlvdSBib3RoIQotQ29tbWl0IG1lc3NhZ2VzIHVwZGF0ZWQgdG8gcG9pbnQgdG8gdXNl
cnNwYWNlIGNvZGUgaW4gQU9TUCB0aGF0IHdpbGwKcmVhZCB0aGUgRE1BLUJVRiBzeXNmcyBzdGF0
cy4KCiAuLi4vQUJJL3Rlc3Rpbmcvc3lzZnMta2VybmVsLWRtYWJ1Zi1idWZmZXJzICAgfCAgNTIg
KysrCiBEb2N1bWVudGF0aW9uL2RyaXZlci1hcGkvZG1hLWJ1Zi5yc3QgICAgICAgICAgfCAgIDUg
KwogZHJpdmVycy9kbWEtYnVmL0tjb25maWcgICAgICAgICAgICAgICAgICAgICAgIHwgIDExICsK
IGRyaXZlcnMvZG1hLWJ1Zi9NYWtlZmlsZSAgICAgICAgICAgICAgICAgICAgICB8ICAgMSArCiBk
cml2ZXJzL2RtYS1idWYvZG1hLWJ1Zi1zeXNmcy1zdGF0cy5jICAgICAgICAgfCAzMzcgKysrKysr
KysrKysrKysrKysrCiBkcml2ZXJzL2RtYS1idWYvZG1hLWJ1Zi1zeXNmcy1zdGF0cy5oICAgICAg
ICAgfCAgNjIgKysrKwogZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYyAgICAgICAgICAgICAgICAg
ICAgIHwgIDM3ICsrCiBpbmNsdWRlL2xpbnV4L2RtYS1idWYuaCAgICAgICAgICAgICAgICAgICAg
ICAgfCAgMjAgKysKIDggZmlsZXMgY2hhbmdlZCwgNTI1IGluc2VydGlvbnMoKykKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBEb2N1bWVudGF0aW9uL0FCSS90ZXN0aW5nL3N5c2ZzLWtlcm5lbC1kbWFidWYt
YnVmZmVycwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZG1hLWJ1Zi9kbWEtYnVmLXN5c2Zz
LXN0YXRzLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2RtYS1idWYvZG1hLWJ1Zi1zeXNm
cy1zdGF0cy5oCgpkaWZmIC0tZ2l0IGEvRG9jdW1lbnRhdGlvbi9BQkkvdGVzdGluZy9zeXNmcy1r
ZXJuZWwtZG1hYnVmLWJ1ZmZlcnMgYi9Eb2N1bWVudGF0aW9uL0FCSS90ZXN0aW5nL3N5c2ZzLWtl
cm5lbC1kbWFidWYtYnVmZmVycwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAw
MDAuLmEyNDM5ODRlZDQyMAotLS0gL2Rldi9udWxsCisrKyBiL0RvY3VtZW50YXRpb24vQUJJL3Rl
c3Rpbmcvc3lzZnMta2VybmVsLWRtYWJ1Zi1idWZmZXJzCkBAIC0wLDAgKzEsNTIgQEAKK1doYXQ6
CQkvc3lzL2tlcm5lbC9kbWFidWYvYnVmZmVycworRGF0ZToJCU1heSAyMDIxCitLZXJuZWxWZXJz
aW9uOgl2NS4xMworQ29udGFjdDoJSHJpZHlhIFZhbHNhcmFqdSA8aHJpZHlhQGdvb2dsZS5jb20+
CitEZXNjcmlwdGlvbjoJVGhlIC9zeXMva2VybmVsL2RtYWJ1Zi9idWZmZXJzIGRpcmVjdG9yeSBj
b250YWlucyBhCisJCXNuYXBzaG90IG9mIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBldmVyeSBETUEt
QlVGLgorCQkvc3lzL2tlcm5lbC9kbWFidWYvYnVmZmVycy88aW5vZGVfbnVtYmVyPiB3aWxsIGNv
bnRhaW4gdGhlCisJCXN0YXRpc3RpY3MgZm9yIHRoZSBETUEtQlVGIHdpdGggdGhlIHVuaXF1ZSBp
bm9kZSBudW1iZXIKKwkJPGlub2RlX251bWJlcj4KK1VzZXJzOgkJa2VybmVsIG1lbW9yeSB0dW5p
bmcvZGVidWdnaW5nIHRvb2xzCisKK1doYXQ6CQkvc3lzL2tlcm5lbC9kbWFidWYvYnVmZmVycy88
aW5vZGVfbnVtYmVyPi9leHBvcnRlcl9uYW1lCitEYXRlOgkJTWF5IDIwMjEKK0tlcm5lbFZlcnNp
b246CXY1LjEzCitDb250YWN0OglIcmlkeWEgVmFsc2FyYWp1IDxocmlkeWFAZ29vZ2xlLmNvbT4K
K0Rlc2NyaXB0aW9uOglUaGlzIGZpbGUgaXMgcmVhZC1vbmx5IGFuZCBjb250YWlucyB0aGUgbmFt
ZSBvZiB0aGUgZXhwb3J0ZXIgb2YKKwkJdGhlIERNQS1CVUYuCisKK1doYXQ6CQkvc3lzL2tlcm5l
bC9kbWFidWYvYnVmZmVycy88aW5vZGVfbnVtYmVyPi9zaXplCitEYXRlOgkJTWF5IDIwMjEKK0tl
cm5lbFZlcnNpb246CXY1LjEzCitDb250YWN0OglIcmlkeWEgVmFsc2FyYWp1IDxocmlkeWFAZ29v
Z2xlLmNvbT4KK0Rlc2NyaXB0aW9uOglUaGlzIGZpbGUgaXMgcmVhZC1vbmx5IGFuZCBzcGVjaWZp
ZXMgdGhlIHNpemUgb2YgdGhlIERNQS1CVUYgaW4KKwkJYnl0ZXMuCisKK1doYXQ6CQkvc3lzL2tl
cm5lbC9kbWFidWYvYnVmZmVycy88aW5vZGVfbnVtYmVyPi9hdHRhY2htZW50cworRGF0ZToJCU1h
eSAyMDIxCitLZXJuZWxWZXJzaW9uOgl2NS4xMworQ29udGFjdDoJSHJpZHlhIFZhbHNhcmFqdSA8
aHJpZHlhQGdvb2dsZS5jb20+CitEZXNjcmlwdGlvbjoJVGhpcyBkaXJlY3Rvcnkgd2lsbCBjb250
YWluIHN1YmRpcmVjdG9yaWVzIHJlcHJlc2VudGluZyBldmVyeQorCQlhdHRhY2htZW50IG9mIHRo
ZSBETUEtQlVGLgorCitXaGF0OgkJL3N5cy9rZXJuZWwvZG1hYnVmL2J1ZmZlcnMvPGlub2RlX251
bWJlcj4vYXR0YWNobWVudHMvPGF0dGFjaG1lbnRfdWlkPgorRGF0ZToJCU1heSAyMDIxCitLZXJu
ZWxWZXJzaW9uOgl2NS4xMworQ29udGFjdDoJSHJpZHlhIFZhbHNhcmFqdSA8aHJpZHlhQGdvb2ds
ZS5jb20+CitEZXNjcmlwdGlvbjoJVGhpcyBkaXJlY3Rvcnkgd2lsbCBjb250YWluIGluZm9ybWF0
aW9uIG9uIHRoZSBhdHRhY2hlZCBkZXZpY2UKKwkJYW5kIHRoZSBudW1iZXIgb2YgY3VycmVudCBk
aXN0aW5jdCBkZXZpY2UgbWFwcGluZ3MuCisKK1doYXQ6CQkvc3lzL2tlcm5lbC9kbWFidWYvYnVm
ZmVycy88aW5vZGVfbnVtYmVyPi9hdHRhY2htZW50cy88YXR0YWNobWVudF91aWQ+L2RldmljZQor
RGF0ZToJCU1heSAyMDIxCitLZXJuZWxWZXJzaW9uOgl2NS4xMworQ29udGFjdDoJSHJpZHlhIFZh
bHNhcmFqdSA8aHJpZHlhQGdvb2dsZS5jb20+CitEZXNjcmlwdGlvbjoJVGhpcyBmaWxlIGlzIHJl
YWQtb25seSBhbmQgaXMgYSBzeW1saW5rIHRvIHRoZSBhdHRhY2hlZCBkZXZpY2UncworCQlzeXNm
cyBlbnRyeS4KKworV2hhdDoJCS9zeXMva2VybmVsL2RtYWJ1Zi9idWZmZXJzLzxpbm9kZV9udW1i
ZXI+L2F0dGFjaG1lbnRzLzxhdHRhY2htZW50X3VpZD4vbWFwX2NvdW50ZXIKK0RhdGU6CQlNYXkg
MjAyMQorS2VybmVsVmVyc2lvbjoJdjUuMTMKK0NvbnRhY3Q6CUhyaWR5YSBWYWxzYXJhanUgPGhy
aWR5YUBnb29nbGUuY29tPgorRGVzY3JpcHRpb246CVRoaXMgZmlsZSBpcyByZWFkLW9ubHkgYW5k
IGNvbnRhaW5zIGEgbWFwX2NvdW50ZXIgaW5kaWNhdGluZyB0aGUKKwkJbnVtYmVyIG9mIGRpc3Rp
bmN0IGRldmljZSBtYXBwaW5ncyBvZiB0aGUgYXR0YWNobWVudC4KZGlmZiAtLWdpdCBhL0RvY3Vt
ZW50YXRpb24vZHJpdmVyLWFwaS9kbWEtYnVmLnJzdCBiL0RvY3VtZW50YXRpb24vZHJpdmVyLWFw
aS9kbWEtYnVmLnJzdAppbmRleCA3ZjM3ZWMzMGQ5ZmQuLmQ0N2E0MjlkYzU0OSAxMDA2NDQKLS0t
IGEvRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL2RtYS1idWYucnN0CisrKyBiL0RvY3VtZW50YXRp
b24vZHJpdmVyLWFwaS9kbWEtYnVmLnJzdApAQCAtMTA2LDYgKzEwNiwxMSBAQCBJbXBsaWNpdCBG
ZW5jZSBQb2xsIFN1cHBvcnQKIC4uIGtlcm5lbC1kb2M6OiBkcml2ZXJzL2RtYS1idWYvZG1hLWJ1
Zi5jCiAgICA6ZG9jOiBpbXBsaWNpdCBmZW5jZSBwb2xsaW5nCiAKK0RNQS1CVUYgc3RhdGlzdGlj
cworfn5+fn5+fn5+fn5+fn5+fn5+CisuLiBrZXJuZWwtZG9jOjogZHJpdmVycy9kbWEtYnVmL2Rt
YS1idWYtc3lzZnMtc3RhdHMuYworICAgOmRvYzogb3ZlcnZpZXcKKwogS2VybmVsIEZ1bmN0aW9u
cyBhbmQgU3RydWN0dXJlcyBSZWZlcmVuY2UKIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+
fn5+fn5+fn5+fn5+CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9LY29uZmlnIGIvZHJp
dmVycy9kbWEtYnVmL0tjb25maWcKaW5kZXggNGUxNmM3MWMyNGI3Li45NTYxZTNkMmQ0MjggMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZG1hLWJ1Zi9LY29uZmlnCisrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9L
Y29uZmlnCkBAIC03Miw2ICs3MiwxNyBAQCBtZW51Y29uZmlnIERNQUJVRl9IRUFQUwogCSAgYWxs
b3dzIHVzZXJzcGFjZSB0byBhbGxvY2F0ZSBkbWEtYnVmcyB0aGF0IGNhbiBiZSBzaGFyZWQKIAkg
IGJldHdlZW4gZHJpdmVycy4KIAorbWVudWNvbmZpZyBETUFCVUZfU1lTRlNfU1RBVFMKKwlib29s
ICJETUEtQlVGIHN5c2ZzIHN0YXRpc3RpY3MiCisJc2VsZWN0IERNQV9TSEFSRURfQlVGRkVSCisJ
aGVscAorCSAgIENob29zZSB0aGlzIG9wdGlvbiB0byBlbmFibGUgRE1BLUJVRiBzeXNmcyBzdGF0
aXN0aWNzCisJICAgaW4gbG9jYXRpb24gL3N5cy9rZXJuZWwvZG1hYnVmL2J1ZmZlcnMuCisKKwkg
ICAvc3lzL2tlcm5lbC9kbWFidWYvYnVmZmVycy88aW5vZGVfbnVtYmVyPiB3aWxsIGNvbnRhaW4K
KwkgICBzdGF0aXN0aWNzIGZvciB0aGUgRE1BLUJVRiB3aXRoIHRoZSB1bmlxdWUgaW5vZGUgbnVt
YmVyCisJICAgPGlub2RlX251bWJlcj4uCisKIHNvdXJjZSAiZHJpdmVycy9kbWEtYnVmL2hlYXBz
L0tjb25maWciCiAKIGVuZG1lbnUKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9NYWtlZmls
ZSBiL2RyaXZlcnMvZG1hLWJ1Zi9NYWtlZmlsZQppbmRleCA5OTVlMDVmNjA5ZmYuLjQwZDgxZjIz
Y2FjZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9kbWEtYnVmL01ha2VmaWxlCisrKyBiL2RyaXZlcnMv
ZG1hLWJ1Zi9NYWtlZmlsZQpAQCAtNiw2ICs2LDcgQEAgb2JqLSQoQ09ORklHX0RNQUJVRl9IRUFQ
UykJKz0gaGVhcHMvCiBvYmotJChDT05GSUdfU1lOQ19GSUxFKQkJKz0gc3luY19maWxlLm8KIG9i
ai0kKENPTkZJR19TV19TWU5DKQkJKz0gc3dfc3luYy5vIHN5bmNfZGVidWcubwogb2JqLSQoQ09O
RklHX1VETUFCVUYpCQkrPSB1ZG1hYnVmLm8KK29iai0kKENPTkZJR19ETUFCVUZfU1lTRlNfU1RB
VFMpICs9IGRtYS1idWYtc3lzZnMtc3RhdHMubwogCiBkbWFidWZfc2VsZnRlc3RzLXkgOj0gXAog
CXNlbGZ0ZXN0Lm8gXApkaWZmIC0tZ2l0IGEvZHJpdmVycy9kbWEtYnVmL2RtYS1idWYtc3lzZnMt
c3RhdHMuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtYnVmLXN5c2ZzLXN0YXRzLmMKbmV3IGZpbGUg
bW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5hMjYzOGU4NDE5OWMKLS0tIC9kZXYvbnVs
bAorKysgYi9kcml2ZXJzL2RtYS1idWYvZG1hLWJ1Zi1zeXNmcy1zdGF0cy5jCkBAIC0wLDAgKzEs
MzM3IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CisvKgorICog
RE1BLUJVRiBzeXNmcyBzdGF0aXN0aWNzLgorICoKKyAqIENvcHlyaWdodCAoQykgMjAyMSBHb29n
bGUgTExDLgorICovCisKKyNpbmNsdWRlIDxsaW51eC9kbWEtYnVmLmg+CisjaW5jbHVkZSA8bGlu
dXgvZG1hLXJlc3YuaD4KKyNpbmNsdWRlIDxsaW51eC9rb2JqZWN0Lmg+CisjaW5jbHVkZSA8bGlu
dXgvcHJpbnRrLmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5oPgorI2luY2x1ZGUgPGxpbnV4L3N5
c2ZzLmg+CisKKyNpbmNsdWRlICJkbWEtYnVmLXN5c2ZzLXN0YXRzLmgiCisKKyNkZWZpbmUgdG9f
ZG1hX2J1Zl9lbnRyeV9mcm9tX2tvYmooeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCBkbWFfYnVm
X3N5c2ZzX2VudHJ5LCBrb2JqKQorCisvKioKKyAqIERPQzogb3ZlcnZpZXcKKyAqCisgKiBgYC9z
eXMva2VybmVsL2RlYnVnL2RtYV9idWYvYnVmaW5mb2BgIHByb3ZpZGVzIGFuIG92ZXJ2aWV3IG9m
IGV2ZXJ5IERNQS1CVUYKKyAqIGluIHRoZSBzeXN0ZW0uIEhvd2V2ZXIsIHNpbmNlIGRlYnVnZnMg
aXMgbm90IHNhZmUgdG8gYmUgbW91bnRlZCBpbgorICogcHJvZHVjdGlvbiwgcHJvY2ZzIGFuZCBz
eXNmcyBjYW4gYmUgdXNlZCB0byBnYXRoZXIgRE1BLUJVRiBzdGF0aXN0aWNzIG9uCisgKiBwcm9k
dWN0aW9uIHN5c3RlbXMuCisgKgorICogVGhlIGBgL3Byb2MvPHBpZD4vZmRpbmZvLzxmZD5gYCBm
aWxlcyBpbiBwcm9jZnMgY2FuIGJlIHVzZWQgdG8gZ2F0aGVyCisgKiBpbmZvcm1hdGlvbiBhYm91
dCBETUEtQlVGIGZkcy4gRGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgaW50ZXJmYWNl
CisgKiBpcyBwcmVzZW50IGluIERvY3VtZW50YXRpb24vZmlsZXN5c3RlbXMvcHJvYy5yc3QuCisg
KgorICogVW5mb3J0dW5hdGVseSwgdGhlIGV4aXN0aW5nIHByb2NmcyBpbnRlcmZhY2VzIGNhbiBv
bmx5IHByb3ZpZGUgaW5mb3JtYXRpb24KKyAqIGFib3V0IHRoZSBETUEtQlVGcyBmb3Igd2hpY2gg
cHJvY2Vzc2VzIGhvbGQgZmRzIG9yIGhhdmUgdGhlIGJ1ZmZlcnMgbW1hcHBlZAorICogaW50byB0
aGVpciBhZGRyZXNzIHNwYWNlLiBUaGlzIG5lY2Vzc2l0YXRlZCB0aGUgY3JlYXRpb24gb2YgdGhl
IERNQS1CVUYgc3lzZnMKKyAqIHN0YXRpc3RpY3MgaW50ZXJmYWNlIHRvIHByb3ZpZGUgcGVyLWJ1
ZmZlciBpbmZvcm1hdGlvbiBvbiBwcm9kdWN0aW9uIHN5c3RlbXMuCisgKgorICogVGhlIGludGVy
ZmFjZSBhdCBgYC9zeXMva2VybmVsL2RtYS1idWYvYnVmZmVyc2BgIGV4cG9zZXMgaW5mb3JtYXRp
b24gYWJvdXQKKyAqIGV2ZXJ5IERNQS1CVUYgd2hlbiBgYENPTkZJR19ETUFCVUZfU1lTRlNfU1RB
VFNgYCBpcyBlbmFibGVkLgorICoKKyAqIFRoZSBmb2xsb3dpbmcgc3RhdHMgYXJlIGV4cG9zZWQg
YnkgdGhlIGludGVyZmFjZToKKyAqCisgKiAqIGBgL3N5cy9rZXJuZWwvZG1hYnVmL2J1ZmZlcnMv
PGlub2RlX251bWJlcj4vZXhwb3J0ZXJfbmFtZWBgCisgKiAqIGBgL3N5cy9rZXJuZWwvZG1hYnVm
L2J1ZmZlcnMvPGlub2RlX251bWJlcj4vc2l6ZWBgCisgKiAqIGBgL3N5cy9rZXJuZWwvZG1hYnVm
L2J1ZmZlcnMvPGlub2RlX251bWJlcj4vYXR0YWNobWVudHMvPGF0dGFjaF91aWQ+L2RldmljZWBg
CisgKiAqIGBgL3N5cy9rZXJuZWwvZG1hYnVmL2J1ZmZlcnMvPGlub2RlX251bWJlcj4vYXR0YWNo
bWVudHMvPGF0dGFjaF91aWQ+L21hcF9jb3VudGVyYGAKKyAqCisgKiBUaGUgaW5mb3JtYXRpb24g
aW4gdGhlIGludGVyZmFjZSBjYW4gYWxzbyBiZSB1c2VkIHRvIGRlcml2ZSBwZXItZXhwb3J0ZXIg
YW5kCisgKiBwZXItZGV2aWNlIHVzYWdlIHN0YXRpc3RpY3MuIFRoZSBkYXRhIGZyb20gdGhlIGlu
dGVyZmFjZSBjYW4gYmUgZ2F0aGVyZWQKKyAqIG9uIGVycm9yIGNvbmRpdGlvbnMgb3Igb3RoZXIg
aW1wb3J0YW50IGV2ZW50cyB0byBwcm92aWRlIGEgc25hcHNob3Qgb2YKKyAqIERNQS1CVUYgdXNh
Z2UuIEl0IGNhbiBhbHNvIGJlIGNvbGxlY3RlZCBwZXJpb2RpY2FsbHkgYnkgdGVsZW1ldHJ5IHRv
IG1vbml0b3IKKyAqIHZhcmlvdXMgbWV0cmljcy4KKyAqCisgKiBEZXRhaWxlZCBkb2N1bWVudGF0
aW9uIGFib3V0IHRoZSBpbnRlcmZhY2UgaXMgcHJlc2VudCBpbgorICogRG9jdW1lbnRhdGlvbi9B
QkkvdGVzdGluZy9zeXNmcy1rZXJuZWwtZG1hYnVmLWJ1ZmZlcnMuCisgKi8KKworc3RydWN0IGRt
YV9idWZfc3RhdHNfYXR0cmlidXRlIHsKKwlzdHJ1Y3QgYXR0cmlidXRlIGF0dHI7CisJc3NpemVf
dCAoKnNob3cpKHN0cnVjdCBkbWFfYnVmICpkbWFidWYsCisJCQlzdHJ1Y3QgZG1hX2J1Zl9zdGF0
c19hdHRyaWJ1dGUgKmF0dHIsIGNoYXIgKmJ1Zik7Cit9OworI2RlZmluZSB0b19kbWFfYnVmX3N0
YXRzX2F0dHIoeCkgY29udGFpbmVyX29mKHgsIHN0cnVjdCBkbWFfYnVmX3N0YXRzX2F0dHJpYnV0
ZSwgYXR0cikKKworc3RhdGljIHNzaXplX3QgZG1hX2J1Zl9zdGF0c19hdHRyaWJ1dGVfc2hvdyhz
dHJ1Y3Qga29iamVjdCAqa29iaiwKKwkJCQkJICAgIHN0cnVjdCBhdHRyaWJ1dGUgKmF0dHIsCisJ
CQkJCSAgICBjaGFyICpidWYpCit7CisJc3RydWN0IGRtYV9idWZfc3RhdHNfYXR0cmlidXRlICph
dHRyaWJ1dGU7CisJc3RydWN0IGRtYV9idWZfc3lzZnNfZW50cnkgKnN5c2ZzX2VudHJ5OworCXN0
cnVjdCBkbWFfYnVmICpkbWFidWY7CisKKwlhdHRyaWJ1dGUgPSB0b19kbWFfYnVmX3N0YXRzX2F0
dHIoYXR0cik7CisJc3lzZnNfZW50cnkgPSB0b19kbWFfYnVmX2VudHJ5X2Zyb21fa29iaihrb2Jq
KTsKKwlkbWFidWYgPSBzeXNmc19lbnRyeS0+ZG1hYnVmOworCisJaWYgKCFkbWFidWYgfHwgIWF0
dHJpYnV0ZS0+c2hvdykKKwkJcmV0dXJuIC1FSU87CisKKwlyZXR1cm4gYXR0cmlidXRlLT5zaG93
KGRtYWJ1ZiwgYXR0cmlidXRlLCBidWYpOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IHN5c2Zz
X29wcyBkbWFfYnVmX3N0YXRzX3N5c2ZzX29wcyA9IHsKKwkuc2hvdyA9IGRtYV9idWZfc3RhdHNf
YXR0cmlidXRlX3Nob3csCit9OworCitzdGF0aWMgc3NpemVfdCBleHBvcnRlcl9uYW1lX3Nob3co
c3RydWN0IGRtYV9idWYgKmRtYWJ1ZiwKKwkJCQkgIHN0cnVjdCBkbWFfYnVmX3N0YXRzX2F0dHJp
YnV0ZSAqYXR0ciwKKwkJCQkgIGNoYXIgKmJ1ZikKK3sKKwlyZXR1cm4gc3lzZnNfZW1pdChidWYs
ICIlc1xuIiwgZG1hYnVmLT5leHBfbmFtZSk7Cit9CisKK3N0YXRpYyBzc2l6ZV90IHNpemVfc2hv
dyhzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmLAorCQkJIHN0cnVjdCBkbWFfYnVmX3N0YXRzX2F0dHJp
YnV0ZSAqYXR0ciwKKwkJCSBjaGFyICpidWYpCit7CisJcmV0dXJuIHN5c2ZzX2VtaXQoYnVmLCAi
JXp1XG4iLCBkbWFidWYtPnNpemUpOworfQorCitzdGF0aWMgc3RydWN0IGRtYV9idWZfc3RhdHNf
YXR0cmlidXRlIGV4cG9ydGVyX25hbWVfYXR0cmlidXRlID0KKwlfX0FUVFJfUk8oZXhwb3J0ZXJf
bmFtZSk7CitzdGF0aWMgc3RydWN0IGRtYV9idWZfc3RhdHNfYXR0cmlidXRlIHNpemVfYXR0cmli
dXRlID0gX19BVFRSX1JPKHNpemUpOworCitzdGF0aWMgc3RydWN0IGF0dHJpYnV0ZSAqZG1hX2J1
Zl9zdGF0c19kZWZhdWx0X2F0dHJzW10gPSB7CisJJmV4cG9ydGVyX25hbWVfYXR0cmlidXRlLmF0
dHIsCisJJnNpemVfYXR0cmlidXRlLmF0dHIsCisJTlVMTCwKK307CitBVFRSSUJVVEVfR1JPVVBT
KGRtYV9idWZfc3RhdHNfZGVmYXVsdCk7CisKK3N0YXRpYyB2b2lkIGRtYV9idWZfc3lzZnNfcmVs
ZWFzZShzdHJ1Y3Qga29iamVjdCAqa29iaikKK3sKKwlzdHJ1Y3QgZG1hX2J1Zl9zeXNmc19lbnRy
eSAqc3lzZnNfZW50cnk7CisKKwlzeXNmc19lbnRyeSA9IHRvX2RtYV9idWZfZW50cnlfZnJvbV9r
b2JqKGtvYmopOworCWtmcmVlKHN5c2ZzX2VudHJ5KTsKK30KKworc3RhdGljIHN0cnVjdCBrb2Jq
X3R5cGUgZG1hX2J1Zl9rdHlwZSA9IHsKKwkuc3lzZnNfb3BzID0gJmRtYV9idWZfc3RhdHNfc3lz
ZnNfb3BzLAorCS5yZWxlYXNlID0gZG1hX2J1Zl9zeXNmc19yZWxlYXNlLAorCS5kZWZhdWx0X2dy
b3VwcyA9IGRtYV9idWZfc3RhdHNfZGVmYXVsdF9ncm91cHMsCit9OworCisjZGVmaW5lIHRvX2Rt
YV9idWZfYXR0YWNoX2VudHJ5X2Zyb21fa29iaih4KSBjb250YWluZXJfb2YoeCwgc3RydWN0IGRt
YV9idWZfYXR0YWNoX3N5c2ZzX2VudHJ5LCBrb2JqKQorCitzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2hf
c3RhdHNfYXR0cmlidXRlIHsKKwlzdHJ1Y3QgYXR0cmlidXRlIGF0dHI7CisJc3NpemVfdCAoKnNo
b3cpKHN0cnVjdCBkbWFfYnVmX2F0dGFjaF9zeXNmc19lbnRyeSAqc3lzZnNfZW50cnksCisJCQlz
dHJ1Y3QgZG1hX2J1Zl9hdHRhY2hfc3RhdHNfYXR0cmlidXRlICphdHRyLCBjaGFyICpidWYpOwor
fTsKKyNkZWZpbmUgdG9fZG1hX2J1Zl9hdHRhY2hfc3RhdHNfYXR0cih4KSBjb250YWluZXJfb2Yo
eCwgc3RydWN0IGRtYV9idWZfYXR0YWNoX3N0YXRzX2F0dHJpYnV0ZSwgYXR0cikKKworc3RhdGlj
IHNzaXplX3QgZG1hX2J1Zl9hdHRhY2hfc3RhdHNfYXR0cmlidXRlX3Nob3coc3RydWN0IGtvYmpl
Y3QgKmtvYmosCisJCQkJCQkgICBzdHJ1Y3QgYXR0cmlidXRlICphdHRyLAorCQkJCQkJICAgY2hh
ciAqYnVmKQoreworCXN0cnVjdCBkbWFfYnVmX2F0dGFjaF9zdGF0c19hdHRyaWJ1dGUgKmF0dHJp
YnV0ZTsKKwlzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2hfc3lzZnNfZW50cnkgKnN5c2ZzX2VudHJ5Owor
CisJYXR0cmlidXRlID0gdG9fZG1hX2J1Zl9hdHRhY2hfc3RhdHNfYXR0cihhdHRyKTsKKwlzeXNm
c19lbnRyeSA9IHRvX2RtYV9idWZfYXR0YWNoX2VudHJ5X2Zyb21fa29iaihrb2JqKTsKKworCWlm
ICghYXR0cmlidXRlLT5zaG93KQorCQlyZXR1cm4gLUVJTzsKKworCXJldHVybiBhdHRyaWJ1dGUt
PnNob3coc3lzZnNfZW50cnksIGF0dHJpYnV0ZSwgYnVmKTsKK30KKworc3RhdGljIGNvbnN0IHN0
cnVjdCBzeXNmc19vcHMgZG1hX2J1Zl9hdHRhY2hfc3RhdHNfc3lzZnNfb3BzID0geworCS5zaG93
ID0gZG1hX2J1Zl9hdHRhY2hfc3RhdHNfYXR0cmlidXRlX3Nob3csCit9OworCitzdGF0aWMgc3Np
emVfdCBtYXBfY291bnRlcl9zaG93KHN0cnVjdCBkbWFfYnVmX2F0dGFjaF9zeXNmc19lbnRyeSAq
c3lzZnNfZW50cnksCisJCQkJc3RydWN0IGRtYV9idWZfYXR0YWNoX3N0YXRzX2F0dHJpYnV0ZSAq
YXR0ciwKKwkJCQljaGFyICpidWYpCit7CisJcmV0dXJuIHN5c2ZzX2VtaXQoYnVmLCAiJXVcbiIs
IHN5c2ZzX2VudHJ5LT5tYXBfY291bnRlcik7Cit9CisKK3N0YXRpYyBzdHJ1Y3QgZG1hX2J1Zl9h
dHRhY2hfc3RhdHNfYXR0cmlidXRlIG1hcF9jb3VudGVyX2F0dHJpYnV0ZSA9CisJX19BVFRSX1JP
KG1hcF9jb3VudGVyKTsKKworc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGUgKmRtYV9idWZfYXR0YWNo
X3N0YXRzX2RlZmF1bHRfYXR0cnNbXSA9IHsKKwkmbWFwX2NvdW50ZXJfYXR0cmlidXRlLmF0dHIs
CisJTlVMTCwKK307CitBVFRSSUJVVEVfR1JPVVBTKGRtYV9idWZfYXR0YWNoX3N0YXRzX2RlZmF1
bHQpOworCitzdGF0aWMgdm9pZCBkbWFfYnVmX2F0dGFjaF9zeXNmc19yZWxlYXNlKHN0cnVjdCBr
b2JqZWN0ICprb2JqKQoreworCXN0cnVjdCBkbWFfYnVmX2F0dGFjaF9zeXNmc19lbnRyeSAqc3lz
ZnNfZW50cnk7CisKKwlzeXNmc19lbnRyeSA9IHRvX2RtYV9idWZfYXR0YWNoX2VudHJ5X2Zyb21f
a29iaihrb2JqKTsKKwlrZnJlZShzeXNmc19lbnRyeSk7Cit9CisKK3N0YXRpYyBzdHJ1Y3Qga29i
al90eXBlIGRtYV9idWZfYXR0YWNoX2t0eXBlID0geworCS5zeXNmc19vcHMgPSAmZG1hX2J1Zl9h
dHRhY2hfc3RhdHNfc3lzZnNfb3BzLAorCS5yZWxlYXNlID0gZG1hX2J1Zl9hdHRhY2hfc3lzZnNf
cmVsZWFzZSwKKwkuZGVmYXVsdF9ncm91cHMgPSBkbWFfYnVmX2F0dGFjaF9zdGF0c19kZWZhdWx0
X2dyb3VwcywKK307CisKK3ZvaWQgZG1hX2J1Zl9hdHRhY2hfc3RhdHNfdGVhcmRvd24oc3RydWN0
IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoKQoreworCXN0cnVjdCBkbWFfYnVmX2F0dGFjaF9z
eXNmc19lbnRyeSAqc3lzZnNfZW50cnk7CisKKwlzeXNmc19lbnRyeSA9IGF0dGFjaC0+c3lzZnNf
ZW50cnk7CisJaWYgKCFzeXNmc19lbnRyeSkKKwkJcmV0dXJuOworCisJc3lzZnNfZGVsZXRlX2xp
bmsoJnN5c2ZzX2VudHJ5LT5rb2JqLCAmYXR0YWNoLT5kZXYtPmtvYmosICJkZXZpY2UiKTsKKwor
CWtvYmplY3RfZGVsKCZzeXNmc19lbnRyeS0+a29iaik7CisJa29iamVjdF9wdXQoJnN5c2ZzX2Vu
dHJ5LT5rb2JqKTsKK30KKworaW50IGRtYV9idWZfYXR0YWNoX3N0YXRzX3NldHVwKHN0cnVjdCBk
bWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCwKKwkJCSAgICAgICB1bnNpZ25lZCBpbnQgdWlkKQor
eworCXN0cnVjdCBkbWFfYnVmX2F0dGFjaF9zeXNmc19lbnRyeSAqc3lzZnNfZW50cnk7CisJaW50
IHJldDsKKwlzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmOworCisJaWYgKCFhdHRhY2gpCisJCXJldHVy
biAtRUlOVkFMOworCisJZG1hYnVmID0gYXR0YWNoLT5kbWFidWY7CisKKwlzeXNmc19lbnRyeSA9
IGt6YWxsb2Moc2l6ZW9mKHN0cnVjdCBkbWFfYnVmX2F0dGFjaF9zeXNmc19lbnRyeSksCisJCQkg
ICAgICBHRlBfS0VSTkVMKTsKKwlpZiAoIXN5c2ZzX2VudHJ5KQorCQlyZXR1cm4gLUVOT01FTTsK
KworCXN5c2ZzX2VudHJ5LT5rb2JqLmtzZXQgPSBkbWFidWYtPnN5c2ZzX2VudHJ5LT5hdHRhY2hf
c3RhdHNfa3NldDsKKworCWF0dGFjaC0+c3lzZnNfZW50cnkgPSBzeXNmc19lbnRyeTsKKworCXJl
dCA9IGtvYmplY3RfaW5pdF9hbmRfYWRkKCZzeXNmc19lbnRyeS0+a29iaiwgJmRtYV9idWZfYXR0
YWNoX2t0eXBlLAorCQkJCSAgIE5VTEwsICIldSIsIHVpZCk7CisJaWYgKHJldCkKKwkJZ290byBr
b2JqX2VycjsKKworCXJldCA9IHN5c2ZzX2NyZWF0ZV9saW5rKCZzeXNmc19lbnRyeS0+a29iaiwg
JmF0dGFjaC0+ZGV2LT5rb2JqLAorCQkJCSJkZXZpY2UiKTsKKwlpZiAocmV0KQorCQlnb3RvIGxp
bmtfZXJyOworCisJcmV0dXJuIDA7CisKK2xpbmtfZXJyOgorCWtvYmplY3RfZGVsKCZzeXNmc19l
bnRyeS0+a29iaik7Citrb2JqX2VycjoKKwlrb2JqZWN0X3B1dCgmc3lzZnNfZW50cnktPmtvYmop
OworCWF0dGFjaC0+c3lzZnNfZW50cnkgPSBOVUxMOworCisJcmV0dXJuIHJldDsKK30KK3ZvaWQg
ZG1hX2J1Zl9zdGF0c190ZWFyZG93bihzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmKQoreworCXN0cnVj
dCBkbWFfYnVmX3N5c2ZzX2VudHJ5ICpzeXNmc19lbnRyeTsKKworCXN5c2ZzX2VudHJ5ID0gZG1h
YnVmLT5zeXNmc19lbnRyeTsKKwlpZiAoIXN5c2ZzX2VudHJ5KQorCQlyZXR1cm47CisKKwlrc2V0
X3VucmVnaXN0ZXIoc3lzZnNfZW50cnktPmF0dGFjaF9zdGF0c19rc2V0KTsKKwlrb2JqZWN0X2Rl
bCgmc3lzZnNfZW50cnktPmtvYmopOworCWtvYmplY3RfcHV0KCZzeXNmc19lbnRyeS0+a29iaik7
Cit9CisKKworLyogU3RhdGlzdGljcyBmaWxlcyBkbyBub3QgbmVlZCB0byBzZW5kIHVldmVudHMu
ICovCitzdGF0aWMgaW50IGRtYWJ1Zl9zeXNmc191ZXZlbnRfZmlsdGVyKHN0cnVjdCBrc2V0ICpr
c2V0LCBzdHJ1Y3Qga29iamVjdCAqa29iaikKK3sKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGNv
bnN0IHN0cnVjdCBrc2V0X3VldmVudF9vcHMgZG1hYnVmX3N5c2ZzX25vX3VldmVudF9vcHMgPSB7
CisJLmZpbHRlciA9IGRtYWJ1Zl9zeXNmc191ZXZlbnRfZmlsdGVyLAorfTsKKworc3RhdGljIHN0
cnVjdCBrc2V0ICpkbWFfYnVmX3N0YXRzX2tzZXQ7CitzdGF0aWMgc3RydWN0IGtzZXQgKmRtYV9i
dWZfcGVyX2J1ZmZlcl9zdGF0c19rc2V0OworaW50IGRtYV9idWZfaW5pdF9zeXNmc19zdGF0aXN0
aWNzKHZvaWQpCit7CisJZG1hX2J1Zl9zdGF0c19rc2V0ID0ga3NldF9jcmVhdGVfYW5kX2FkZCgi
ZG1hYnVmIiwKKwkJCQkJCSAmZG1hYnVmX3N5c2ZzX25vX3VldmVudF9vcHMsCisJCQkJCQkga2Vy
bmVsX2tvYmopOworCWlmICghZG1hX2J1Zl9zdGF0c19rc2V0KQorCQlyZXR1cm4gLUVOT01FTTsK
KworCWRtYV9idWZfcGVyX2J1ZmZlcl9zdGF0c19rc2V0ID0ga3NldF9jcmVhdGVfYW5kX2FkZCgi
YnVmZmVycyIsCisJCQkJCQkJICAgICZkbWFidWZfc3lzZnNfbm9fdWV2ZW50X29wcywKKwkJCQkJ
CQkgICAgJmRtYV9idWZfc3RhdHNfa3NldC0+a29iaik7CisJaWYgKCFkbWFfYnVmX3Blcl9idWZm
ZXJfc3RhdHNfa3NldCkgeworCQlrc2V0X3VucmVnaXN0ZXIoZG1hX2J1Zl9zdGF0c19rc2V0KTsK
KwkJcmV0dXJuIC1FTk9NRU07CisJfQorCisJcmV0dXJuIDA7Cit9CisKK3ZvaWQgZG1hX2J1Zl91
bmluaXRfc3lzZnNfc3RhdGlzdGljcyh2b2lkKQoreworCWtzZXRfdW5yZWdpc3RlcihkbWFfYnVm
X3Blcl9idWZmZXJfc3RhdHNfa3NldCk7CisJa3NldF91bnJlZ2lzdGVyKGRtYV9idWZfc3RhdHNf
a3NldCk7Cit9CisKK2ludCBkbWFfYnVmX3N0YXRzX3NldHVwKHN0cnVjdCBkbWFfYnVmICpkbWFi
dWYpCit7CisJc3RydWN0IGRtYV9idWZfc3lzZnNfZW50cnkgKnN5c2ZzX2VudHJ5OworCWludCBy
ZXQ7CisJc3RydWN0IGtzZXQgKmF0dGFjaF9zdGF0c19rc2V0OworCisJaWYgKCFkbWFidWYgfHwg
IWRtYWJ1Zi0+ZmlsZSkKKwkJcmV0dXJuIC1FSU5WQUw7CisKKwlpZiAoIWRtYWJ1Zi0+ZXhwX25h
bWUpIHsKKwkJcHJfZXJyKCJleHBvcnRlciBuYW1lIG11c3Qgbm90IGJlIGVtcHR5IGlmIHN0YXRz
IG5lZWRlZFxuIik7CisJCXJldHVybiAtRUlOVkFMOworCX0KKworCXN5c2ZzX2VudHJ5ID0ga3ph
bGxvYyhzaXplb2Yoc3RydWN0IGRtYV9idWZfc3lzZnNfZW50cnkpLCBHRlBfS0VSTkVMKTsKKwlp
ZiAoIXN5c2ZzX2VudHJ5KQorCQlyZXR1cm4gLUVOT01FTTsKKworCXN5c2ZzX2VudHJ5LT5rb2Jq
LmtzZXQgPSBkbWFfYnVmX3Blcl9idWZmZXJfc3RhdHNfa3NldDsKKwlzeXNmc19lbnRyeS0+ZG1h
YnVmID0gZG1hYnVmOworCisJZG1hYnVmLT5zeXNmc19lbnRyeSA9IHN5c2ZzX2VudHJ5OworCisJ
LyogY3JlYXRlIHRoZSBkaXJlY3RvcnkgZm9yIGJ1ZmZlciBzdGF0cyAqLworCXJldCA9IGtvYmpl
Y3RfaW5pdF9hbmRfYWRkKCZzeXNmc19lbnRyeS0+a29iaiwgJmRtYV9idWZfa3R5cGUsIE5VTEws
CisJCQkJICAgIiVsdSIsIGZpbGVfaW5vZGUoZG1hYnVmLT5maWxlKS0+aV9pbm8pOworCWlmIChy
ZXQpCisJCWdvdG8gZXJyX3N5c2ZzX2RtYWJ1ZjsKKworCS8qIGNyZWF0ZSB0aGUgZGlyZWN0b3J5
IGZvciBhdHRhY2htZW50IHN0YXRzICovCisJYXR0YWNoX3N0YXRzX2tzZXQgPSBrc2V0X2NyZWF0
ZV9hbmRfYWRkKCJhdHRhY2htZW50cyIsCisJCQkJCQkmZG1hYnVmX3N5c2ZzX25vX3VldmVudF9v
cHMsCisJCQkJCQkmc3lzZnNfZW50cnktPmtvYmopOworCWlmICghYXR0YWNoX3N0YXRzX2tzZXQp
IHsKKwkJcmV0ID0gLUVOT01FTTsKKwkJZ290byBlcnJfc3lzZnNfYXR0YWNoOworCX0KKworCXN5
c2ZzX2VudHJ5LT5hdHRhY2hfc3RhdHNfa3NldCA9IGF0dGFjaF9zdGF0c19rc2V0OworCisJcmV0
dXJuIDA7CisKK2Vycl9zeXNmc19hdHRhY2g6CisJa29iamVjdF9kZWwoJnN5c2ZzX2VudHJ5LT5r
b2JqKTsKK2Vycl9zeXNmc19kbWFidWY6CisJa29iamVjdF9wdXQoJnN5c2ZzX2VudHJ5LT5rb2Jq
KTsKKwlkbWFidWYtPnN5c2ZzX2VudHJ5ID0gTlVMTDsKKwlyZXR1cm4gcmV0OworfQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9kbWEtYnVmL2RtYS1idWYtc3lzZnMtc3RhdHMuaCBiL2RyaXZlcnMvZG1h
LWJ1Zi9kbWEtYnVmLXN5c2ZzLXN0YXRzLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAw
MDAwMDAwMDAwLi41ZjQ3MDMyNDkxMTcKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2RtYS1i
dWYvZG1hLWJ1Zi1zeXNmcy1zdGF0cy5oCkBAIC0wLDAgKzEsNjIgQEAKKy8qIFNQRFgtTGljZW5z
ZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8KKy8qCisgKiBETUEtQlVGIHN5c2ZzIHN0YXRp
c3RpY3MuCisgKgorICogQ29weXJpZ2h0IChDKSAyMDIxIEdvb2dsZSBMTEMuCisgKi8KKworI2lm
bmRlZiBfRE1BX0JVRl9TWVNGU19TVEFUU19ICisjZGVmaW5lIF9ETUFfQlVGX1NZU0ZTX1NUQVRT
X0gKKworI2lmZGVmIENPTkZJR19ETUFCVUZfU1lTRlNfU1RBVFMKKworaW50IGRtYV9idWZfaW5p
dF9zeXNmc19zdGF0aXN0aWNzKHZvaWQpOwordm9pZCBkbWFfYnVmX3VuaW5pdF9zeXNmc19zdGF0
aXN0aWNzKHZvaWQpOworCitpbnQgZG1hX2J1Zl9zdGF0c19zZXR1cChzdHJ1Y3QgZG1hX2J1ZiAq
ZG1hYnVmKTsKK2ludCBkbWFfYnVmX2F0dGFjaF9zdGF0c19zZXR1cChzdHJ1Y3QgZG1hX2J1Zl9h
dHRhY2htZW50ICphdHRhY2gsCisJCQkgICAgICAgdW5zaWduZWQgaW50IHVpZCk7CitzdGF0aWMg
aW5saW5lIHZvaWQgZG1hX2J1Zl91cGRhdGVfYXR0YWNobWVudF9tYXBfY291bnQoc3RydWN0IGRt
YV9idWZfYXR0YWNobWVudCAqYXR0YWNoLAorCQkJCQkJICAgICAgIGludCBkZWx0YSkKK3sKKwlz
dHJ1Y3QgZG1hX2J1Zl9hdHRhY2hfc3lzZnNfZW50cnkgKmVudHJ5ID0gYXR0YWNoLT5zeXNmc19l
bnRyeTsKKworCWVudHJ5LT5tYXBfY291bnRlciArPSBkZWx0YTsKK30KK3ZvaWQgZG1hX2J1Zl9z
dGF0c190ZWFyZG93bihzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmKTsKK3ZvaWQgZG1hX2J1Zl9hdHRh
Y2hfc3RhdHNfdGVhcmRvd24oc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoKTsKK3N0
YXRpYyBpbmxpbmUgdW5zaWduZWQgaW50IGRtYV9idWZfdXBkYXRlX2F0dGFjaF91aWQoc3RydWN0
IGRtYV9idWYgKmRtYWJ1ZikKK3sKKwlzdHJ1Y3QgZG1hX2J1Zl9zeXNmc19lbnRyeSAqZW50cnkg
PSBkbWFidWYtPnN5c2ZzX2VudHJ5OworCisJcmV0dXJuIGVudHJ5LT5hdHRhY2htZW50X3VpZCsr
OworfQorI2Vsc2UKKworc3RhdGljIGlubGluZSBpbnQgZG1hX2J1Zl9pbml0X3N5c2ZzX3N0YXRp
c3RpY3Modm9pZCkKK3sKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGlubGluZSB2b2lkIGRtYV9i
dWZfdW5pbml0X3N5c2ZzX3N0YXRpc3RpY3Modm9pZCkge30KKworc3RhdGljIGlubGluZSBpbnQg
ZG1hX2J1Zl9zdGF0c19zZXR1cChzdHJ1Y3QgZG1hX2J1ZiAqZG1hYnVmKQoreworCXJldHVybiAw
OworfQorc3RhdGljIGlubGluZSBpbnQgZG1hX2J1Zl9hdHRhY2hfc3RhdHNfc2V0dXAoc3RydWN0
IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoLAorCQkJCQkgICAgIHVuc2lnbmVkIGludCB1aWQp
Cit7CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBkbWFfYnVmX3N0YXRzX3Rl
YXJkb3duKHN0cnVjdCBkbWFfYnVmICpkbWFidWYpIHt9CitzdGF0aWMgaW5saW5lIHZvaWQgZG1h
X2J1Zl9hdHRhY2hfc3RhdHNfdGVhcmRvd24oc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0
YWNoKSB7fQorc3RhdGljIGlubGluZSB2b2lkIGRtYV9idWZfdXBkYXRlX2F0dGFjaG1lbnRfbWFw
X2NvdW50KHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaCwKKwkJCQkJCSAgICAgICBp
bnQgZGVsdGEpIHt9CitzdGF0aWMgaW5saW5lIHVuc2lnbmVkIGludCBkbWFfYnVmX3VwZGF0ZV9h
dHRhY2hfdWlkKHN0cnVjdCBkbWFfYnVmICpkbWFidWYpCit7CisJcmV0dXJuIDA7Cit9CisjZW5k
aWYKKyNlbmRpZiAvLyBfRE1BX0JVRl9TWVNGU19TVEFUU19ICmRpZmYgLS1naXQgYS9kcml2ZXJz
L2RtYS1idWYvZG1hLWJ1Zi5jIGIvZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYwppbmRleCBmMjY0
YjcwYzM4M2UuLjE4NGRkN2FjYjFlZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9kbWEtYnVmL2RtYS1i
dWYuYworKysgYi9kcml2ZXJzL2RtYS1idWYvZG1hLWJ1Zi5jCkBAIC0yOSw2ICsyOSw4IEBACiAj
aW5jbHVkZSA8dWFwaS9saW51eC9kbWEtYnVmLmg+CiAjaW5jbHVkZSA8dWFwaS9saW51eC9tYWdp
Yy5oPgogCisjaW5jbHVkZSAiZG1hLWJ1Zi1zeXNmcy1zdGF0cy5oIgorCiBzdGF0aWMgaW5saW5l
IGludCBpc19kbWFfYnVmX2ZpbGUoc3RydWN0IGZpbGUgKik7CiAKIHN0cnVjdCBkbWFfYnVmX2xp
c3QgewpAQCAtNzksNiArODEsNyBAQCBzdGF0aWMgdm9pZCBkbWFfYnVmX3JlbGVhc2Uoc3RydWN0
IGRlbnRyeSAqZGVudHJ5KQogCWlmIChkbWFidWYtPnJlc3YgPT0gKHN0cnVjdCBkbWFfcmVzdiAq
KSZkbWFidWZbMV0pCiAJCWRtYV9yZXN2X2ZpbmkoZG1hYnVmLT5yZXN2KTsKIAorCWRtYV9idWZf
c3RhdHNfdGVhcmRvd24oZG1hYnVmKTsKIAltb2R1bGVfcHV0KGRtYWJ1Zi0+b3duZXIpOwogCWtm
cmVlKGRtYWJ1Zi0+bmFtZSk7CiAJa2ZyZWUoZG1hYnVmKTsKQEAgLTU4MCw2ICs1ODMsMTAgQEAg
c3RydWN0IGRtYV9idWYgKmRtYV9idWZfZXhwb3J0KGNvbnN0IHN0cnVjdCBkbWFfYnVmX2V4cG9y
dF9pbmZvICpleHBfaW5mbykKIAlmaWxlLT5mX21vZGUgfD0gRk1PREVfTFNFRUs7CiAJZG1hYnVm
LT5maWxlID0gZmlsZTsKIAorCXJldCA9IGRtYV9idWZfc3RhdHNfc2V0dXAoZG1hYnVmKTsKKwlp
ZiAocmV0KQorCQlnb3RvIGVycl9zeXNmczsKKwogCW11dGV4X2luaXQoJmRtYWJ1Zi0+bG9jayk7
CiAJSU5JVF9MSVNUX0hFQUQoJmRtYWJ1Zi0+YXR0YWNobWVudHMpOwogCkBAIC01ODksNiArNTk2
LDE0IEBAIHN0cnVjdCBkbWFfYnVmICpkbWFfYnVmX2V4cG9ydChjb25zdCBzdHJ1Y3QgZG1hX2J1
Zl9leHBvcnRfaW5mbyAqZXhwX2luZm8pCiAKIAlyZXR1cm4gZG1hYnVmOwogCitlcnJfc3lzZnM6
CisJLyoKKwkgKiBTZXQgZmlsZS0+Zl9wYXRoLmRlbnRyeS0+ZF9mc2RhdGEgdG8gTlVMTCBzbyB0
aGF0IHdoZW4KKwkgKiBkbWFfYnVmX3JlbGVhc2UoKSBnZXRzIGludm9rZWQgYnkgZGVudHJ5X29w
cywgaXQgZXhpdHMKKwkgKiBlYXJseSBiZWZvcmUgY2FsbGluZyB0aGUgcmVsZWFzZSgpIGRtYV9i
dWYgb3AuCisJICovCisJZmlsZS0+Zl9wYXRoLmRlbnRyeS0+ZF9mc2RhdGEgPSBOVUxMOworCWZw
dXQoZmlsZSk7CiBlcnJfZG1hYnVmOgogCWtmcmVlKGRtYWJ1Zik7CiBlcnJfbW9kdWxlOgpAQCAt
NzIzLDYgKzczOCw3IEBAIGRtYV9idWZfZHluYW1pY19hdHRhY2goc3RydWN0IGRtYV9idWYgKmRt
YWJ1Ziwgc3RydWN0IGRldmljZSAqZGV2LAogewogCXN0cnVjdCBkbWFfYnVmX2F0dGFjaG1lbnQg
KmF0dGFjaDsKIAlpbnQgcmV0OworCXVuc2lnbmVkIGludCBhdHRhY2hfdWlkOwogCiAJaWYgKFdB
Uk5fT04oIWRtYWJ1ZiB8fCAhZGV2KSkKIAkJcmV0dXJuIEVSUl9QVFIoLUVJTlZBTCk7CkBAIC03
NDgsOCArNzY0LDEzIEBAIGRtYV9idWZfZHluYW1pY19hdHRhY2goc3RydWN0IGRtYV9idWYgKmRt
YWJ1Ziwgc3RydWN0IGRldmljZSAqZGV2LAogCX0KIAlkbWFfcmVzdl9sb2NrKGRtYWJ1Zi0+cmVz
diwgTlVMTCk7CiAJbGlzdF9hZGQoJmF0dGFjaC0+bm9kZSwgJmRtYWJ1Zi0+YXR0YWNobWVudHMp
OworCWF0dGFjaF91aWQgPSBkbWFfYnVmX3VwZGF0ZV9hdHRhY2hfdWlkKGRtYWJ1Zik7CiAJZG1h
X3Jlc3ZfdW5sb2NrKGRtYWJ1Zi0+cmVzdik7CiAKKwlyZXQgPSBkbWFfYnVmX2F0dGFjaF9zdGF0
c19zZXR1cChhdHRhY2gsIGF0dGFjaF91aWQpOworCWlmIChyZXQpCisJCWdvdG8gZXJyX3N5c2Zz
OworCiAJLyogV2hlbiBlaXRoZXIgdGhlIGltcG9ydGVyIG9yIHRoZSBleHBvcnRlciBjYW4ndCBo
YW5kbGUgZHluYW1pYwogCSAqIG1hcHBpbmdzIHdlIGNhY2hlIHRoZSBtYXBwaW5nIGhlcmUgdG8g
YXZvaWQgaXNzdWVzIHdpdGggdGhlCiAJICogcmVzZXJ2YXRpb24gb2JqZWN0IGxvY2suCkBAIC03
NzYsNiArNzk3LDcgQEAgZG1hX2J1Zl9keW5hbWljX2F0dGFjaChzdHJ1Y3QgZG1hX2J1ZiAqZG1h
YnVmLCBzdHJ1Y3QgZGV2aWNlICpkZXYsCiAJCQlkbWFfcmVzdl91bmxvY2soYXR0YWNoLT5kbWFi
dWYtPnJlc3YpOwogCQlhdHRhY2gtPnNndCA9IHNndDsKIAkJYXR0YWNoLT5kaXIgPSBETUFfQklE
SVJFQ1RJT05BTDsKKwkJZG1hX2J1Zl91cGRhdGVfYXR0YWNobWVudF9tYXBfY291bnQoYXR0YWNo
LCAxIC8qIGRlbHRhICovKTsKIAl9CiAKIAlyZXR1cm4gYXR0YWNoOwpAQCAtNzkyLDYgKzgxNCw3
IEBAIGRtYV9idWZfZHluYW1pY19hdHRhY2goc3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwgc3RydWN0
IGRldmljZSAqZGV2LAogCWlmIChkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNoLT5kbWFidWYpKQog
CQlkbWFfcmVzdl91bmxvY2soYXR0YWNoLT5kbWFidWYtPnJlc3YpOwogCitlcnJfc3lzZnM6CiAJ
ZG1hX2J1Zl9kZXRhY2goZG1hYnVmLCBhdHRhY2gpOwogCXJldHVybiBFUlJfUFRSKHJldCk7CiB9
CkBAIC04NDEsNiArODY0LDcgQEAgdm9pZCBkbWFfYnVmX2RldGFjaChzdHJ1Y3QgZG1hX2J1ZiAq
ZG1hYnVmLCBzdHJ1Y3QgZG1hX2J1Zl9hdHRhY2htZW50ICphdHRhY2gpCiAJCQlkbWFfcmVzdl9s
b2NrKGF0dGFjaC0+ZG1hYnVmLT5yZXN2LCBOVUxMKTsKIAogCQlfX3VubWFwX2RtYV9idWYoYXR0
YWNoLCBhdHRhY2gtPnNndCwgYXR0YWNoLT5kaXIpOworCQlkbWFfYnVmX3VwZGF0ZV9hdHRhY2ht
ZW50X21hcF9jb3VudChhdHRhY2gsIC0xIC8qIGRlbHRhICovKTsKIAogCQlpZiAoZG1hX2J1Zl9p
c19keW5hbWljKGF0dGFjaC0+ZG1hYnVmKSkgewogCQkJZG1hX2J1Zl91bnBpbihhdHRhY2gpOwpA
QCAtODU0LDYgKzg3OCw3IEBAIHZvaWQgZG1hX2J1Zl9kZXRhY2goc3RydWN0IGRtYV9idWYgKmRt
YWJ1Ziwgc3RydWN0IGRtYV9idWZfYXR0YWNobWVudCAqYXR0YWNoKQogCWlmIChkbWFidWYtPm9w
cy0+ZGV0YWNoKQogCQlkbWFidWYtPm9wcy0+ZGV0YWNoKGRtYWJ1ZiwgYXR0YWNoKTsKIAorCWRt
YV9idWZfYXR0YWNoX3N0YXRzX3RlYXJkb3duKGF0dGFjaCk7CiAJa2ZyZWUoYXR0YWNoKTsKIH0K
IEVYUE9SVF9TWU1CT0xfR1BMKGRtYV9idWZfZGV0YWNoKTsKQEAgLTk5Myw2ICsxMDE4LDkgQEAg
c3RydWN0IHNnX3RhYmxlICpkbWFfYnVmX21hcF9hdHRhY2htZW50KHN0cnVjdCBkbWFfYnVmX2F0
dGFjaG1lbnQgKmF0dGFjaCwKIAl9CiAjZW5kaWYgLyogQ09ORklHX0RNQV9BUElfREVCVUcgKi8K
IAorCWlmICghSVNfRVJSKHNnX3RhYmxlKSkKKwkJZG1hX2J1Zl91cGRhdGVfYXR0YWNobWVudF9t
YXBfY291bnQoYXR0YWNoLCAxIC8qIGRlbHRhICovKTsKKwogCXJldHVybiBzZ190YWJsZTsKIH0K
IEVYUE9SVF9TWU1CT0xfR1BMKGRtYV9idWZfbWFwX2F0dGFjaG1lbnQpOwpAQCAtMTAzMCw2ICsx
MDU4LDggQEAgdm9pZCBkbWFfYnVmX3VubWFwX2F0dGFjaG1lbnQoc3RydWN0IGRtYV9idWZfYXR0
YWNobWVudCAqYXR0YWNoLAogCWlmIChkbWFfYnVmX2lzX2R5bmFtaWMoYXR0YWNoLT5kbWFidWYp
ICYmCiAJICAgICFJU19FTkFCTEVEKENPTkZJR19ETUFCVUZfTU9WRV9OT1RJRlkpKQogCQlkbWFf
YnVmX3VucGluKGF0dGFjaCk7CisKKwlkbWFfYnVmX3VwZGF0ZV9hdHRhY2htZW50X21hcF9jb3Vu
dChhdHRhY2gsIC0xIC8qIGRlbHRhICovKTsKIH0KIEVYUE9SVF9TWU1CT0xfR1BMKGRtYV9idWZf
dW5tYXBfYXR0YWNobWVudCk7CiAKQEAgLTE0ODAsNiArMTUxMCwxMiBAQCBzdGF0aWMgaW5saW5l
IHZvaWQgZG1hX2J1Zl91bmluaXRfZGVidWdmcyh2b2lkKQogCiBzdGF0aWMgaW50IF9faW5pdCBk
bWFfYnVmX2luaXQodm9pZCkKIHsKKwlpbnQgcmV0OworCisJcmV0ID0gZG1hX2J1Zl9pbml0X3N5
c2ZzX3N0YXRpc3RpY3MoKTsKKwlpZiAocmV0KQorCQlyZXR1cm4gcmV0OworCiAJZG1hX2J1Zl9t
bnQgPSBrZXJuX21vdW50KCZkbWFfYnVmX2ZzX3R5cGUpOwogCWlmIChJU19FUlIoZG1hX2J1Zl9t
bnQpKQogCQlyZXR1cm4gUFRSX0VSUihkbWFfYnVmX21udCk7CkBAIC0xNDk1LDUgKzE1MzEsNiBA
QCBzdGF0aWMgdm9pZCBfX2V4aXQgZG1hX2J1Zl9kZWluaXQodm9pZCkKIHsKIAlkbWFfYnVmX3Vu
aW5pdF9kZWJ1Z2ZzKCk7CiAJa2Vybl91bm1vdW50KGRtYV9idWZfbW50KTsKKwlkbWFfYnVmX3Vu
aW5pdF9zeXNmc19zdGF0aXN0aWNzKCk7CiB9CiBfX2V4aXRjYWxsKGRtYV9idWZfZGVpbml0KTsK
ZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvZG1hLWJ1Zi5oIGIvaW5jbHVkZS9saW51eC9kbWEt
YnVmLmgKaW5kZXggZWZkYzU2YjlkOTVmLi4zNDI1ODViZDZkZmYgMTAwNjQ0Ci0tLSBhL2luY2x1
ZGUvbGludXgvZG1hLWJ1Zi5oCisrKyBiL2luY2x1ZGUvbGludXgvZG1hLWJ1Zi5oCkBAIC0yOTUs
NiArMjk1LDkgQEAgc3RydWN0IGRtYV9idWZfb3BzIHsKICAqIEBwb2xsOiBmb3IgdXNlcnNwYWNl
IHBvbGwgc3VwcG9ydAogICogQGNiX2V4Y2w6IGZvciB1c2Vyc3BhY2UgcG9sbCBzdXBwb3J0CiAg
KiBAY2Jfc2hhcmVkOiBmb3IgdXNlcnNwYWNlIHBvbGwgc3VwcG9ydAorICogQHN5c2ZzX2VudHJ5
OiBmb3IgZXhwb3NpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBidWZmZXIgaW4gc3lzZnMuCisg
KiBUaGUgYXR0YWNobWVudF91aWQgbWVtYmVyIG9mIEBzeXNmc19lbnRyeSBpcyBwcm90ZWN0ZWQg
YnkgZG1hX3Jlc3YgbG9jaworICogYW5kIGlzIGluY3JlbWVudGVkIG9uIGVhY2ggYXR0YWNoLgog
ICoKICAqIFRoaXMgcmVwcmVzZW50cyBhIHNoYXJlZCBidWZmZXIsIGNyZWF0ZWQgYnkgY2FsbGlu
ZyBkbWFfYnVmX2V4cG9ydCgpLiBUaGUKICAqIHVzZXJzcGFjZSByZXByZXNlbnRhdGlvbiBpcyBh
IG5vcm1hbCBmaWxlIGRlc2NyaXB0b3IsIHdoaWNoIGNhbiBiZSBjcmVhdGVkIGJ5CkBAIC0zMzAs
NiArMzMzLDE1IEBAIHN0cnVjdCBkbWFfYnVmIHsKIAogCQlfX3BvbGxfdCBhY3RpdmU7CiAJfSBj
Yl9leGNsLCBjYl9zaGFyZWQ7CisjaWZkZWYgQ09ORklHX0RNQUJVRl9TWVNGU19TVEFUUworCS8q
IGZvciBzeXNmcyBzdGF0cyAqLworCXN0cnVjdCBkbWFfYnVmX3N5c2ZzX2VudHJ5IHsKKwkJc3Ry
dWN0IGtvYmplY3Qga29iajsKKwkJc3RydWN0IGRtYV9idWYgKmRtYWJ1ZjsKKwkJdW5zaWduZWQg
aW50IGF0dGFjaG1lbnRfdWlkOworCQlzdHJ1Y3Qga3NldCAqYXR0YWNoX3N0YXRzX2tzZXQ7CisJ
fSAqc3lzZnNfZW50cnk7CisjZW5kaWYKIH07CiAKIC8qKgpAQCAtMzc5LDYgKzM5MSw3IEBAIHN0
cnVjdCBkbWFfYnVmX2F0dGFjaF9vcHMgewogICogQGltcG9ydGVyX29wczogaW1wb3J0ZXIgb3Bl
cmF0aW9ucyBmb3IgdGhpcyBhdHRhY2htZW50LCBpZiBwcm92aWRlZAogICogZG1hX2J1Zl9tYXAv
dW5tYXBfYXR0YWNobWVudCgpIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIGRtYV9yZXN2IGxvY2sg
aGVsZC4KICAqIEBpbXBvcnRlcl9wcml2OiBpbXBvcnRlciBzcGVjaWZpYyBhdHRhY2htZW50IGRh
dGEuCisgKiBAc3lzZnNfZW50cnk6IEZvciBleHBvc2luZyBpbmZvcm1hdGlvbiBhYm91dCB0aGlz
IGF0dGFjaG1lbnQgaW4gc3lzZnMuCiAgKgogICogVGhpcyBzdHJ1Y3R1cmUgaG9sZHMgdGhlIGF0
dGFjaG1lbnQgaW5mb3JtYXRpb24gYmV0d2VlbiB0aGUgZG1hX2J1ZiBidWZmZXIKICAqIGFuZCBp
dHMgdXNlciBkZXZpY2UocykuIFRoZSBsaXN0IGNvbnRhaW5zIG9uZSBhdHRhY2htZW50IHN0cnVj
dCBwZXIgZGV2aWNlCkBAIC0zOTksNiArNDEyLDEzIEBAIHN0cnVjdCBkbWFfYnVmX2F0dGFjaG1l
bnQgewogCWNvbnN0IHN0cnVjdCBkbWFfYnVmX2F0dGFjaF9vcHMgKmltcG9ydGVyX29wczsKIAl2
b2lkICppbXBvcnRlcl9wcml2OwogCXZvaWQgKnByaXY7CisjaWZkZWYgQ09ORklHX0RNQUJVRl9T
WVNGU19TVEFUUworCS8qIGZvciBzeXNmcyBzdGF0cyAqLworCXN0cnVjdCBkbWFfYnVmX2F0dGFj
aF9zeXNmc19lbnRyeSB7CisJCXN0cnVjdCBrb2JqZWN0IGtvYmo7CisJCXVuc2lnbmVkIGludCBt
YXBfY291bnRlcjsKKwl9ICpzeXNmc19lbnRyeTsKKyNlbmRpZgogfTsKIAogLyoqCi0tIAoyLjMy
LjAucmMxLjIyOS5nM2U3MGI1YTY3MS1nb29nCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpMaW5hcm8tbW0tc2lnIG1haWxpbmcgbGlzdApMaW5hcm8tbW0t
c2lnQGxpc3RzLmxpbmFyby5vcmcKaHR0cHM6Ly9saXN0cy5saW5hcm8ub3JnL21haWxtYW4vbGlz
dGluZm8vbGluYXJvLW1tLXNpZwo=
