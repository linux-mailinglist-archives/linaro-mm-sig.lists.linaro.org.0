Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id 20D174B648A
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 15 Feb 2022 08:40:06 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 535E33EEAE
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 15 Feb 2022 07:40:05 +0000 (UTC)
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
	by lists.linaro.org (Postfix) with ESMTPS id E5ED83EE15
	for <linaro-mm-sig@lists.linaro.org>; Wed, 26 Jan 2022 20:36:43 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
  d=intel.com; i=@intel.com; q=dns/txt; s=Intel;
  t=1643229404; x=1674765404;
  h=from:to:cc:subject:date:message-id:in-reply-to:
   references:mime-version:content-transfer-encoding;
  bh=fT5raPuy4gQlCWtdlnkOy0l3+TfxT0XyYHiwiGiH8uo=;
  b=n5dPGf/Gyn5kryJDO/y84nEdp/JxDfoLp3DNj/2bN3P21VYcgvTJ6A5t
   Gs13WyZl9fb6lXQXRHRpY1I1U+iAm4NZSP+BWRD3OPbADBjblaRSOiA7e
   9TTnYj5EgWCPpmypmQCK2SlfyJOfnwcZifenTV81xOPIulZTm+KRHq9Tl
   5OM7HUIzEBciV25fsBXUdJoAjmPVsZkbWIAClNwxvWq5Z+0sxdlw+nMVm
   QNsATQpFVn0kASVESu376AqRSQjEfAJyvrJ6DLvA+C3kOFS1oX6hNqXt8
   LpHn3q4ZKZ9g3Ibm0aHzzc/+CQHXvMhiiaRFwcMXc91qj+oJxgX0XaVjI
   A==;
X-IronPort-AV: E=McAfee;i="6200,9189,10239"; a="245480770"
X-IronPort-AV: E=Sophos;i="5.88,319,1635231600";
   d="scan'208";a="245480770"
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
  by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384; 26 Jan 2022 12:36:23 -0800
X-IronPort-AV: E=Sophos;i="5.88,319,1635231600";
   d="scan'208";a="581221490"
Received: from lucas-s2600cw.jf.intel.com ([10.165.21.202])
  by fmsmga008-auth.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384; 26 Jan 2022 12:36:22 -0800
From: Lucas De Marchi <lucas.demarchi@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 26 Jan 2022 12:36:44 -0800
Message-Id: <20220126203702.1784589-2-lucas.demarchi@intel.com>
X-Mailer: git-send-email 2.35.0
In-Reply-To: <20220126203702.1784589-1-lucas.demarchi@intel.com>
References: <20220126203702.1784589-1-lucas.demarchi@intel.com>
MIME-Version: 1.0
X-MailFrom: lucas.demarchi@intel.com
X-Mailman-Rule-Hits: nonmember-moderation
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation
Message-ID-Hash: 5PVEYI4F5HGPISNG2RS2WDSUTWLMBOUE
X-Message-ID-Hash: 5PVEYI4F5HGPISNG2RS2WDSUTWLMBOUE
X-Mailman-Approved-At: Tue, 15 Feb 2022 07:39:01 +0000
CC: dri-devel@lists.freedesktop.org, Matt Roper <matthew.d.roper@intel.com>, =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>, linux-media@vger.kernel.org, linaro-mm-sig@lists.linaro.org, linux-kernel@vger.kernel.org
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] [PATCH 01/19] dma-buf-map: Add read/write helpers
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/5PVEYI4F5HGPISNG2RS2WDSUTWLMBOUE/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

SW4gY2VydGFpbiBzaXR1YXRpb25zIGl0J3MgdXNlZnVsIHRvIGJlIGFibGUgdG8gcmVhZCBvciB3
cml0ZSB0byBhbg0Kb2Zmc2V0IHRoYXQgaXMgY2FsY3VsYXRlZCBieSBoYXZpbmcgdGhlIG1lbW9y
eSBsYXlvdXQgZ2l2ZW4gYnkgYSBzdHJ1Y3QNCmRlY2xhcmF0aW9uLiBVc3VhbGx5IHdlIGFyZSBn
b2luZyB0byByZWFkL3dyaXRlIGEgdTgsIHUxNiwgdTMyIG9yIHU2NC4NCg0KQWRkIGEgcGFpciBv
ZiBtYWNyb3MgZG1hX2J1Zl9tYXBfcmVhZF9maWVsZCgpL2RtYV9idWZfbWFwX3dyaXRlX2ZpZWxk
KCkNCnRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IG9mIGEgc3RydWN0IG1lbWJlciBhbmQgbWVtY3B5
IHRoZSBkYXRhIGZyb20vdG8NCnRoZSBkbWFfYnVmX21hcC4gV2UgY291bGQgdXNlIHJlYWRiLCBy
ZWFkdywgcmVhZGwsIHJlYWRxIGFuZCB0aGUgd3JpdGUqDQpjb3VudGVycGFydHMsIGhvd2V2ZXIg
ZHVlIHRvIGFsaWdubWVudCBpc3N1ZXMgdGhpcyBtYXkgbm90IHdvcmsgb24gYWxsDQphcmNoaXRl
Y3R1cmVzLiBJZiBhbGlnbm1lbnQgbmVlZHMgdG8gYmUgY2hlY2tlZCB0byBjYWxsIHRoZSByaWdo
dA0KZnVuY3Rpb24sIGl0J3Mgbm90IHBvc3NpYmxlIHRvIGRlY2lkZSBhdCBjb21waWxlLXRpbWUg
d2hpY2ggZnVuY3Rpb24gdG8NCmNhbGw6IHNvIGp1c3QgbGVhdmUgdGhlIGRlY2lzaW9uIHRvIHRo
ZSBtZW1jcHkgZnVuY3Rpb24gdGhhdCB3aWxsIGRvDQpleGFjdGx5IHRoYXQgb24gSU8gbWVtb3J5
IG9yIGRlcmVmZXJlbmNlIHRoZSBwb2ludGVyLg0KDQpDYzogU3VtaXQgU2Vtd2FsIDxzdW1pdC5z
ZW13YWxAbGluYXJvLm9yZz4NCkNjOiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmln
QGFtZC5jb20+DQpDYzogbGludXgtbWVkaWFAdmdlci5rZXJuZWwub3JnDQpDYzogZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KQ2M6IGxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9y
Zw0KQ2M6IGxpbnV4LWtlcm5lbEB2Z2VyLmtlcm5lbC5vcmcNClNpZ25lZC1vZmYtYnk6IEx1Y2Fz
IERlIE1hcmNoaSA8bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPg0KLS0tDQogaW5jbHVkZS9saW51
eC9kbWEtYnVmLW1hcC5oIHwgODEgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
Kw0KIDEgZmlsZSBjaGFuZ2VkLCA4MSBpbnNlcnRpb25zKCspDQoNCmRpZmYgLS1naXQgYS9pbmNs
dWRlL2xpbnV4L2RtYS1idWYtbWFwLmggYi9pbmNsdWRlL2xpbnV4L2RtYS1idWYtbWFwLmgNCmlu
ZGV4IDE5ZmEwYjVhZTVlYy4uNjVlOTI3ZDljZTMzIDEwMDY0NA0KLS0tIGEvaW5jbHVkZS9saW51
eC9kbWEtYnVmLW1hcC5oDQorKysgYi9pbmNsdWRlL2xpbnV4L2RtYS1idWYtbWFwLmgNCkBAIC02
LDYgKzYsNyBAQA0KICNpZm5kZWYgX19ETUFfQlVGX01BUF9IX18NCiAjZGVmaW5lIF9fRE1BX0JV
Rl9NQVBfSF9fDQogDQorI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPg0KICNpbmNsdWRlIDxsaW51
eC9pby5oPg0KICNpbmNsdWRlIDxsaW51eC9zdHJpbmcuaD4NCiANCkBAIC0yMjksNiArMjMwLDQ2
IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBkbWFfYnVmX21hcF9jbGVhcihzdHJ1Y3QgZG1hX2J1Zl9t
YXAgKm1hcCkNCiAJfQ0KIH0NCiANCisvKioNCisgKiBkbWFfYnVmX21hcF9tZW1jcHlfdG9fb2Zm
c2V0IC0gTWVtY3B5IGludG8gb2Zmc2V0IG9mIGRtYS1idWYgbWFwcGluZw0KKyAqIEBkc3Q6CVRo
ZSBkbWEtYnVmIG1hcHBpbmcgc3RydWN0dXJlDQorICogQG9mZnNldDoJVGhlIG9mZnNldCBmcm9t
IHdoaWNoIHRvIGNvcHkNCisgKiBAc3JjOglUaGUgc291cmNlIGJ1ZmZlcg0KKyAqIEBsZW46CVRo
ZSBudW1iZXIgb2YgYnl0ZSBpbiBzcmMNCisgKg0KKyAqIENvcGllcyBkYXRhIGludG8gYSBkbWEt
YnVmIG1hcHBpbmcgd2l0aCBhbiBvZmZzZXQuIFRoZSBzb3VyY2UgYnVmZmVyIGlzIGluDQorICog
c3lzdGVtIG1lbW9yeS4gRGVwZW5kaW5nIG9uIHRoZSBidWZmZXIncyBsb2NhdGlvbiwgdGhlIGhl
bHBlciBwaWNrcyB0aGUNCisgKiBjb3JyZWN0IG1ldGhvZCBvZiBhY2Nlc3NpbmcgdGhlIG1lbW9y
eS4NCisgKi8NCitzdGF0aWMgaW5saW5lIHZvaWQgZG1hX2J1Zl9tYXBfbWVtY3B5X3RvX29mZnNl
dChzdHJ1Y3QgZG1hX2J1Zl9tYXAgKmRzdCwgc2l6ZV90IG9mZnNldCwNCisJCQkJCQljb25zdCB2
b2lkICpzcmMsIHNpemVfdCBsZW4pDQorew0KKwlpZiAoZHN0LT5pc19pb21lbSkNCisJCW1lbWNw
eV90b2lvKGRzdC0+dmFkZHJfaW9tZW0gKyBvZmZzZXQsIHNyYywgbGVuKTsNCisJZWxzZQ0KKwkJ
bWVtY3B5KGRzdC0+dmFkZHIgKyBvZmZzZXQsIHNyYywgbGVuKTsNCit9DQorDQorLyoqDQorICog
ZG1hX2J1Zl9tYXBfbWVtY3B5X2Zyb21fb2Zmc2V0IC0gTWVtY3B5IGZyb20gb2Zmc2V0IG9mIGRt
YS1idWYgbWFwcGluZyBpbnRvIHN5c3RlbSBtZW1vcnkNCisgKiBAZHN0OglEZXN0aW5hdGlvbiBp
biBzeXN0ZW0gbWVtb3J5DQorICogQHNyYzoJVGhlIGRtYS1idWYgbWFwcGluZyBzdHJ1Y3R1cmUN
CisgKiBAc3JjOglUaGUgb2Zmc2V0IGZyb20gd2hpY2ggdG8gY29weQ0KKyAqIEBsZW46CVRoZSBu
dW1iZXIgb2YgYnl0ZSBpbiBzcmMNCisgKg0KKyAqIENvcGllcyBkYXRhIGZyb20gYSBkbWEtYnVm
IG1hcHBpbmcgd2l0aCBhbiBvZmZzZXQuIFRoZSBkZXN0IGJ1ZmZlciBpcyBpbg0KKyAqIHN5c3Rl
bSBtZW1vcnkuIERlcGVuZGluZyBvbiB0aGUgbWFwcGluZyBsb2NhdGlvbiwgdGhlIGhlbHBlciBw
aWNrcyB0aGUNCisgKiBjb3JyZWN0IG1ldGhvZCBvZiBhY2Nlc3NpbmcgdGhlIG1lbW9yeS4NCisg
Ki8NCitzdGF0aWMgaW5saW5lIHZvaWQgZG1hX2J1Zl9tYXBfbWVtY3B5X2Zyb21fb2Zmc2V0KHZv
aWQgKmRzdCwgY29uc3Qgc3RydWN0IGRtYV9idWZfbWFwICpzcmMsDQorCQkJCQkJICBzaXplX3Qg
b2Zmc2V0LCBzaXplX3QgbGVuKQ0KK3sNCisJaWYgKHNyYy0+aXNfaW9tZW0pDQorCQltZW1jcHlf
ZnJvbWlvKGRzdCwgc3JjLT52YWRkcl9pb21lbSArIG9mZnNldCwgbGVuKTsNCisJZWxzZQ0KKwkJ
bWVtY3B5KGRzdCwgc3JjLT52YWRkciArIG9mZnNldCwgbGVuKTsNCit9DQorDQogLyoqDQogICog
ZG1hX2J1Zl9tYXBfbWVtY3B5X3RvIC0gTWVtY3B5IGludG8gZG1hLWJ1ZiBtYXBwaW5nDQogICog
QGRzdDoJVGhlIGRtYS1idWYgbWFwcGluZyBzdHJ1Y3R1cmUNCkBAIC0yNjMsNCArMzA0LDQ0IEBA
IHN0YXRpYyBpbmxpbmUgdm9pZCBkbWFfYnVmX21hcF9pbmNyKHN0cnVjdCBkbWFfYnVmX21hcCAq
bWFwLCBzaXplX3QgaW5jcikNCiAJCW1hcC0+dmFkZHIgKz0gaW5jcjsNCiB9DQogDQorLyoqDQor
ICogZG1hX2J1Zl9tYXBfcmVhZF9maWVsZCAtIFJlYWQgc3RydWN0IG1lbWJlciBmcm9tIGRtYS1i
dWYgbWFwcGluZyB3aXRoDQorICogYXJiaXRyYXJ5IHNpemUgYW5kIGhhbmRsaW5nIHVuLWFsaWdu
ZWQgYWNjZXNzZXMNCisgKg0KKyAqIEBtYXBfXzoJVGhlIGRtYS1idWYgbWFwcGluZyBzdHJ1Y3R1
cmUNCisgKiBAdHlwZV9fOglUaGUgc3RydWN0IHRvIGJlIHVzZWQgY29udGFpbmluZyB0aGUgZmll
bGQgdG8gcmVhZA0KKyAqIEBmaWVsZF9fOglNZW1iZXIgZnJvbSBzdHJ1Y3Qgd2Ugd2FudCB0byBy
ZWFkDQorICoNCisgKiBSZWFkIGEgdmFsdWUgZnJvbSBkbWEtYnVmIG1hcHBpbmcgY2FsY3VsYXRp
bmcgdGhlIG9mZnNldCBhbmQgc2l6ZTogdGhpcyBhc3N1bWVzDQorICogdGhlIGRtYS1idWYgbWFw
cGluZyBpcyBhbGlnbmVkIHdpdGggYSBhIHN0cnVjdCB0eXBlX18uIEEgc2luZ2xlIHU4LCB1MTYs
IHUzMg0KKyAqIG9yIHU2NCBjYW4gYmUgcmVhZCwgYmFzZWQgb24gdGhlIG9mZnNldCBhbmQgc2l6
ZSBvZiB0eXBlX18uZmllbGRfXy4NCisgKi8NCisjZGVmaW5lIGRtYV9idWZfbWFwX3JlYWRfZmll
bGQobWFwX18sIHR5cGVfXywgZmllbGRfXykgKHsJCQkJXA0KKwl0eXBlX18gKnRfXzsJCQkJCQkJ
CQlcDQorCXR5cGVvZih0X18tPmZpZWxkX18pIHZhbF9fOwkJCQkJCQlcDQorCWRtYV9idWZfbWFw
X21lbWNweV9mcm9tX29mZnNldCgmdmFsX18sIG1hcF9fLCBvZmZzZXRvZih0eXBlX18sIGZpZWxk
X18pLAlcDQorCQkJCSAgICAgICBzaXplb2YodF9fLT5maWVsZF9fKSk7CQkJCVwNCisJdmFsX187
CQkJCQkJCQkJCVwNCit9KQ0KKw0KKy8qKg0KKyAqIGRtYV9idWZfbWFwX3dyaXRlX2ZpZWxkIC0g
V3JpdGUgc3RydWN0IG1lbWJlciB0byB0aGUgZG1hLWJ1ZiBtYXBwaW5nIHdpdGgNCisgKiBhcmJp
dHJhcnkgc2l6ZSBhbmQgaGFuZGxpbmcgdW4tYWxpZ25lZCBhY2Nlc3Nlcw0KKyAqDQorICogQG1h
cF9fOglUaGUgZG1hLWJ1ZiBtYXBwaW5nIHN0cnVjdHVyZQ0KKyAqIEB0eXBlX186CVRoZSBzdHJ1
Y3QgdG8gYmUgdXNlZCBjb250YWluaW5nIHRoZSBmaWVsZCB0byB3cml0ZQ0KKyAqIEBmaWVsZF9f
OglNZW1iZXIgZnJvbSBzdHJ1Y3Qgd2Ugd2FudCB0byB3cml0ZQ0KKyAqIEB2YWxfXzoJVmFsdWUg
dG8gYmUgd3JpdHRlbg0KKyAqDQorICogV3JpdGUgYSB2YWx1ZSB0byB0aGUgZG1hLWJ1ZiBtYXBw
aW5nIGNhbGN1bGF0aW5nIHRoZSBvZmZzZXQgYW5kIHNpemUuDQorICogQSBzaW5nbGUgdTgsIHUx
NiwgdTMyIG9yIHU2NCBjYW4gYmUgd3JpdHRlbiBiYXNlZCBvbiB0aGUgb2Zmc2V0IGFuZCBzaXpl
IG9mDQorICogdHlwZV9fLmZpZWxkX18uDQorICovDQorI2RlZmluZSBkbWFfYnVmX21hcF93cml0
ZV9maWVsZChtYXBfXywgdHlwZV9fLCBmaWVsZF9fLCB2YWxfXykgKHsJCQlcDQorCXR5cGVfXyAq
dF9fOwkJCQkJCQkJCVwNCisJdHlwZW9mKHRfXy0+ZmllbGRfXykgdmFsX19fXyA9IHZhbF9fOwkJ
CQkJCVwNCisJZG1hX2J1Zl9tYXBfbWVtY3B5X3RvX29mZnNldChtYXBfXywgb2Zmc2V0b2YodHlw
ZV9fLCBmaWVsZF9fKSwJCQlcDQorCQkJCSAgICAgJnZhbF9fX18sIHNpemVvZih0X18tPmZpZWxk
X18pKTsJCQlcDQorfSkNCisNCiAjZW5kaWYgLyogX19ETUFfQlVGX01BUF9IX18gKi8NCi0tIA0K
Mi4zNS4wDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CkxpbmFyby1tbS1zaWcgbWFpbGluZyBsaXN0IC0tIGxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJv
Lm9yZwpUbyB1bnN1YnNjcmliZSBzZW5kIGFuIGVtYWlsIHRvIGxpbmFyby1tbS1zaWctbGVhdmVA
bGlzdHMubGluYXJvLm9yZwo=
