Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id B21679EAC6E
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 10 Dec 2024 10:37:50 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 3522443F8D
	for <lists+linaro-mm-sig@lfdr.de>; Tue, 10 Dec 2024 09:37:48 +0000 (UTC)
Received: from dfw.source.kernel.org (dfw.source.kernel.org [139.178.84.217])
	by lists.linaro.org (Postfix) with ESMTPS id 5D1EE43F8D
	for <linaro-mm-sig@lists.linaro.org>; Tue, 10 Dec 2024 09:37:28 +0000 (UTC)
Authentication-Results: lists.linaro.org;
	dkim=pass header.d=linuxfoundation.org header.s=korg header.b=SQvlKUB4;
	spf=pass (lists.linaro.org: domain of gregkh@linuxfoundation.org designates 139.178.84.217 as permitted sender) smtp.mailfrom=gregkh@linuxfoundation.org;
	dmarc=pass (policy=none) header.from=linuxfoundation.org
Received: from smtp.kernel.org (transwarp.subspace.kernel.org [100.75.92.58])
	by dfw.source.kernel.org (Postfix) with ESMTP id 7AF7E5C03C4;
	Tue, 10 Dec 2024 09:36:45 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 6A56AC4CED6;
	Tue, 10 Dec 2024 09:37:27 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=linuxfoundation.org;
	s=korg; t=1733823447;
	bh=g+cB3JmBIhhfkoQBg9abWXL5AtPCBJ3vgcFnIa26Zbs=;
	h=Subject:To:Cc:From:Date:From;
	b=SQvlKUB45pq5snlaLfloRcnFElhcD3yHrzQSPhjBVrDT7visTAaYx3iNSFvB/hWWA
	 1I0TAgUTJRwlczx0SlXyaWx+iBV8BNrzd6iP13oAskNNUZw1PzO7ZYIEuQv4yhBgvk
	 FO0fc6tO9YAojn+2xujmaChZiGKenTrg3HfskkTo=
To: 20241024124159.4519-3-christian.koenig@amd.com,christian.koenig@amd.com,daniel.vetter@ffwll.ch,dri-devel@lists.freedesktop.org,friedrich.vock@gmx.de,gregkh@linuxfoundation.org,gustavo@padovan.org,linaro-mm-sig@lists.linaro.org,sumit.semwal@linaro.org,tvrtko.ursulin@igalia.com
From: <gregkh@linuxfoundation.org>
Date: Tue, 10 Dec 2024 10:35:54 +0100
Message-ID: <2024121054-scheming-galleria-6fb0@gregkh>
MIME-Version: 1.0
X-stable: commit
X-Patchwork-Hint: ignore
X-Rspamd-Queue-Id: 5D1EE43F8D
X-Spamd-Bar: /
X-Spamd-Result: default: False [-0.50 / 15.00];
	MID_END_EQ_FROM_USER_PART(4.00)[];
	BAYES_HAM(-3.00)[100.00%];
	RBL_SENDERSCORE_REPUT_9(-1.00)[139.178.84.217:from];
	MID_RHS_NOT_FQDN(0.50)[];
	DMARC_POLICY_ALLOW(-0.50)[linuxfoundation.org,none];
	R_SPF_ALLOW(-0.20)[+ip4:139.178.84.217];
	R_DKIM_ALLOW(-0.20)[linuxfoundation.org:s=korg];
	MIME_GOOD(-0.10)[text/plain];
	MISSING_XM_UA(0.00)[];
	ARC_NA(0.00)[];
	MIME_TRACE(0.00)[0:+];
	ASN(0.00)[asn:54825, ipnet:139.178.80.0/21, country:US];
	RCVD_VIA_SMTP_AUTH(0.00)[];
	FROM_NO_DN(0.00)[];
	TO_MATCH_ENVRCPT_SOME(0.00)[];
	FREEMAIL_TO(0.00)[amd.com,ffwll.ch,lists.freedesktop.org,gmx.de,linuxfoundation.org,padovan.org,lists.linaro.org,linaro.org,igalia.com];
	RCPT_COUNT_SEVEN(0.00)[11];
	FROM_EQ_ENVFROM(0.00)[];
	RCVD_TLS_LAST(0.00)[];
	TO_DN_NONE(0.00)[];
	NEURAL_HAM(-0.00)[-1.000];
	URIBL_BLOCKED(0.00)[dfw.source.kernel.org:rdns,dfw.source.kernel.org:helo];
	RCVD_COUNT_TWO(0.00)[2];
	DKIM_TRACE(0.00)[linuxfoundation.org:+]
X-Rspamd-Action: no action
X-Rspamd-Server: lists.linaro.org
Message-ID-Hash: FJ52L6AG5BP7BVPQLFG6WVSEJMDB4ZYG
X-Message-ID-Hash: FJ52L6AG5BP7BVPQLFG6WVSEJMDB4ZYG
X-MailFrom: gregkh@linuxfoundation.org
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: stable-commits@vger.kernel.org
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Patch "dma-fence: Use kernel's sort for merging fences" has been added to the 6.6-stable tree
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/FJ52L6AG5BP7BVPQLFG6WVSEJMDB4ZYG/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

DQpUaGlzIGlzIGEgbm90ZSB0byBsZXQgeW91IGtub3cgdGhhdCBJJ3ZlIGp1c3QgYWRkZWQgdGhl
IHBhdGNoIHRpdGxlZA0KDQogICAgZG1hLWZlbmNlOiBVc2Uga2VybmVsJ3Mgc29ydCBmb3IgbWVy
Z2luZyBmZW5jZXMNCg0KdG8gdGhlIDYuNi1zdGFibGUgdHJlZSB3aGljaCBjYW4gYmUgZm91bmQg
YXQ6DQogICAgaHR0cDovL3d3dy5rZXJuZWwub3JnL2dpdC8/cD1saW51eC9rZXJuZWwvZ2l0L3N0
YWJsZS9zdGFibGUtcXVldWUuZ2l0O2E9c3VtbWFyeQ0KDQpUaGUgZmlsZW5hbWUgb2YgdGhlIHBh
dGNoIGlzOg0KICAgICBkbWEtZmVuY2UtdXNlLWtlcm5lbC1zLXNvcnQtZm9yLW1lcmdpbmctZmVu
Y2VzLnBhdGNoDQphbmQgaXQgY2FuIGJlIGZvdW5kIGluIHRoZSBxdWV1ZS02LjYgc3ViZGlyZWN0
b3J5Lg0KDQpJZiB5b3UsIG9yIGFueW9uZSBlbHNlLCBmZWVscyBpdCBzaG91bGQgbm90IGJlIGFk
ZGVkIHRvIHRoZSBzdGFibGUgdHJlZSwNCnBsZWFzZSBsZXQgPHN0YWJsZUB2Z2VyLmtlcm5lbC5v
cmc+IGtub3cgYWJvdXQgaXQuDQoNCg0KPkZyb20gZmU1MmM2NDk0MzhiODQ4OWM5NDU2NjgxZDkz
YTliM2RlM2QzODI2MyBNb24gU2VwIDE3IDAwOjAwOjAwIDIwMDENCkZyb206IFR2cnRrbyBVcnN1
bGluIDx0dnJ0a28udXJzdWxpbkBpZ2FsaWEuY29tPg0KRGF0ZTogRnJpLCAxNSBOb3YgMjAyNCAx
MDoyMTo1MCArMDAwMA0KU3ViamVjdDogZG1hLWZlbmNlOiBVc2Uga2VybmVsJ3Mgc29ydCBmb3Ig
bWVyZ2luZyBmZW5jZXMNCk1JTUUtVmVyc2lvbjogMS4wDQpDb250ZW50LVR5cGU6IHRleHQvcGxh
aW47IGNoYXJzZXQ9VVRGLTgNCkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IDhiaXQNCg0KRnJv
bTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGlnYWxpYS5jb20+DQoNCmNvbW1pdCBm
ZTUyYzY0OTQzOGI4NDg5Yzk0NTY2ODFkOTNhOWIzZGUzZDM4MjYzIHVwc3RyZWFtLg0KDQpPbmUg
YWx0ZXJuYXRpdmUgdG8gdGhlIGZpeCBDaHJpc3RpYW4gcHJvcG9zZWQgaW4NCmh0dHBzOi8vbG9y
ZS5rZXJuZWwub3JnL2RyaS1kZXZlbC8yMDI0MTAyNDEyNDE1OS40NTE5LTMtY2hyaXN0aWFuLmtv
ZW5pZ0BhbWQuY29tLw0KaXMgdG8gcmVwbGFjZSB0aGUgcmF0aGVyIGNvbXBsZXggb3BlbiBjb2Rl
ZCBzb3J0aW5nIGxvb3BzIHdpdGggdGhlIGtlcm5lbA0Kc3RhbmRhcmQgc29ydCBmb2xsb3dlZCBi
eSBhIGNvbnRleHQgc3F1YXNoaW5nIHBhc3MuDQoNClByb3Bvc2VkIGFkdmFudGFnZSBvZiB0aGlz
IHdvdWxkIGJlIHJlYWRhYmlsaXR5IGJ1dCBvbmUgY29uY2VybiBDaHJpc3RpYW4NCnJhaXNlZCB3
YXMgdGhhdCB0aGVyZSBjb3VsZCBiZSBtYW55IGZlbmNlcywgdGhhdCB0aGV5IGFyZSB0eXBpY2Fs
bHkgbW9zdGx5DQpzb3J0ZWQsIGFuZCBzbyB0aGUga2VybmVsJ3MgaGVhcCBzb3J0IHdvdWxkIGJl
IG11Y2ggd29yc2UgYnkgdGhlIHByb3Bvc2VkDQphbGdvcml0aG0uDQoNCkkgaGFkIGEgbG9vayBy
dW5uaW5nIHNvbWUgZ2FtZXMgYW5kIHZrY3ViZSB0byBzZWUgd2hhdCBhcmUgdGhlIHR5cGljYWwN
Cm51bWJlciBvZiBpbnB1dCBmZW5jZXMuIFRlc3RlZCBzY2VuYXJpb3M6DQoNCjEpIEhvZ3dhcnRz
IExlZ2FjeSB1bmRlciBHYW1lc2NvcGUNCg0KNDUwIGNhbGxzIHBlciBzZWNvbmQgdG8gX19kbWFf
ZmVuY2VfdW53cmFwX21lcmdlLg0KDQpQZXJjZW50YWdlcyBwZXIgbnVtYmVyIG9mIGZlbmNlcyBi
dWNrZXRzLCBiZWZvcmUgYW5kIGFmdGVyIGNoZWNraW5nIGZvcg0Kc2lnbmFsbGVkIHN0YXR1cywg
c29ydGluZyBhbmQgZmxhdHRlbmluZzoNCg0KICAgTiAgICAgICBCZWZvcmUgICAgICBBZnRlcg0K
ICAgMCAgICAgICAwLjkxJQ0KICAgMSAgICAgIDY5LjQwJQ0KICAyLTMgICAgIDI4LjcyJSAgICAg
ICA5LjQlICAoOTAuNiUgcmVzb2x2ZWQgdG8gb25lIGZlbmNlKQ0KICA0LTUgICAgICAwLjkzJQ0K
ICA2LTkgICAgICAwLjAzJQ0KICAxMCsNCg0KMikgQ3liZXJwdW5rIDIwNzcgdW5kZXIgR2FtZXNj
b3BlDQoNCjEwNTAgY2FsbHMgcGVyIHNlY29uZCwgYW1vdW50aW5nIHRvIDAuMDElIENQVSB0aW1l
IGFjY29yZGluZyB0byBwZXJmIHRvcC4NCg0KICAgTiAgICAgICBCZWZvcmUgICAgICBBZnRlcg0K
ICAgMCAgICAgICAxLjEzJQ0KICAgMSAgICAgIDUyLjMwJQ0KICAyLTMgICAgIDQwLjM0JSAgICAg
ICA1NS41NyUNCiAgNC01ICAgICAgMS40NiUgICAgICAgIDAuNTAlDQogIDYtOSAgICAgIDIuNDQl
DQogIDEwKyAgICAgIDIuMzQlDQoNCjMpIHZrY3ViZSB1bmRlciBQbGFzbWENCg0KOTAgY2FsbHMg
cGVyIHNlY29uZC4NCg0KICAgTiAgICAgICBCZWZvcmUgICAgICBBZnRlcg0KICAgMA0KICAgMQ0K
ICAyLTMgICAgICAxMDAlICAgICAgICAgMCUgICAoSWUuIGFsbCByZXNvbHZlZCB0byBhIHNpbmds
ZSBmZW5jZSkNCiAgNC01DQogIDYtOQ0KICAxMCsNCg0KSW4gdGhlIGNhc2Ugb2YgdmtjdWJlIGFs
bCBpbnZvY2F0aW9ucyBpbiB0aGUgMi0zIGJ1Y2tldCB3ZXJlIGFjdHVhbGx5DQpqdXN0IHR3byBp
bnB1dCBmZW5jZXMuDQoNCj5Gcm9tIHRoZXNlIG51bWJlcnMgaXQgbG9va3MgbGlrZSB0aGUgaGVh
cCBzb3J0IHNob3VsZCBub3QgYmUgYQ0KZGlzYWR2YW50YWdlLCBnaXZlbiBob3cgdGhlIGRvbWlu
YW50IGNhc2UgaXMgPD0gMiBpbnB1dCBmZW5jZXMgd2hpY2ggaGVhcA0Kc29ydCBzb2x2ZXMgd2l0
aCBqdXN0IG9uZSBjb21wYXJlIGFuZCBzd2FwLiAoQW5kIGZvciB0aGUgY2FzZSBvZiBvbmUgaW5w
dXQNCmZlbmNlIHdlIGhhdmUgYSBmYXN0IHBhdGggaW4gdGhlIHByZXZpb3VzIHBhdGNoLikNCg0K
QSBjb21wbGVtZW50YXJ5IHBvc3NpYmlsaXR5IGlzIHRvIGltcGxlbWVudCBhIGRpZmZlcmVudCBz
b3J0aW5nIGFsZ29yaXRobQ0KdW5kZXIgdGhlIHNhbWUgQVBJIGFzIHRoZSBrZXJuZWwncyBzb3J0
KCkgYW5kIHNvIGtlZXAgdGhlIHNpbXBsaWNpdHksDQpwb3RlbnRpYWxseSBtb3ZpbmcgdGhlIG5l
dyBzb3J0IHVuZGVyIGxpYi8gaWYgaXQgd291bGQgYmUgZm91bmQgbW9yZQ0Kd2lkZWx5IHVzZWZ1
bC4NCg0KdjI6DQogKiBIb2xkIG9uIHRvIGZlbmNlIHJlZmVyZW5jZXMgYW5kIHJlZHVjZSBjb21t
ZW50YXJ5LiAoQ2hyaXN0aWFuKQ0KICogUmVjb3JkIGFuZCB1c2UgbGF0ZXN0IHNpZ25hbGVkIHRp
bWVzdGFtcCBpbiB0aGUgMm5kIGxvb3AgdG9vLg0KICogQ29uc29saWRhdGUgemVybyBvciBvbmUg
ZmVuY2VzIGZhc3QgcGF0aHMuDQoNCnYzOg0KICogUmV2ZXJzZSB0aGUgc2Vxbm8gc29ydCBvcmRl
ciBmb3IgYSBzaW1wbGVyIHNxdWFzaGluZyBwYXNzLiAoQ2hyaXN0aWFuKQ0KDQpTaWduZWQtb2Zm
LWJ5OiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaWdhbGlhLmNvbT4NCkZpeGVzOiAy
NDVhNGE3YjUzMWMgKCJkbWEtYnVmOiBnZW5lcmFsaXplIGRtYV9mZW5jZSB1bndyYXAgJiBtZXJn
aW5nIHYzIikNCkNsb3NlczogaHR0cHM6Ly9naXRsYWIuZnJlZWRlc2t0b3Aub3JnL2RybS9hbWQv
LS9pc3N1ZXMvMzYxNw0KQ2M6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1k
LmNvbT4NCkNjOiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPg0KQ2M6IFN1
bWl0IFNlbXdhbCA8c3VtaXQuc2Vtd2FsQGxpbmFyby5vcmc+DQpDYzogR3VzdGF2byBQYWRvdmFu
IDxndXN0YXZvQHBhZG92YW4ub3JnPg0KQ2M6IEZyaWVkcmljaCBWb2NrIDxmcmllZHJpY2gudm9j
a0BnbXguZGU+DQpDYzogbGludXgtbWVkaWFAdmdlci5rZXJuZWwub3JnDQpDYzogZHJpLWRldmVs
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KQ2M6IGxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9y
Zw0KQ2M6IDxzdGFibGVAdmdlci5rZXJuZWwub3JnPiAjIHY2LjArDQpSZXZpZXdlZC1ieTogQ2hy
aXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPg0KU2lnbmVkLW9mZi1ieTog
Q2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPg0KTGluazogaHR0cHM6
Ly9wYXRjaHdvcmsuZnJlZWRlc2t0b3Aub3JnL3BhdGNoL21zZ2lkLzIwMjQxMTE1MTAyMTUzLjE5
ODAtMy10dXJzdWxpbkBpZ2FsaWEuY29tDQpTaWduZWQtb2ZmLWJ5OiBHcmVnIEtyb2FoLUhhcnRt
YW4gPGdyZWdraEBsaW51eGZvdW5kYXRpb24ub3JnPg0KLS0tDQogZHJpdmVycy9kbWEtYnVmL2Rt
YS1mZW5jZS11bndyYXAuYyB8ICAxMjYgKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0t
LS0tLQ0KIDEgZmlsZSBjaGFuZ2VkLCA2MCBpbnNlcnRpb25zKCspLCA2NiBkZWxldGlvbnMoLSkN
Cg0KLS0tIGEvZHJpdmVycy9kbWEtYnVmL2RtYS1mZW5jZS11bndyYXAuYw0KKysrIGIvZHJpdmVy
cy9kbWEtYnVmL2RtYS1mZW5jZS11bndyYXAuYw0KQEAgLTEyLDYgKzEyLDcgQEANCiAjaW5jbHVk
ZSA8bGludXgvZG1hLWZlbmNlLWNoYWluLmg+DQogI2luY2x1ZGUgPGxpbnV4L2RtYS1mZW5jZS11
bndyYXAuaD4NCiAjaW5jbHVkZSA8bGludXgvc2xhYi5oPg0KKyNpbmNsdWRlIDxsaW51eC9zb3J0
Lmg+DQogDQogLyogSW50ZXJuYWwgaGVscGVyIHRvIHN0YXJ0IG5ldyBhcnJheSBpdGVyYXRpb24s
IGRvbid0IHVzZSBkaXJlY3RseSAqLw0KIHN0YXRpYyBzdHJ1Y3QgZG1hX2ZlbmNlICoNCkBAIC01
OSw2ICs2MCwyNSBAQCBzdHJ1Y3QgZG1hX2ZlbmNlICpkbWFfZmVuY2VfdW53cmFwX25leHQoDQog
fQ0KIEVYUE9SVF9TWU1CT0xfR1BMKGRtYV9mZW5jZV91bndyYXBfbmV4dCk7DQogDQorDQorc3Rh
dGljIGludCBmZW5jZV9jbXAoY29uc3Qgdm9pZCAqX2EsIGNvbnN0IHZvaWQgKl9iKQ0KK3sNCisJ
c3RydWN0IGRtYV9mZW5jZSAqYSA9ICooc3RydWN0IGRtYV9mZW5jZSAqKilfYTsNCisJc3RydWN0
IGRtYV9mZW5jZSAqYiA9ICooc3RydWN0IGRtYV9mZW5jZSAqKilfYjsNCisNCisJaWYgKGEtPmNv
bnRleHQgPCBiLT5jb250ZXh0KQ0KKwkJcmV0dXJuIC0xOw0KKwllbHNlIGlmIChhLT5jb250ZXh0
ID4gYi0+Y29udGV4dCkNCisJCXJldHVybiAxOw0KKw0KKwlpZiAoZG1hX2ZlbmNlX2lzX2xhdGVy
KGIsIGEpKQ0KKwkJcmV0dXJuIDE7DQorCWVsc2UgaWYgKGRtYV9mZW5jZV9pc19sYXRlcihhLCBi
KSkNCisJCXJldHVybiAtMTsNCisNCisJcmV0dXJuIDA7DQorfQ0KKw0KIC8qIEltcGxlbWVudGF0
aW9uIGZvciB0aGUgZG1hX2ZlbmNlX21lcmdlKCkgbWFyY28sIGRvbid0IHVzZSBkaXJlY3RseSAq
Lw0KIHN0cnVjdCBkbWFfZmVuY2UgKl9fZG1hX2ZlbmNlX3Vud3JhcF9tZXJnZSh1bnNpZ25lZCBp
bnQgbnVtX2ZlbmNlcywNCiAJCQkJCSAgIHN0cnVjdCBkbWFfZmVuY2UgKipmZW5jZXMsDQpAQCAt
NjcsOCArODcsNyBAQCBzdHJ1Y3QgZG1hX2ZlbmNlICpfX2RtYV9mZW5jZV91bndyYXBfbWVyDQog
CXN0cnVjdCBkbWFfZmVuY2VfYXJyYXkgKnJlc3VsdDsNCiAJc3RydWN0IGRtYV9mZW5jZSAqdG1w
LCAqKmFycmF5Ow0KIAlrdGltZV90IHRpbWVzdGFtcDsNCi0JdW5zaWduZWQgaW50IGk7DQotCXNp
emVfdCBjb3VudDsNCisJaW50IGksIGosIGNvdW50Ow0KIA0KIAljb3VudCA9IDA7DQogCXRpbWVz
dGFtcCA9IG5zX3RvX2t0aW1lKDApOw0KQEAgLTk2LDgwICsxMTUsNTUgQEAgc3RydWN0IGRtYV9m
ZW5jZSAqX19kbWFfZmVuY2VfdW53cmFwX21lcg0KIAlpZiAoIWFycmF5KQ0KIAkJcmV0dXJuIE5V
TEw7DQogDQotCS8qDQotCSAqIFRoaXMgdHJhc2hlcyB0aGUgaW5wdXQgZmVuY2UgYXJyYXkgYW5k
IHVzZXMgaXQgYXMgcG9zaXRpb24gZm9yIHRoZQ0KLQkgKiBmb2xsb3dpbmcgbWVyZ2UgbG9vcC4g
VGhpcyB3b3JrcyBiZWNhdXNlIHRoZSBkbWFfZmVuY2VfbWVyZ2UoKQ0KLQkgKiB3cmFwcGVyIG1h
Y3JvIGlzIGNyZWF0aW5nIHRoaXMgdGVtcG9yYXJ5IGFycmF5IG9uIHRoZSBzdGFjayB0b2dldGhl
cg0KLQkgKiB3aXRoIHRoZSBpdGVyYXRvcnMuDQotCSAqLw0KLQlmb3IgKGkgPSAwOyBpIDwgbnVt
X2ZlbmNlczsgKytpKQ0KLQkJZmVuY2VzW2ldID0gZG1hX2ZlbmNlX3Vud3JhcF9maXJzdChmZW5j
ZXNbaV0sICZpdGVyW2ldKTsNCi0NCiAJY291bnQgPSAwOw0KLQlkbyB7DQotCQl1bnNpZ25lZCBp
bnQgc2VsOw0KLQ0KLXJlc3RhcnQ6DQotCQl0bXAgPSBOVUxMOw0KLQkJZm9yIChpID0gMDsgaSA8
IG51bV9mZW5jZXM7ICsraSkgew0KLQkJCXN0cnVjdCBkbWFfZmVuY2UgKm5leHQ7DQotDQotCQkJ
d2hpbGUgKGZlbmNlc1tpXSAmJiBkbWFfZmVuY2VfaXNfc2lnbmFsZWQoZmVuY2VzW2ldKSkNCi0J
CQkJZmVuY2VzW2ldID0gZG1hX2ZlbmNlX3Vud3JhcF9uZXh0KCZpdGVyW2ldKTsNCi0NCi0JCQlu
ZXh0ID0gZmVuY2VzW2ldOw0KLQkJCWlmICghbmV4dCkNCi0JCQkJY29udGludWU7DQotDQotCQkJ
LyoNCi0JCQkgKiBXZSBjYW4ndCBndWFyYW50ZWUgdGhhdCBpbnB1dGUgZmVuY2VzIGFyZSBvcmRl
cmVkIGJ5DQotCQkJICogY29udGV4dCwgYnV0IGl0IGlzIHN0aWxsIHF1aXRlIGxpa2VseSB3aGVu
IHRoaXMNCi0JCQkgKiBmdW5jdGlvbiBpcyB1c2VkIG11bHRpcGxlIHRpbWVzLiBTbyBhdHRlbXB0
IHRvIG9yZGVyDQotCQkJICogdGhlIGZlbmNlcyBieSBjb250ZXh0IGFzIHdlIHBhc3Mgb3ZlciB0
aGVtIGFuZCBtZXJnZQ0KLQkJCSAqIGZlbmNlcyB3aXRoIHRoZSBzYW1lIGNvbnRleHQuDQotCQkJ
ICovDQotCQkJaWYgKCF0bXAgfHwgdG1wLT5jb250ZXh0ID4gbmV4dC0+Y29udGV4dCkgew0KLQkJ
CQl0bXAgPSBuZXh0Ow0KLQkJCQlzZWwgPSBpOw0KLQ0KLQkJCX0gZWxzZSBpZiAodG1wLT5jb250
ZXh0IDwgbmV4dC0+Y29udGV4dCkgew0KLQkJCQljb250aW51ZTsNCi0NCi0JCQl9IGVsc2UgaWYg
KGRtYV9mZW5jZV9pc19sYXRlcih0bXAsIG5leHQpKSB7DQotCQkJCWZlbmNlc1tpXSA9IGRtYV9m
ZW5jZV91bndyYXBfbmV4dCgmaXRlcltpXSk7DQotCQkJCWdvdG8gcmVzdGFydDsNCisJZm9yIChp
ID0gMDsgaSA8IG51bV9mZW5jZXM7ICsraSkgew0KKwkJZG1hX2ZlbmNlX3Vud3JhcF9mb3JfZWFj
aCh0bXAsICZpdGVyW2ldLCBmZW5jZXNbaV0pIHsNCisJCQlpZiAoIWRtYV9mZW5jZV9pc19zaWdu
YWxlZCh0bXApKSB7DQorCQkJCWFycmF5W2NvdW50KytdID0gZG1hX2ZlbmNlX2dldCh0bXApOw0K
IAkJCX0gZWxzZSB7DQotCQkJCWZlbmNlc1tzZWxdID0gZG1hX2ZlbmNlX3Vud3JhcF9uZXh0KCZp
dGVyW3NlbF0pOw0KLQkJCQlnb3RvIHJlc3RhcnQ7DQorCQkJCWt0aW1lX3QgdCA9IGRtYV9mZW5j
ZV90aW1lc3RhbXAodG1wKTsNCisNCisJCQkJaWYgKGt0aW1lX2FmdGVyKHQsIHRpbWVzdGFtcCkp
DQorCQkJCQl0aW1lc3RhbXAgPSB0Ow0KIAkJCX0NCiAJCX0NCisJfQ0KIA0KLQkJaWYgKHRtcCkg
ew0KLQkJCWFycmF5W2NvdW50KytdID0gZG1hX2ZlbmNlX2dldCh0bXApOw0KLQkJCWZlbmNlc1tz
ZWxdID0gZG1hX2ZlbmNlX3Vud3JhcF9uZXh0KCZpdGVyW3NlbF0pOw0KLQkJfQ0KLQl9IHdoaWxl
ICh0bXApOw0KKwlpZiAoY291bnQgPT0gMCB8fCBjb3VudCA9PSAxKQ0KKwkJZ290byByZXR1cm5f
ZmFzdHBhdGg7DQogDQotCWlmIChjb3VudCA9PSAwKSB7DQotCQl0bXAgPSBkbWFfZmVuY2VfYWxs
b2NhdGVfcHJpdmF0ZV9zdHViKGt0aW1lX2dldCgpKTsNCi0JCWdvdG8gcmV0dXJuX3RtcDsNCi0J
fQ0KKwlzb3J0KGFycmF5LCBjb3VudCwgc2l6ZW9mKCphcnJheSksIGZlbmNlX2NtcCwgTlVMTCk7
DQogDQotCWlmIChjb3VudCA9PSAxKSB7DQotCQl0bXAgPSBhcnJheVswXTsNCi0JCWdvdG8gcmV0
dXJuX3RtcDsNCisJLyoNCisJICogT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBmZW5jZSBmb3Ig
ZWFjaCBjb250ZXh0Lg0KKwkgKi8NCisJaiA9IDA7DQorCWZvciAoaSA9IDE7IGkgPCBjb3VudDsg
aSsrKSB7DQorCQlpZiAoYXJyYXlbaV0tPmNvbnRleHQgPT0gYXJyYXlbal0tPmNvbnRleHQpDQor
CQkJZG1hX2ZlbmNlX3B1dChhcnJheVtpXSk7DQorCQllbHNlDQorCQkJYXJyYXlbKytqXSA9IGFy
cmF5W2ldOw0KIAl9DQorCWNvdW50ID0gKytqOw0KIA0KLQlyZXN1bHQgPSBkbWFfZmVuY2VfYXJy
YXlfY3JlYXRlKGNvdW50LCBhcnJheSwNCi0JCQkJCWRtYV9mZW5jZV9jb250ZXh0X2FsbG9jKDEp
LA0KLQkJCQkJMSwgZmFsc2UpOw0KLQlpZiAoIXJlc3VsdCkgew0KLQkJZm9yIChpID0gMDsgaSA8
IGNvdW50OyBpKyspDQotCQkJZG1hX2ZlbmNlX3B1dChhcnJheVtpXSk7DQotCQl0bXAgPSBOVUxM
Ow0KLQkJZ290byByZXR1cm5fdG1wOw0KKwlpZiAoY291bnQgPiAxKSB7DQorCQlyZXN1bHQgPSBk
bWFfZmVuY2VfYXJyYXlfY3JlYXRlKGNvdW50LCBhcnJheSwNCisJCQkJCQlkbWFfZmVuY2VfY29u
dGV4dF9hbGxvYygxKSwNCisJCQkJCQkxLCBmYWxzZSk7DQorCQlpZiAoIXJlc3VsdCkgew0KKwkJ
CWZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKQ0KKwkJCQlkbWFfZmVuY2VfcHV0KGFycmF5W2ld
KTsNCisJCQl0bXAgPSBOVUxMOw0KKwkJCWdvdG8gcmV0dXJuX3RtcDsNCisJCX0NCisJCXJldHVy
biAmcmVzdWx0LT5iYXNlOw0KIAl9DQotCXJldHVybiAmcmVzdWx0LT5iYXNlOw0KKw0KK3JldHVy
bl9mYXN0cGF0aDoNCisJaWYgKGNvdW50ID09IDApDQorCQl0bXAgPSBkbWFfZmVuY2VfYWxsb2Nh
dGVfcHJpdmF0ZV9zdHViKHRpbWVzdGFtcCk7DQorCWVsc2UNCisJCXRtcCA9IGFycmF5WzBdOw0K
IA0KIHJldHVybl90bXA6DQogCWtmcmVlKGFycmF5KTsNCg0KDQpQYXRjaGVzIGN1cnJlbnRseSBp
biBzdGFibGUtcXVldWUgd2hpY2ggbWlnaHQgYmUgZnJvbSB0dnJ0a28udXJzdWxpbkBpZ2FsaWEu
Y29tIGFyZQ0KDQpxdWV1ZS02LjYvZG1hLWZlbmNlLXVzZS1rZXJuZWwtcy1zb3J0LWZvci1tZXJn
aW5nLWZlbmNlcy5wYXRjaA0KcXVldWUtNi42L2RtYS1idWYtZml4LWRtYV9mZW5jZV9hcnJheV9z
aWduYWxlZC12NC5wYXRjaA0KcXVldWUtNi42L2RtYS1mZW5jZS1maXgtcmVmZXJlbmNlLWxlYWst
b24tZmVuY2UtbWVyZ2UtZmFpbHVyZS1wYXRoLnBhdGNoDQpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpMaW5hcm8tbW0tc2lnIG1haWxpbmcgbGlzdCAtLSBs
aW5hcm8tbW0tc2lnQGxpc3RzLmxpbmFyby5vcmcKVG8gdW5zdWJzY3JpYmUgc2VuZCBhbiBlbWFp
bCB0byBsaW5hcm8tbW0tc2lnLWxlYXZlQGxpc3RzLmxpbmFyby5vcmcK
