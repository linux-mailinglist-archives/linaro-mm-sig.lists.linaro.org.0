Return-Path: <linaro-mm-sig-bounces@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id A4D912D7735
	for <lists+linaro-mm-sig@lfdr.de>; Fri, 11 Dec 2020 14:59:34 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id CB2A06670D
	for <lists+linaro-mm-sig@lfdr.de>; Fri, 11 Dec 2020 13:59:33 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id BC9EA66715; Fri, 11 Dec 2020 13:59:33 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,MAILING_LIST_MULTI,
	RCVD_IN_DNSWL_BLOCKED,RCVD_IN_MSPIKE_H2,SPF_HELO_NONE
	autolearn=disabled version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 08E096670F;
	Fri, 11 Dec 2020 13:58:28 +0000 (UTC)
X-Original-To: linaro-mm-sig@lists.linaro.org
Delivered-To: linaro-mm-sig@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 978746670D
 for <linaro-mm-sig@lists.linaro.org>; Fri, 11 Dec 2020 13:58:11 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 89B9766713; Fri, 11 Dec 2020 13:58:11 +0000 (UTC)
Received: from mail-wr1-f65.google.com (mail-wr1-f65.google.com
 [209.85.221.65])
 by lists.linaro.org (Postfix) with ESMTPS id 287F86670D
 for <linaro-mm-sig@lists.linaro.org>; Fri, 11 Dec 2020 13:57:07 +0000 (UTC)
Received: by mail-wr1-f65.google.com with SMTP id w5so5388230wrm.11
 for <linaro-mm-sig@lists.linaro.org>; Fri, 11 Dec 2020 05:57:07 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:content-transfer-encoding
 :in-reply-to;
 bh=/kA40mSIrLnZ0RgEQ2Dpjs3F6f+M4jjau+UbsX3Ywow=;
 b=pjZpMuerQFiXdESZ0BtaX1ySZf3D0x7gS+hyI8qWKxoMRdZWICl5ZAF+VNuqGZGvJS
 7gwrNuBTzbupf+6nDSB1EbRO2LKeZYpuEFMD2FdH4DlNfpybpptxoIcloQrCfc71kscB
 TsQkkuuzhfvIhXgQZZg4E2Omj78K9dNPpxMI3nvGkWAH+QEbRJXLmBhMJ42nwBni7+np
 PFMf6LF+khpWHohVj5iP75rbmzoTQT68FBLVB4Umx1yRAlNmE9MqIhUC1/RQyluVmK3d
 vqul3gWChXebig69SOnfCOQJiEqPT/1Sq7COJTvl28QMLB2jInTMipj9ucpWIb1P2r9j
 QpNQ==
X-Gm-Message-State: AOAM533137oxHIwrsLD8pOzO8LC5ygDWQKngIF04mHZwkrxxthFRrB+X
 TwAeb3S+5tZkQIL+ERF4/o0NIQ==
X-Google-Smtp-Source: ABdhPJzDlOC0c73ofKS9HsJmwMYeq4QQFi9oMxc4voraOETJBiStS3UUdAbSSnl/S7E+WUYJRiwC+g==
X-Received: by 2002:adf:8b5a:: with SMTP id v26mr6337057wra.138.1607695026266; 
 Fri, 11 Dec 2020 05:57:06 -0800 (PST)
Received: from phenom.ffwll.local ([2a02:168:57f4:0:efd0:b9e5:5ae6:c2fa])
 by smtp.gmail.com with ESMTPSA id h16sm9075486wrq.29.2020.12.11.05.57.04
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Fri, 11 Dec 2020 05:57:05 -0800 (PST)
Date: Fri, 11 Dec 2020 14:57:03 +0100
From: Daniel Vetter <daniel@ffwll.ch>
To: Thomas Zimmermann <tzimmermann@suse.de>
Message-ID: <20201211135703.GR401619@phenom.ffwll.local>
References: <20201209142527.26415-1-tzimmermann@suse.de>
 <20201209142527.26415-3-tzimmermann@suse.de>
 <20201211101833.GQ401619@phenom.ffwll.local>
 <0c628bab-e4e0-170b-e695-abf3cde13c01@suse.de>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <0c628bab-e4e0-170b-e695-abf3cde13c01@suse.de>
X-Operating-System: Linux phenom 5.7.0-1-amd64 
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: eric@anholt.net, airlied@linux.ie, sam@ravnborg.org,
 dri-devel@lists.freedesktop.org, maarten.lankhorst@linux.intel.com,
 mripard@kernel.org, linaro-mm-sig@lists.linaro.org, hdegoede@redhat.com,
 kraxel@redhat.com, Daniel Vetter <daniel@ffwll.ch>,
 virtualization@lists.linux-foundation.org, sean@poorly.run,
 christian.koenig@amd.com, linux-media@vger.kernel.org
Subject: Re: [Linaro-mm-sig] [PATCH v3 2/8] drm/ast: Only map cursor BOs
	during updates
X-BeenThere: linaro-mm-sig@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: "Unified memory management interest group."
 <linaro-mm-sig.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/linaro-mm-sig/>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/linaro-mm-sig>,
 <mailto:linaro-mm-sig-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linaro-mm-sig-bounces@lists.linaro.org
Sender: "Linaro-mm-sig" <linaro-mm-sig-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

T24gRnJpLCBEZWMgMTEsIDIwMjAgYXQgMTE6NDk6NDhBTSArMDEwMCwgVGhvbWFzIFppbW1lcm1h
bm4gd3JvdGU6Cj4gCj4gCj4gQW0gMTEuMTIuMjAgdW0gMTE6MTggc2NocmllYiBEYW5pZWwgVmV0
dGVyOgo+ID4gT24gV2VkLCBEZWMgMDksIDIwMjAgYXQgMDM6MjU6MjFQTSArMDEwMCwgVGhvbWFz
IFppbW1lcm1hbm4gd3JvdGU6Cj4gPiA+IFRoZSBIVyBjdXJzb3IncyBCTyB1c2VkIHRvIGJlIG1h
cHBlZCBwZXJtYW5lbnRseSBpbnRvIHRoZSBrZXJuZWwncwo+ID4gPiBhZGRyZXNzIHNwYWNlLiBH
RU0ncyB2bWFwIG9wZXJhdGlvbiB3aWxsIGJlIHByb3RlY3RlZCBieSBsb2NrcywgYW5kCj4gPiA+
IHdlIGRvbid0IHdhbnQgdG8gbG9jayB0aGUgQk8ncyBmb3IgYW4gaW5kZWZpbmF0ZSBwZXJpb2Qg
b2YgdGltZS4KPiA+ID4gCj4gPiA+IENoYW5nZSB0aGUgY3Vyc29yIGNvZGUgdG8gbWFwIHRoZSBI
VyBCT3Mgb25seSBkdXJpbmcgdXBkYXRlcy4gVGhlCj4gPiA+IHZtYXAgb3BlcmF0aW9uIGluIFZS
QU0gaGVscGVycyBpcyBjaGVhcCwgYXMgYSBvbmNlIGVzdGFiaXNoZWQgbWFwcGluZwo+ID4gPiBp
cyBiZWluZyByZXVzZWQgdW50aWwgdGhlIEJPIGFjdHVhbGx5IG1vdmVzLiBBcyB0aGUgSFcgY3Vy
c29yIEJPcyBhcmUKPiA+ID4gcGVybWFuZW50bHkgcGlubmVkLCB0aGV5IG5ldmVyIG1vdmUgYXQg
YWxsLgo+ID4gPiAKPiA+ID4gdjI6Cj4gPiA+IAkqIGZpeCB0eXBvcyBpbiBjb21taXQgZGVzY3Jp
cHRpb24KPiA+ID4gCj4gPiA+IFNpZ25lZC1vZmYtYnk6IFRob21hcyBaaW1tZXJtYW5uIDx0emlt
bWVybWFubkBzdXNlLmRlPgo+ID4gPiBBY2tlZC1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0
aWFuLmtvZW5pZ0BhbWQuY29tPgo+ID4gCj4gPiBBY2tlZC1ieTogRGFuaWVsIFZldHRlciA8ZGFu
aWVsLnZldHRlckBmZndsbC5jaD4KPiA+IAo+ID4gTm93IHRoZXJlJ3MgYSBwcmV0dHkgYmlnIGlz
c3VlIGhlcmUgdGhvdWdoOiBXZSBjYW4ndCB0YWtlIGRtYV9yZXN2X2xvY2sgaW4KPiA+IGNvbW1p
dF90YWlsLCBiZWNhdXNlIG9mIHBvc3NpYmxlIGRlYWRsb2NrcyBvbiBhdCBsZWFzdCBncHVzIHRo
YXQgZG8gcmVhbAo+ID4gYXN5bmMgcmVuZGVyaW5nIGJlY2F1c2Ugb2YgdGhlIGRtYV9mZW5jZXMu
IFVuZm9ydHVuYXRlbHkgbXkgYW5ub3RhdGlvbnMKPiA+IHBhdGNoZXMgZ290IHN0dWNrIGEgYml0
LCBJIG5lZWQgdG8gcmVmcmVzaCB0aGVtLgo+ID4gCj4gPiBSdWxlcyBhcmUgeW91IGNhbiBwaW4g
YW5kIHVucGluIHN0dWZmIGluIHByZXBhcmUvY2xlYW51cF9wbGFuZSwgYW5kIGFsc28KPiA+IHRh
a2UgZG1hX3Jlc3ZfbG9jayB0aGVyZSwgYnV0IG5vdCBpbiBjb21taXRfdGFpbCBpbi1iZXR3ZWVu
LiBTbyBJIHRoaW5rCj4gPiBvdXIgdm1hcF9sb2NhbCBuZWVkcyB0byBsb29zZSB0aGUgdW5jb25k
aXRpb25hbCBhc3NlcnRfbG9ja2VkIGFuZCByZXF1aXJlCj4gPiBlaXRoZXIgdGhhdCBvciBhIHBp
biBjb3VudC4KPiAKPiBJIGd1ZXNzIG15IGNvbW1pdCBkZXNjcmlwdGlvbiBpcyBtaXNsZWFkaW5n
IHdoZW4gaXQgc3BlYWtzIG9mIHVwZGF0ZXMuCj4gYXN0X2N1cnNvcl9ibGl0KCkgaXMgYWN0dWFs
bHkgY2FsbGVkIGZyb20gdGhlIGN1cnNvciBwbGFuZSdzIHByZXBhcmVfZmIKPiBmdW5jdGlvbi4g
WzFdIFRoZSB2bWFwIGNvZGUgaW4gYXN0X2N1cnNvcl9zaG93KCkgY291bGQgYmUgbW92ZWQgaW50
byBibGl0KCkKPiBhcyB3ZWxsLCBJIHRoaW5rLgoKT2ggSSBmYWlsZWQgdG8gY2hlY2sgdGhpcyBw
cm9wZXJseS4gRXZlbiBiZXR0ZXIuCgo+IEkgZ3Vlc3MgdGhlIGNsZWFuIHNvbHV0aW9uIGlzIHRv
IGludGVncmF0ZSB0aGUgY3Vyc29yIGNvZGUgd2l0aCB0aGUKPiBtb2Rlc2V0dGluZyBjb2RlIGlu
IGFzdF9tb2RlLiBGcm9tIHRoZXJlLCBsb2NrcyBhbmQgbWFwcGluZ3MgY2FuIGJlCj4gZXN0YWJs
aXNoZWQgaW4gcHJlcGFyZV9mYiBhbmQgdGhlIEhXIHN0YXRlIGNhbiBiZSB1cGRhdGVkIGluIGF0
b21pY19jb21taXQuCgpZdXAuIEknbGwgc3RpbGwgcmVmcmVzaCBteSBzZXJpZXMgd2l0aCBsb2Nr
ZGVwIGFubm90YXRpb25zLCBrZWVwcyBwYXJhbm9pZAptZSBhdCBwZWFjZSA6LSkKLURhbmllbAoK
PiAKPiBCZXN0IHJlZ2FyZHMKPiBUaG9tYXMKPiAKPiBbMV0gaHR0cHM6Ly9naXQua2VybmVsLm9y
Zy9wdWIvc2NtL2xpbnV4L2tlcm5lbC9naXQvdG9ydmFsZHMvbGludXguZ2l0L3RyZWUvZHJpdmVy
cy9ncHUvZHJtL2FzdC9hc3RfbW9kZS5jI242NDYKPiAKPiA+IC1EYW5pZWwKPiA+IAo+ID4gPiAt
LS0KPiA+ID4gICBkcml2ZXJzL2dwdS9kcm0vYXN0L2FzdF9jdXJzb3IuYyB8IDUxICsrKysrKysr
KysrKysrKysrKy0tLS0tLS0tLS0tLS0tCj4gPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FzdC9hc3Rf
ZHJ2LmggICAgfCAgMiAtLQo+ID4gPiAgIDIgZmlsZXMgY2hhbmdlZCwgMjggaW5zZXJ0aW9ucygr
KSwgMjUgZGVsZXRpb25zKC0pCj4gPiA+IAo+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FzdC9hc3RfY3Vyc29yLmMgYi9kcml2ZXJzL2dwdS9kcm0vYXN0L2FzdF9jdXJzb3IuYwo+
ID4gPiBpbmRleCA2OGJmM2QzM2YxZWQuLmZhYzFlZTc5YzM3MiAxMDA2NDQKPiA+ID4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FzdC9hc3RfY3Vyc29yLmMKPiA+ID4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FzdC9hc3RfY3Vyc29yLmMKPiA+ID4gQEAgLTM5LDcgKzM5LDYgQEAgc3RhdGljIHZvaWQg
YXN0X2N1cnNvcl9maW5pKHN0cnVjdCBhc3RfcHJpdmF0ZSAqYXN0KQo+ID4gPiAgIAlmb3IgKGkg
PSAwOyBpIDwgQVJSQVlfU0laRShhc3QtPmN1cnNvci5nYm8pOyArK2kpIHsKPiA+ID4gICAJCWdi
byA9IGFzdC0+Y3Vyc29yLmdib1tpXTsKPiA+ID4gLQkJZHJtX2dlbV92cmFtX3Z1bm1hcChnYm8s
ICZhc3QtPmN1cnNvci5tYXBbaV0pOwo+ID4gPiAgIAkJZHJtX2dlbV92cmFtX3VucGluKGdibyk7
Cj4gPiA+ICAgCQlkcm1fZ2VtX3ZyYW1fcHV0KGdibyk7Cj4gPiA+ICAgCX0KPiA+ID4gQEAgLTUz
LDE0ICs1MiwxMyBAQCBzdGF0aWMgdm9pZCBhc3RfY3Vyc29yX3JlbGVhc2Uoc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwgdm9pZCAqcHRyKQo+ID4gPiAgIH0KPiA+ID4gICAvKgo+ID4gPiAtICogQWxs
b2NhdGUgY3Vyc29yIEJPcyBhbmQgcGlucyB0aGVtIGF0IHRoZSBlbmQgb2YgVlJBTS4KPiA+ID4g
KyAqIEFsbG9jYXRlIGN1cnNvciBCT3MgYW5kIHBpbiB0aGVtIGF0IHRoZSBlbmQgb2YgVlJBTS4K
PiA+ID4gICAgKi8KPiA+ID4gICBpbnQgYXN0X2N1cnNvcl9pbml0KHN0cnVjdCBhc3RfcHJpdmF0
ZSAqYXN0KQo+ID4gPiAgIHsKPiA+ID4gICAJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9ICZhc3Qt
PmJhc2U7Cj4gPiA+ICAgCXNpemVfdCBzaXplLCBpOwo+ID4gPiAgIAlzdHJ1Y3QgZHJtX2dlbV92
cmFtX29iamVjdCAqZ2JvOwo+ID4gPiAtCXN0cnVjdCBkbWFfYnVmX21hcCBtYXA7Cj4gPiA+ICAg
CWludCByZXQ7Cj4gPiA+ICAgCXNpemUgPSByb3VuZHVwKEFTVF9IV0NfU0laRSArIEFTVF9IV0Nf
U0lHTkFUVVJFX1NJWkUsIFBBR0VfU0laRSk7Cj4gPiA+IEBAIC03NywxNSArNzUsNyBAQCBpbnQg
YXN0X2N1cnNvcl9pbml0KHN0cnVjdCBhc3RfcHJpdmF0ZSAqYXN0KQo+ID4gPiAgIAkJCWRybV9n
ZW1fdnJhbV9wdXQoZ2JvKTsKPiA+ID4gICAJCQlnb3RvIGVycl9kcm1fZ2VtX3ZyYW1fcHV0Owo+
ID4gPiAgIAkJfQo+ID4gPiAtCQlyZXQgPSBkcm1fZ2VtX3ZyYW1fdm1hcChnYm8sICZtYXApOwo+
ID4gPiAtCQlpZiAocmV0KSB7Cj4gPiA+IC0JCQlkcm1fZ2VtX3ZyYW1fdW5waW4oZ2JvKTsKPiA+
ID4gLQkJCWRybV9nZW1fdnJhbV9wdXQoZ2JvKTsKPiA+ID4gLQkJCWdvdG8gZXJyX2RybV9nZW1f
dnJhbV9wdXQ7Cj4gPiA+IC0JCX0KPiA+ID4gLQo+ID4gPiAgIAkJYXN0LT5jdXJzb3IuZ2JvW2ld
ID0gZ2JvOwo+ID4gPiAtCQlhc3QtPmN1cnNvci5tYXBbaV0gPSBtYXA7Cj4gPiA+ICAgCX0KPiA+
ID4gICAJcmV0dXJuIGRybW1fYWRkX2FjdGlvbl9vcl9yZXNldChkZXYsIGFzdF9jdXJzb3JfcmVs
ZWFzZSwgTlVMTCk7Cj4gPiA+IEBAIC05NCw3ICs4NCw2IEBAIGludCBhc3RfY3Vyc29yX2luaXQo
c3RydWN0IGFzdF9wcml2YXRlICphc3QpCj4gPiA+ICAgCXdoaWxlIChpKSB7Cj4gPiA+ICAgCQkt
LWk7Cj4gPiA+ICAgCQlnYm8gPSBhc3QtPmN1cnNvci5nYm9baV07Cj4gPiA+IC0JCWRybV9nZW1f
dnJhbV92dW5tYXAoZ2JvLCAmYXN0LT5jdXJzb3IubWFwW2ldKTsKPiA+ID4gICAJCWRybV9nZW1f
dnJhbV91bnBpbihnYm8pOwo+ID4gPiAgIAkJZHJtX2dlbV92cmFtX3B1dChnYm8pOwo+ID4gPiAg
IAl9Cj4gPiA+IEBAIC0xNjgsMzEgKzE1NywzOCBAQCBzdGF0aWMgdm9pZCB1cGRhdGVfY3Vyc29y
X2ltYWdlKHU4IF9faW9tZW0gKmRzdCwgY29uc3QgdTggKnNyYywgaW50IHdpZHRoLCBpbnQgaAo+
ID4gPiAgIGludCBhc3RfY3Vyc29yX2JsaXQoc3RydWN0IGFzdF9wcml2YXRlICphc3QsIHN0cnVj
dCBkcm1fZnJhbWVidWZmZXIgKmZiKQo+ID4gPiAgIHsKPiA+ID4gICAJc3RydWN0IGRybV9kZXZp
Y2UgKmRldiA9ICZhc3QtPmJhc2U7Cj4gPiA+IC0Jc3RydWN0IGRybV9nZW1fdnJhbV9vYmplY3Qg
KmdibzsKPiA+ID4gLQlzdHJ1Y3QgZG1hX2J1Zl9tYXAgbWFwOwo+ID4gPiAtCWludCByZXQ7Cj4g
PiA+IC0Jdm9pZCAqc3JjOwo+ID4gPiArCXN0cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpkc3Rf
Z2JvID0gYXN0LT5jdXJzb3IuZ2JvW2FzdC0+Y3Vyc29yLm5leHRfaW5kZXhdOwo+ID4gPiArCXN0
cnVjdCBkcm1fZ2VtX3ZyYW1fb2JqZWN0ICpzcmNfZ2JvID0gZHJtX2dlbV92cmFtX29mX2dlbShm
Yi0+b2JqWzBdKTsKPiA+ID4gKwlzdHJ1Y3QgZG1hX2J1Zl9tYXAgc3JjX21hcCwgZHN0X21hcDsK
PiA+ID4gICAJdm9pZCBfX2lvbWVtICpkc3Q7Cj4gPiA+ICsJdm9pZCAqc3JjOwo+ID4gPiArCWlu
dCByZXQ7Cj4gPiA+ICAgCWlmIChkcm1fV0FSTl9PTl9PTkNFKGRldiwgZmItPndpZHRoID4gQVNU
X01BWF9IV0NfV0lEVEgpIHx8Cj4gPiA+ICAgCSAgICBkcm1fV0FSTl9PTl9PTkNFKGRldiwgZmIt
PmhlaWdodCA+IEFTVF9NQVhfSFdDX0hFSUdIVCkpCj4gPiA+ICAgCQlyZXR1cm4gLUVJTlZBTDsK
PiA+ID4gLQlnYm8gPSBkcm1fZ2VtX3ZyYW1fb2ZfZ2VtKGZiLT5vYmpbMF0pOwo+ID4gPiAtCj4g
PiA+IC0JcmV0ID0gZHJtX2dlbV92cmFtX3ZtYXAoZ2JvLCAmbWFwKTsKPiA+ID4gKwlyZXQgPSBk
cm1fZ2VtX3ZyYW1fdm1hcChzcmNfZ2JvLCAmc3JjX21hcCk7Cj4gPiA+ICAgCWlmIChyZXQpCj4g
PiA+ICAgCQlyZXR1cm4gcmV0Owo+ID4gPiAtCXNyYyA9IG1hcC52YWRkcjsgLyogVE9ETzogVXNl
IG1hcHBpbmcgYWJzdHJhY3Rpb24gcHJvcGVybHkgKi8KPiA+ID4gKwlzcmMgPSBzcmNfbWFwLnZh
ZGRyOyAvKiBUT0RPOiBVc2UgbWFwcGluZyBhYnN0cmFjdGlvbiBwcm9wZXJseSAqLwo+ID4gPiAt
CWRzdCA9IGFzdC0+Y3Vyc29yLm1hcFthc3QtPmN1cnNvci5uZXh0X2luZGV4XS52YWRkcl9pb21l
bTsKPiA+ID4gKwlyZXQgPSBkcm1fZ2VtX3ZyYW1fdm1hcChkc3RfZ2JvLCAmZHN0X21hcCk7Cj4g
PiA+ICsJaWYgKHJldCkKPiA+ID4gKwkJZ290byBlcnJfZHJtX2dlbV92cmFtX3Z1bm1hcDsKPiA+
ID4gKwlkc3QgPSBkc3RfbWFwLnZhZGRyX2lvbWVtOyAvKiBUT0RPOiBVc2UgbWFwcGluZyBhYnN0
cmFjdGlvbiBwcm9wZXJseSAqLwo+ID4gPiAgIAkvKiBkbyBkYXRhIHRyYW5zZmVyIHRvIGN1cnNv
ciBCTyAqLwo+ID4gPiAgIAl1cGRhdGVfY3Vyc29yX2ltYWdlKGRzdCwgc3JjLCBmYi0+d2lkdGgs
IGZiLT5oZWlnaHQpOwo+ID4gPiAtCWRybV9nZW1fdnJhbV92dW5tYXAoZ2JvLCAmbWFwKTsKPiA+
ID4gKwlkcm1fZ2VtX3ZyYW1fdnVubWFwKGRzdF9nYm8sICZkc3RfbWFwKTsKPiA+ID4gKwlkcm1f
Z2VtX3ZyYW1fdnVubWFwKHNyY19nYm8sICZzcmNfbWFwKTsKPiA+ID4gICAJcmV0dXJuIDA7Cj4g
PiA+ICsKPiA+ID4gK2Vycl9kcm1fZ2VtX3ZyYW1fdnVubWFwOgo+ID4gPiArCWRybV9nZW1fdnJh
bV92dW5tYXAoc3JjX2dibywgJnNyY19tYXApOwo+ID4gPiArCXJldHVybiByZXQ7Cj4gPiA+ICAg
fQo+ID4gPiAgIHN0YXRpYyB2b2lkIGFzdF9jdXJzb3Jfc2V0X2Jhc2Uoc3RydWN0IGFzdF9wcml2
YXRlICphc3QsIHU2NCBhZGRyZXNzKQo+ID4gPiBAQCAtMjQzLDE3ICsyMzksMjYgQEAgc3RhdGlj
IHZvaWQgYXN0X2N1cnNvcl9zZXRfbG9jYXRpb24oc3RydWN0IGFzdF9wcml2YXRlICphc3QsIHUx
NiB4LCB1MTYgeSwKPiA+ID4gICB2b2lkIGFzdF9jdXJzb3Jfc2hvdyhzdHJ1Y3QgYXN0X3ByaXZh
dGUgKmFzdCwgaW50IHgsIGludCB5LAo+ID4gPiAgIAkJICAgICB1bnNpZ25lZCBpbnQgb2Zmc2V0
X3gsIHVuc2lnbmVkIGludCBvZmZzZXRfeSkKPiA+ID4gICB7Cj4gPiA+ICsJc3RydWN0IGRybV9k
ZXZpY2UgKmRldiA9ICZhc3QtPmJhc2U7Cj4gPiA+ICsJc3RydWN0IGRybV9nZW1fdnJhbV9vYmpl
Y3QgKmdibyA9IGFzdC0+Y3Vyc29yLmdib1thc3QtPmN1cnNvci5uZXh0X2luZGV4XTsKPiA+ID4g
KwlzdHJ1Y3QgZG1hX2J1Zl9tYXAgbWFwOwo+ID4gPiAgIAl1OCB4X29mZnNldCwgeV9vZmZzZXQ7
Cj4gPiA+ICAgCXU4IF9faW9tZW0gKmRzdDsKPiA+ID4gICAJdTggX19pb21lbSAqc2lnOwo+ID4g
PiAgIAl1OCBqcmVnOwo+ID4gPiArCWludCByZXQ7Cj4gPiA+IC0JZHN0ID0gYXN0LT5jdXJzb3Iu
bWFwW2FzdC0+Y3Vyc29yLm5leHRfaW5kZXhdLnZhZGRyOwo+ID4gPiArCXJldCA9IGRybV9nZW1f
dnJhbV92bWFwKGdibywgJm1hcCk7Cj4gPiA+ICsJaWYgKGRybV9XQVJOX09OQ0UoZGV2LCByZXQs
ICJkcm1fZ2VtX3ZyYW1fdm1hcCgpIGZhaWxlZCwgcmV0PSVkXG4iLCByZXQpKQo+ID4gPiArCQly
ZXR1cm47Cj4gPiA+ICsJZHN0ID0gbWFwLnZhZGRyX2lvbWVtOyAvKiBUT0RPOiBVc2UgbWFwcGlu
ZyBhYnN0cmFjdGlvbiBwcm9wZXJseSAqLwo+ID4gPiAgIAlzaWcgPSBkc3QgKyBBU1RfSFdDX1NJ
WkU7Cj4gPiA+ICAgCXdyaXRlbCh4LCBzaWcgKyBBU1RfSFdDX1NJR05BVFVSRV9YKTsKPiA+ID4g
ICAJd3JpdGVsKHksIHNpZyArIEFTVF9IV0NfU0lHTkFUVVJFX1kpOwo+ID4gPiArCWRybV9nZW1f
dnJhbV92dW5tYXAoZ2JvLCAmbWFwKTsKPiA+ID4gKwo+ID4gPiAgIAlpZiAoeCA8IDApIHsKPiA+
ID4gICAJCXhfb2Zmc2V0ID0gKC14KSArIG9mZnNldF94Owo+ID4gPiAgIAkJeCA9IDA7Cj4gPiA+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYXN0L2FzdF9kcnYuaCBiL2RyaXZlcnMvZ3B1
L2RybS9hc3QvYXN0X2Rydi5oCj4gPiA+IGluZGV4IGNjYWZmODE5MjRlZS4uZjg3MWZjMzZjMmY3
IDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYXN0L2FzdF9kcnYuaAo+ID4gPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYXN0L2FzdF9kcnYuaAo+ID4gPiBAQCAtMjgsNyArMjgsNiBA
QAo+ID4gPiAgICNpZm5kZWYgX19BU1RfRFJWX0hfXwo+ID4gPiAgICNkZWZpbmUgX19BU1RfRFJW
X0hfXwo+ID4gPiAtI2luY2x1ZGUgPGxpbnV4L2RtYS1idWYtbWFwLmg+Cj4gPiA+ICAgI2luY2x1
ZGUgPGxpbnV4L2kyYy5oPgo+ID4gPiAgICNpbmNsdWRlIDxsaW51eC9pMmMtYWxnby1iaXQuaD4K
PiA+ID4gICAjaW5jbHVkZSA8bGludXgvaW8uaD4KPiA+ID4gQEAgLTEzMyw3ICsxMzIsNiBAQCBz
dHJ1Y3QgYXN0X3ByaXZhdGUgewo+ID4gPiAgIAlzdHJ1Y3Qgewo+ID4gPiAgIAkJc3RydWN0IGRy
bV9nZW1fdnJhbV9vYmplY3QgKmdib1tBU1RfREVGQVVMVF9IV0NfTlVNXTsKPiA+ID4gLQkJc3Ry
dWN0IGRtYV9idWZfbWFwIG1hcFtBU1RfREVGQVVMVF9IV0NfTlVNXTsKPiA+ID4gICAJCXVuc2ln
bmVkIGludCBuZXh0X2luZGV4Owo+ID4gPiAgIAl9IGN1cnNvcjsKPiA+ID4gLS0gCj4gPiA+IDIu
MjkuMgo+ID4gPiAKPiA+IAo+IAo+IC0tIAo+IFRob21hcyBaaW1tZXJtYW5uCj4gR3JhcGhpY3Mg
RHJpdmVyIERldmVsb3Blcgo+IFNVU0UgU29mdHdhcmUgU29sdXRpb25zIEdlcm1hbnkgR21iSAo+
IE1heGZlbGRzdHIuIDUsIDkwNDA5IE7DvHJuYmVyZywgR2VybWFueQo+IChIUkIgMzY4MDksIEFH
IE7DvHJuYmVyZykKPiBHZXNjaMOkZnRzZsO8aHJlcjogRmVsaXggSW1lbmTDtnJmZmVyCj4gCgoK
CgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24K
aHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KTGluYXJvLW1tLXNpZyBtYWlsaW5nIGxpc3QKTGluYXJvLW1tLXNpZ0BsaXN0
cy5saW5hcm8ub3JnCmh0dHBzOi8vbGlzdHMubGluYXJvLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2xp
bmFyby1tbS1zaWcK
