Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id 4AAE6AC1737
	for <lists+linaro-mm-sig@lfdr.de>; Fri, 23 May 2025 01:05:53 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 69DC3446C8
	for <lists+linaro-mm-sig@lfdr.de>; Thu, 22 May 2025 23:05:52 +0000 (UTC)
Received: from mail-pj1-f74.google.com (mail-pj1-f74.google.com [209.85.216.74])
	by lists.linaro.org (Postfix) with ESMTPS id A8A4A44245
	for <linaro-mm-sig@lists.linaro.org>; Thu, 22 May 2025 23:04:46 +0000 (UTC)
Authentication-Results: lists.linaro.org;
	dkim=pass header.d=google.com header.s=20230601 header.b=SFGMkxGx;
	spf=pass (lists.linaro.org: domain of 3ja0vaAkKDe4jZcUhSYUhWeeWbU.SecbYdQhe-cc-iYWbYiji.bYdQhe.ehW@flex--tjmercier.bounces.google.com designates 209.85.216.74 as permitted sender) smtp.mailfrom=3ja0vaAkKDe4jZcUhSYUhWeeWbU.SecbYdQhe-cc-iYWbYiji.bYdQhe.ehW@flex--tjmercier.bounces.google.com;
	dmarc=pass (policy=reject) header.from=google.com
Received: by mail-pj1-f74.google.com with SMTP id 98e67ed59e1d1-30ebd48a3c7so5641748a91.1
        for <linaro-mm-sig@lists.linaro.org>; Thu, 22 May 2025 16:04:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20230601; t=1747955086; x=1748559886; darn=lists.linaro.org;
        h=content-transfer-encoding:cc:to:from:subject:message-id:references
         :mime-version:in-reply-to:date:from:to:cc:subject:date:message-id
         :reply-to;
        bh=0IbPgqyIKkPyz8iyW5Xf7yTEYr1WSE1NWdF6MzBIozo=;
        b=SFGMkxGxiTxgCMEJThE0yrojIdk0dhRosfXRHXdre3yZgUr3qrKjxPaWW5P1A15KEm
         dSlC0JErWafvUKBCQ0TRRocgCSSkgbivAowyU/wfxzyHAK+pYKohtJ7YrbuFqho0chIZ
         yRModLMd1PAwpquGUFLpMqvn3uxFNFPoh99LheZUN+MZZzB/7mKjxC19sVdO9KRpYTSw
         GqQpUkEdoCblWd181rtfU+LdohKRPDLPpIv54XmHFU4+d5bE9L+tJyI4Jc2h7wvPYHaY
         YJI++4/SxutsWgS/4Fd0tljf610SG3eqU2MWXPYO1b80/cnHucQyD0vyttXFtT5d0pXX
         gHXQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1747955086; x=1748559886;
        h=content-transfer-encoding:cc:to:from:subject:message-id:references
         :mime-version:in-reply-to:date:x-gm-message-state:from:to:cc:subject
         :date:message-id:reply-to;
        bh=0IbPgqyIKkPyz8iyW5Xf7yTEYr1WSE1NWdF6MzBIozo=;
        b=aesFWMV2MhZn4K1hIhozTgiUYS8mIIvthdNaPFWk3KG7N03w+h2sU0TWZcZKGg61Kg
         zXu1+DzyuOwtb3q5MoVwUovTWiErMxAU1Ifsn7YEA2kSzcmWdo34UYdi/0gzQ+8OOTHN
         WJMkPe2OuHD66uq2YA3pLB+iocpKCtxrlSU08Q7gcju6sBznJMhPWyFGuWridPx2krzh
         xSWdQ0hdDi80wvfrxLW3YKQzAQX/cbzT2jsALZ5Zwy1vQeHuGJbcJfnmN0ixeiMjgwXq
         lO4IHKJDdEoC+RV9fy0sFT2sudEhT0yD/m2ql5FVZYL3yoLZXtxgFCix/Xz/tEsjcyyg
         sMWw==
X-Forwarded-Encrypted: i=1; AJvYcCX/BHRtDXVkLxvLj/3JEktMtC807aClh0O3Ul5Yu08jKTlQQJZQiOnXnoKTgYf4bK4eAYN+IRrnlZUabok2@lists.linaro.org
X-Gm-Message-State: AOJu0YxDH3wsevyGQ7Ou4JYY7nfsKlNast0wlyusXoPd1zz41G0EbDQ4
	qgdUOjWSy5jE2D0GvJQi3iXGj7DgOi7JAQYqc+pUcc6RsmuN+rVWx+14HMKvv7q1dn+rrTr1kVu
	7EsuWh46L3M5Gp5A33A==
X-Google-Smtp-Source: AGHT+IGBbkcmAxIKetdsAsLuSwZuoYiYYChXp69PreWM063tL20B86lUtH6JAK6TnQPVzUNqlsIoqwpnOz7FBI0=
X-Received: from pjbsd11.prod.google.com ([2002:a17:90b:514b:b0:30a:2095:204b])
 (user=tjmercier job=prod-delivery.src-stubby-dispatcher) by
 2002:a17:90b:1a88:b0:310:99bd:3ba8 with SMTP id 98e67ed59e1d1-310e97403cemr1454737a91.33.1747955085829;
 Thu, 22 May 2025 16:04:45 -0700 (PDT)
Date: Thu, 22 May 2025 23:04:28 +0000
In-Reply-To: <20250522230429.941193-1-tjmercier@google.com>
Mime-Version: 1.0
References: <20250522230429.941193-1-tjmercier@google.com>
X-Mailer: git-send-email 2.49.0.1151.ga128411c76-goog
Message-ID: <20250522230429.941193-5-tjmercier@google.com>
From: "T.J. Mercier" <tjmercier@google.com>
To: sumit.semwal@linaro.org, christian.koenig@amd.com, ast@kernel.org,
	daniel@iogearbox.net, andrii@kernel.org, martin.lau@linux.dev,
	skhan@linuxfoundation.org, alexei.starovoitov@gmail.com
X-Rspamd-Action: no action
X-Rspamd-Server: lists.linaro.org
X-Spamd-Result: default: False [-4.80 / 15.00];
	REPLY(-4.00)[];
	BAYES_HAM(-3.00)[100.00%];
	SUSPICIOUS_RECIPS(1.50)[];
	MID_CONTAINS_FROM(1.00)[];
	MV_CASE(0.50)[];
	DMARC_POLICY_ALLOW(-0.50)[google.com,reject];
	FORGED_SENDER(0.30)[tjmercier@google.com,3ja0vaAkKDe4jZcUhSYUhWeeWbU.SecbYdQhe-cc-iYWbYiji.bYdQhe.ehW@flex--tjmercier.bounces.google.com];
	R_DKIM_ALLOW(-0.20)[google.com:s=20230601];
	R_SPF_ALLOW(-0.20)[+ip4:209.85.128.0/17:c];
	RWL_MAILSPIKE_GOOD(-0.10)[209.85.216.74:from];
	MIME_GOOD(-0.10)[text/plain];
	RCPT_COUNT_TWELVE(0.00)[26];
	RCVD_TLS_LAST(0.00)[];
	MIME_TRACE(0.00)[0:+];
	ARC_NA(0.00)[];
	FREEMAIL_TO(0.00)[linaro.org,amd.com,kernel.org,iogearbox.net,linux.dev,linuxfoundation.org,gmail.com];
	FROM_HAS_DN(0.00)[];
	FREEMAIL_CC(0.00)[vger.kernel.org,lists.freedesktop.org,lists.linaro.org,google.com,ffwll.ch,gmail.com,linux.dev,kernel.org,fomichev.me,fb.com];
	DKIM_TRACE(0.00)[google.com:+];
	PREVIOUSLY_DELIVERED(0.00)[linaro-mm-sig@lists.linaro.org];
	TO_MATCH_ENVRCPT_SOME(0.00)[];
	FROM_NEQ_ENVFROM(0.00)[tjmercier@google.com,3ja0vaAkKDe4jZcUhSYUhWeeWbU.SecbYdQhe-cc-iYWbYiji.bYdQhe.ehW@flex--tjmercier.bounces.google.com];
	TO_DN_SOME(0.00)[];
	NEURAL_HAM(-0.00)[-1.000];
	ASN(0.00)[asn:15169, ipnet:209.85.128.0/17, country:US];
	TAGGED_RCPT(0.00)[];
	RCVD_COUNT_ONE(0.00)[1];
	RCVD_IN_DNSWL_NONE(0.00)[209.85.216.74:from]
X-Rspamd-Queue-Id: A8A4A44245
X-Spamd-Bar: ----
Message-ID-Hash: HFGEIQ6VYSAFTCATU2B67OV4D4RX2AU4
X-Message-ID-Hash: HFGEIQ6VYSAFTCATU2B67OV4D4RX2AU4
X-MailFrom: 3ja0vaAkKDe4jZcUhSYUhWeeWbU.SecbYdQhe-cc-iYWbYiji.bYdQhe.ehW@flex--tjmercier.bounces.google.com
X-Mailman-Rule-Hits: nonmember-moderation
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation
CC: linux-kernel@vger.kernel.org, linux-media@vger.kernel.org, dri-devel@lists.freedesktop.org, linaro-mm-sig@lists.linaro.org, bpf@vger.kernel.org, linux-kselftest@vger.kernel.org, android-mm@google.com, simona@ffwll.ch, eddyz87@gmail.com, yonghong.song@linux.dev, john.fastabend@gmail.com, kpsingh@kernel.org, sdf@fomichev.me, jolsa@kernel.org, mykolal@fb.com, shuah@kernel.org, song@kernel.org, "T.J. Mercier" <tjmercier@google.com>
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] [PATCH bpf-next v7 4/5] selftests/bpf: Add test for dmabuf_iter
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/HFGEIQ6VYSAFTCATU2B67OV4D4RX2AU4/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

VGhpcyB0ZXN0IGNyZWF0ZXMgYSB1ZG1hYnVmLCBhbmQgYSBkbWFidWYgZnJvbSB0aGUgc3lzdGVt
IGRtYWJ1ZiBoZWFwLA0KYW5kIHVzZXMgYSBCUEYgcHJvZ3JhbSB0aGF0IHByaW50cyBkbWFidWYg
bWV0YWRhdGEgd2l0aCB0aGUgbmV3DQpkbWFidWZfaXRlciB0byB2ZXJpZnkgdGhleSBjYW4gYmUg
Zm91bmQuDQoNClNpZ25lZC1vZmYtYnk6IFQuSi4gTWVyY2llciA8dGptZXJjaWVyQGdvb2dsZS5j
b20+DQpBY2tlZC1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29t
Pg0KQWNrZWQtYnk6IFNvbmcgTGl1IDxzb25nQGtlcm5lbC5vcmc+DQotLS0NCiB0b29scy90ZXN0
aW5nL3NlbGZ0ZXN0cy9icGYvY29uZmlnICAgICAgICAgICAgfCAgIDMgKw0KIC4uLi9zZWxmdGVz
dHMvYnBmL3Byb2dfdGVzdHMvZG1hYnVmX2l0ZXIuYyAgICB8IDI0NCArKysrKysrKysrKysrKysr
KysNCiAuLi4vdGVzdGluZy9zZWxmdGVzdHMvYnBmL3Byb2dzL2RtYWJ1Zl9pdGVyLmMgfCAgNTMg
KysrKw0KIDMgZmlsZXMgY2hhbmdlZCwgMzAwIGluc2VydGlvbnMoKykNCiBjcmVhdGUgbW9kZSAx
MDA2NDQgdG9vbHMvdGVzdGluZy9zZWxmdGVzdHMvYnBmL3Byb2dfdGVzdHMvZG1hYnVmX2l0ZXIu
Yw0KIGNyZWF0ZSBtb2RlIDEwMDY0NCB0b29scy90ZXN0aW5nL3NlbGZ0ZXN0cy9icGYvcHJvZ3Mv
ZG1hYnVmX2l0ZXIuYw0KDQpkaWZmIC0tZ2l0IGEvdG9vbHMvdGVzdGluZy9zZWxmdGVzdHMvYnBm
L2NvbmZpZyBiL3Rvb2xzL3Rlc3Rpbmcvc2VsZnRlc3RzL2JwZi9jb25maWcNCmluZGV4IGMzNzhk
NWQwN2UwMi4uMmJkZmYyZjMyODVmIDEwMDY0NA0KLS0tIGEvdG9vbHMvdGVzdGluZy9zZWxmdGVz
dHMvYnBmL2NvbmZpZw0KKysrIGIvdG9vbHMvdGVzdGluZy9zZWxmdGVzdHMvYnBmL2NvbmZpZw0K
QEAgLTIyLDYgKzIyLDggQEAgQ09ORklHX0NSWVBUT19BRVM9eQ0KIENPTkZJR19ERUJVR19JTkZP
PXkNCiBDT05GSUdfREVCVUdfSU5GT19CVEY9eQ0KIENPTkZJR19ERUJVR19JTkZPX0RXQVJGND15
DQorQ09ORklHX0RNQUJVRl9IRUFQUz15DQorQ09ORklHX0RNQUJVRl9IRUFQU19TWVNURU09eQ0K
IENPTkZJR19EVU1NWT15DQogQ09ORklHX0RZTkFNSUNfRlRSQUNFPXkNCiBDT05GSUdfRlBST0JF
PXkNCkBAIC0xMDYsNiArMTA4LDcgQEAgQ09ORklHX1NFQ1VSSVRZPXkNCiBDT05GSUdfU0VDVVJJ
VFlGUz15DQogQ09ORklHX1NZTl9DT09LSUVTPXkNCiBDT05GSUdfVEVTVF9CUEY9bQ0KK0NPTkZJ
R19VRE1BQlVGPXkNCiBDT05GSUdfVVNFUkZBVUxURkQ9eQ0KIENPTkZJR19WU09DS0VUUz15DQog
Q09ORklHX1ZYTEFOPXkNCmRpZmYgLS1naXQgYS90b29scy90ZXN0aW5nL3NlbGZ0ZXN0cy9icGYv
cHJvZ190ZXN0cy9kbWFidWZfaXRlci5jIGIvdG9vbHMvdGVzdGluZy9zZWxmdGVzdHMvYnBmL3By
b2dfdGVzdHMvZG1hYnVmX2l0ZXIuYw0KbmV3IGZpbGUgbW9kZSAxMDA2NDQNCmluZGV4IDAwMDAw
MDAwMDAwMC4uZGM3NDBiZDBlMmJkDQotLS0gL2Rldi9udWxsDQorKysgYi90b29scy90ZXN0aW5n
L3NlbGZ0ZXN0cy9icGYvcHJvZ190ZXN0cy9kbWFidWZfaXRlci5jDQpAQCAtMCwwICsxLDI0NCBA
QA0KKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wDQorLyogQ29weXJpZ2h0IChj
KSAyMDI1IEdvb2dsZSAqLw0KKw0KKyNpbmNsdWRlIDx0ZXN0X3Byb2dzLmg+DQorI2luY2x1ZGUg
PGJwZi9saWJicGYuaD4NCisjaW5jbHVkZSA8YnBmL2J0Zi5oPg0KKyNpbmNsdWRlICJkbWFidWZf
aXRlci5za2VsLmgiDQorDQorI2luY2x1ZGUgPGZjbnRsLmg+DQorI2luY2x1ZGUgPHN0ZGJvb2wu
aD4NCisjaW5jbHVkZSA8c3RkaW8uaD4NCisjaW5jbHVkZSA8c3RkbGliLmg+DQorI2luY2x1ZGUg
PHN0cmluZy5oPg0KKyNpbmNsdWRlIDxzeXMvaW9jdGwuaD4NCisjaW5jbHVkZSA8c3lzL21tYW4u
aD4NCisjaW5jbHVkZSA8dW5pc3RkLmg+DQorDQorI2luY2x1ZGUgPGxpbnV4L2RtYS1idWYuaD4N
CisjaW5jbHVkZSA8bGludXgvZG1hLWhlYXAuaD4NCisjaW5jbHVkZSA8bGludXgvdWRtYWJ1Zi5o
Pg0KKw0KK3N0YXRpYyBpbnQgdWRtYWJ1ZiA9IC0xOw0KK3N0YXRpYyBjb25zdCBjaGFyIHVkbWFi
dWZfdGVzdF9idWZmZXJfbmFtZVtETUFfQlVGX05BTUVfTEVOXSA9ICJ1ZG1hYnVmX3Rlc3RfYnVm
ZmVyX2Zvcl9pdGVyIjsNCitzdGF0aWMgc2l6ZV90IHVkbWFidWZfdGVzdF9idWZmZXJfc2l6ZTsN
CitzdGF0aWMgaW50IHN5c2hlYXBfZG1hYnVmID0gLTE7DQorc3RhdGljIGNvbnN0IGNoYXIgc3lz
aGVhcF90ZXN0X2J1ZmZlcl9uYW1lW0RNQV9CVUZfTkFNRV9MRU5dID0gInN5c2hlYXBfdGVzdF9i
dWZmZXJfZm9yX2l0ZXIiOw0KK3N0YXRpYyBzaXplX3Qgc3lzaGVhcF90ZXN0X2J1ZmZlcl9zaXpl
Ow0KKw0KK3N0YXRpYyBpbnQgY3JlYXRlX3VkbWFidWYodm9pZCkNCit7DQorCXN0cnVjdCB1ZG1h
YnVmX2NyZWF0ZSBjcmVhdGU7DQorCWludCBkZXZfdWRtYWJ1ZiwgbWVtZmQsIGxvY2FsX3VkbWFi
dWY7DQorDQorCXVkbWFidWZfdGVzdF9idWZmZXJfc2l6ZSA9IDEwICogZ2V0cGFnZXNpemUoKTsN
CisNCisJaWYgKCFBU1NFUlRfTEUoc2l6ZW9mKHVkbWFidWZfdGVzdF9idWZmZXJfbmFtZSksIERN
QV9CVUZfTkFNRV9MRU4sICJOQU1FVE9PTE9ORyIpKQ0KKwkJcmV0dXJuIC0xOw0KKw0KKwltZW1m
ZCA9IG1lbWZkX2NyZWF0ZSgibWVtZmRfdGVzdCIsIE1GRF9BTExPV19TRUFMSU5HKTsNCisJaWYg
KCFBU1NFUlRfT0tfRkQobWVtZmQsICJtZW1mZF9jcmVhdGUiKSkNCisJCXJldHVybiAtMTsNCisN
CisJaWYgKCFBU1NFUlRfT0soZnRydW5jYXRlKG1lbWZkLCB1ZG1hYnVmX3Rlc3RfYnVmZmVyX3Np
emUpLCAiZnRydW5jYXRlIikpDQorCQlnb3RvIGNsb3NlX21lbWZkOw0KKw0KKwlpZiAoIUFTU0VS
VF9PSyhmY250bChtZW1mZCwgRl9BRERfU0VBTFMsIEZfU0VBTF9TSFJJTkspLCAic2VhbCIpKQ0K
KwkJZ290byBjbG9zZV9tZW1mZDsNCisNCisJZGV2X3VkbWFidWYgPSBvcGVuKCIvZGV2L3VkbWFi
dWYiLCBPX1JET05MWSk7DQorCWlmICghQVNTRVJUX09LX0ZEKGRldl91ZG1hYnVmLCAib3BlbiB1
ZG1hYnVmIikpDQorCQlnb3RvIGNsb3NlX21lbWZkOw0KKw0KKwltZW1zZXQoJmNyZWF0ZSwgMCwg
c2l6ZW9mKGNyZWF0ZSkpOw0KKwljcmVhdGUubWVtZmQgPSBtZW1mZDsNCisJY3JlYXRlLmZsYWdz
ID0gVURNQUJVRl9GTEFHU19DTE9FWEVDOw0KKwljcmVhdGUub2Zmc2V0ID0gMDsNCisJY3JlYXRl
LnNpemUgPSB1ZG1hYnVmX3Rlc3RfYnVmZmVyX3NpemU7DQorDQorCWxvY2FsX3VkbWFidWYgPSBp
b2N0bChkZXZfdWRtYWJ1ZiwgVURNQUJVRl9DUkVBVEUsICZjcmVhdGUpOw0KKwljbG9zZShkZXZf
dWRtYWJ1Zik7DQorCWlmICghQVNTRVJUX09LX0ZEKGxvY2FsX3VkbWFidWYsICJ1ZG1hYnVmX2Ny
ZWF0ZSIpKQ0KKwkJZ290byBjbG9zZV9tZW1mZDsNCisNCisJaWYgKCFBU1NFUlRfT0soaW9jdGwo
bG9jYWxfdWRtYWJ1ZiwgRE1BX0JVRl9TRVRfTkFNRV9CLCB1ZG1hYnVmX3Rlc3RfYnVmZmVyX25h
bWUpLCAibmFtZSIpKQ0KKwkJZ290byBjbG9zZV91ZG1hYnVmOw0KKw0KKwlyZXR1cm4gbG9jYWxf
dWRtYWJ1ZjsNCisNCitjbG9zZV91ZG1hYnVmOg0KKwljbG9zZShsb2NhbF91ZG1hYnVmKTsNCitj
bG9zZV9tZW1mZDoNCisJY2xvc2UobWVtZmQpOw0KKwlyZXR1cm4gLTE7DQorfQ0KKw0KK3N0YXRp
YyBpbnQgY3JlYXRlX3N5c19oZWFwX2RtYWJ1Zih2b2lkKQ0KK3sNCisJc3lzaGVhcF90ZXN0X2J1
ZmZlcl9zaXplID0gMjAgKiBnZXRwYWdlc2l6ZSgpOw0KKw0KKwlzdHJ1Y3QgZG1hX2hlYXBfYWxs
b2NhdGlvbl9kYXRhIGRhdGEgPSB7DQorCQkubGVuID0gc3lzaGVhcF90ZXN0X2J1ZmZlcl9zaXpl
LA0KKwkJLmZkID0gMCwNCisJCS5mZF9mbGFncyA9IE9fUkRXUiB8IE9fQ0xPRVhFQywNCisJCS5o
ZWFwX2ZsYWdzID0gMCwNCisJfTsNCisJaW50IGhlYXBfZmQsIHJldDsNCisNCisJaWYgKCFBU1NF
UlRfTEUoc2l6ZW9mKHN5c2hlYXBfdGVzdF9idWZmZXJfbmFtZSksIERNQV9CVUZfTkFNRV9MRU4s
ICJOQU1FVE9PTE9ORyIpKQ0KKwkJcmV0dXJuIC0xOw0KKw0KKwloZWFwX2ZkID0gb3BlbigiL2Rl
di9kbWFfaGVhcC9zeXN0ZW0iLCBPX1JET05MWSk7DQorCWlmICghQVNTRVJUX09LX0ZEKGhlYXBf
ZmQsICJvcGVuIGRtYSBoZWFwIikpDQorCQlyZXR1cm4gLTE7DQorDQorCXJldCA9IGlvY3RsKGhl
YXBfZmQsIERNQV9IRUFQX0lPQ1RMX0FMTE9DLCAmZGF0YSk7DQorCWNsb3NlKGhlYXBfZmQpOw0K
KwlpZiAoIUFTU0VSVF9PSyhyZXQsICJzeWhlYXAgYWxsb2MiKSkNCisJCXJldHVybiAtMTsNCisN
CisJaWYgKCFBU1NFUlRfT0soaW9jdGwoZGF0YS5mZCwgRE1BX0JVRl9TRVRfTkFNRV9CLCBzeXNo
ZWFwX3Rlc3RfYnVmZmVyX25hbWUpLCAibmFtZSIpKQ0KKwkJZ290byBjbG9zZV9zeXNoZWFwX2Rt
YWJ1ZjsNCisNCisJcmV0dXJuIGRhdGEuZmQ7DQorDQorY2xvc2Vfc3lzaGVhcF9kbWFidWY6DQor
CWNsb3NlKGRhdGEuZmQpOw0KKwlyZXR1cm4gLTE7DQorfQ0KKw0KK3N0YXRpYyBpbnQgY3JlYXRl
X3Rlc3RfYnVmZmVycyh2b2lkKQ0KK3sNCisJdWRtYWJ1ZiA9IGNyZWF0ZV91ZG1hYnVmKCk7DQor
CXN5c2hlYXBfZG1hYnVmID0gY3JlYXRlX3N5c19oZWFwX2RtYWJ1ZigpOw0KKw0KKwlpZiAodWRt
YWJ1ZiA8IDAgfHwgc3lzaGVhcF9kbWFidWYgPCAwKQ0KKwkJcmV0dXJuIC0xOw0KKw0KKwlyZXR1
cm4gMDsNCit9DQorDQorc3RhdGljIHZvaWQgZGVzdHJveV90ZXN0X2J1ZmZlcnModm9pZCkNCit7
DQorCWNsb3NlKHVkbWFidWYpOw0KKwl1ZG1hYnVmID0gLTE7DQorDQorCWNsb3NlKHN5c2hlYXBf
ZG1hYnVmKTsNCisJc3lzaGVhcF9kbWFidWYgPSAtMTsNCit9DQorDQorZW51bSBGaWVsZHMgeyBJ
Tk9ERSwgU0laRSwgTkFNRSwgRVhQT1JURVIsIEZJRUxEX0NPVU5UIH07DQorc3RydWN0IERtYWJ1
ZkluZm8gew0KKwl1bnNpZ25lZCBsb25nIGlub2RlOw0KKwl1bnNpZ25lZCBsb25nIHNpemU7DQor
CWNoYXIgbmFtZVtETUFfQlVGX05BTUVfTEVOXTsNCisJY2hhciBleHBvcnRlclszMl07DQorfTsN
CisNCitzdGF0aWMgYm9vbCBjaGVja19kbWFidWZfaW5mbyhjb25zdCBzdHJ1Y3QgRG1hYnVmSW5m
byAqYnVmaW5mbywNCisJCQkgICAgICB1bnNpZ25lZCBsb25nIHNpemUsDQorCQkJICAgICAgY29u
c3QgY2hhciAqbmFtZSwgY29uc3QgY2hhciAqZXhwb3J0ZXIpDQorew0KKwlyZXR1cm4gc2l6ZSA9
PSBidWZpbmZvLT5zaXplICYmDQorCSAgICAgICAhc3RyY21wKG5hbWUsIGJ1ZmluZm8tPm5hbWUp
ICYmDQorCSAgICAgICAhc3RyY21wKGV4cG9ydGVyLCBidWZpbmZvLT5leHBvcnRlcik7DQorfQ0K
Kw0KK3N0YXRpYyB2b2lkIHN1YnRlc3RfZG1hYnVmX2l0ZXJfY2hlY2tfbm9faW5maW5pdGVfcmVh
ZHMoc3RydWN0IGRtYWJ1Zl9pdGVyICpza2VsKQ0KK3sNCisJaW50IGl0ZXJfZmQ7DQorCWNoYXIg
YnVmWzI1Nl07DQorDQorCWl0ZXJfZmQgPSBicGZfaXRlcl9jcmVhdGUoYnBmX2xpbmtfX2ZkKHNr
ZWwtPmxpbmtzLmRtYWJ1Zl9jb2xsZWN0b3IpKTsNCisJaWYgKCFBU1NFUlRfT0tfRkQoaXRlcl9m
ZCwgIml0ZXJfY3JlYXRlIikpDQorCQlyZXR1cm47DQorDQorCXdoaWxlIChyZWFkKGl0ZXJfZmQs
IGJ1Ziwgc2l6ZW9mKGJ1ZikpID4gMCkNCisJCTsgLyogUmVhZCBvdXQgYWxsIGNvbnRlbnRzICov
DQorDQorCS8qIE5leHQgcmVhZHMgc2hvdWxkIHJldHVybiAwICovDQorCUFTU0VSVF9FUShyZWFk
KGl0ZXJfZmQsIGJ1Ziwgc2l6ZW9mKGJ1ZikpLCAwLCAicmVhZCIpOw0KKw0KKwljbG9zZShpdGVy
X2ZkKTsNCit9DQorDQorc3RhdGljIHZvaWQgc3VidGVzdF9kbWFidWZfaXRlcl9jaGVja19kZWZh
dWx0X2l0ZXIoc3RydWN0IGRtYWJ1Zl9pdGVyICpza2VsKQ0KK3sNCisJYm9vbCBmb3VuZF90ZXN0
X3N5c2hlYXBfZG1hYnVmID0gZmFsc2U7DQorCWJvb2wgZm91bmRfdGVzdF91ZG1hYnVmID0gZmFs
c2U7DQorCXN0cnVjdCBEbWFidWZJbmZvIGJ1ZmluZm87DQorCXNpemVfdCBsaW5lc2l6ZSA9IDA7
DQorCWNoYXIgKmxpbmUgPSBOVUxMOw0KKwlGSUxFICppdGVyX2ZpbGU7DQorCWludCBpdGVyX2Zk
LCBmID0gSU5PREU7DQorDQorCWl0ZXJfZmQgPSBicGZfaXRlcl9jcmVhdGUoYnBmX2xpbmtfX2Zk
KHNrZWwtPmxpbmtzLmRtYWJ1Zl9jb2xsZWN0b3IpKTsNCisJaWYgKCFBU1NFUlRfT0tfRkQoaXRl
cl9mZCwgIml0ZXJfY3JlYXRlIikpDQorCQlyZXR1cm47DQorDQorCWl0ZXJfZmlsZSA9IGZkb3Bl
bihpdGVyX2ZkLCAiciIpOw0KKwlpZiAoIUFTU0VSVF9PS19QVFIoaXRlcl9maWxlLCAiZmRvcGVu
IikpDQorCQlnb3RvIGNsb3NlX2l0ZXJfZmQ7DQorDQorCXdoaWxlIChnZXRsaW5lKCZsaW5lLCAm
bGluZXNpemUsIGl0ZXJfZmlsZSkgIT0gLTEpIHsNCisJCWlmIChmICUgRklFTERfQ09VTlQgPT0g
SU5PREUpIHsNCisJCQlBU1NFUlRfRVEoc3NjYW5mKGxpbmUsICIlbGQiLCAmYnVmaW5mby5pbm9k
ZSksIDEsDQorCQkJCSAgInJlYWQgaW5vZGUiKTsNCisJCX0gZWxzZSBpZiAoZiAlIEZJRUxEX0NP
VU5UID09IFNJWkUpIHsNCisJCQlBU1NFUlRfRVEoc3NjYW5mKGxpbmUsICIlbGQiLCAmYnVmaW5m
by5zaXplKSwgMSwNCisJCQkJICAicmVhZCBzaXplIik7DQorCQl9IGVsc2UgaWYgKGYgJSBGSUVM
RF9DT1VOVCA9PSBOQU1FKSB7DQorCQkJQVNTRVJUX0VRKHNzY2FuZihsaW5lLCAiJXMiLCBidWZp
bmZvLm5hbWUpLCAxLA0KKwkJCQkgICJyZWFkIG5hbWUiKTsNCisJCX0gZWxzZSBpZiAoZiAlIEZJ
RUxEX0NPVU5UID09IEVYUE9SVEVSKSB7DQorCQkJQVNTRVJUX0VRKHNzY2FuZihsaW5lLCAiJTMx
cyIsIGJ1ZmluZm8uZXhwb3J0ZXIpLCAxLA0KKwkJCQkgICJyZWFkIGV4cG9ydGVyIik7DQorDQor
CQkJaWYgKGNoZWNrX2RtYWJ1Zl9pbmZvKCZidWZpbmZvLA0KKwkJCQkJICAgICAgc3lzaGVhcF90
ZXN0X2J1ZmZlcl9zaXplLA0KKwkJCQkJICAgICAgc3lzaGVhcF90ZXN0X2J1ZmZlcl9uYW1lLA0K
KwkJCQkJICAgICAgInN5c3RlbSIpKQ0KKwkJCQlmb3VuZF90ZXN0X3N5c2hlYXBfZG1hYnVmID0g
dHJ1ZTsNCisJCQllbHNlIGlmIChjaGVja19kbWFidWZfaW5mbygmYnVmaW5mbywNCisJCQkJCQkg
ICB1ZG1hYnVmX3Rlc3RfYnVmZmVyX3NpemUsDQorCQkJCQkJICAgdWRtYWJ1Zl90ZXN0X2J1ZmZl
cl9uYW1lLA0KKwkJCQkJCSAgICJ1ZG1hYnVmIikpDQorCQkJCWZvdW5kX3Rlc3RfdWRtYWJ1ZiA9
IHRydWU7DQorCQl9DQorCQkrK2Y7DQorCX0NCisNCisJQVNTRVJUX0VRKGYgJSBGSUVMRF9DT1VO
VCwgSU5PREUsICJudW1iZXIgb2YgZmllbGRzIik7DQorDQorCUFTU0VSVF9UUlVFKGZvdW5kX3Rl
c3Rfc3lzaGVhcF9kbWFidWYsICJmb3VuZF90ZXN0X3N5c2hlYXBfZG1hYnVmIik7DQorCUFTU0VS
VF9UUlVFKGZvdW5kX3Rlc3RfdWRtYWJ1ZiwgImZvdW5kX3Rlc3RfdWRtYWJ1ZiIpOw0KKw0KKwlm
cmVlKGxpbmUpOw0KKwlmY2xvc2UoaXRlcl9maWxlKTsNCitjbG9zZV9pdGVyX2ZkOg0KKwljbG9z
ZShpdGVyX2ZkKTsNCit9DQorDQordm9pZCB0ZXN0X2RtYWJ1Zl9pdGVyKHZvaWQpDQorew0KKwlz
dHJ1Y3QgZG1hYnVmX2l0ZXIgKnNrZWwgPSBOVUxMOw0KKw0KKwlza2VsID0gZG1hYnVmX2l0ZXJf
X29wZW5fYW5kX2xvYWQoKTsNCisJaWYgKCFBU1NFUlRfT0tfUFRSKHNrZWwsICJkbWFidWZfaXRl
cl9fb3Blbl9hbmRfbG9hZCIpKQ0KKwkJcmV0dXJuOw0KKw0KKwlpZiAoIUFTU0VSVF9PSyhjcmVh
dGVfdGVzdF9idWZmZXJzKCksICJjcmVhdGVfdGVzdF9idWZmZXJzIikpDQorCQlnb3RvIGRlc3Ry
b3k7DQorDQorCWlmICghQVNTRVJUX09LKGRtYWJ1Zl9pdGVyX19hdHRhY2goc2tlbCksICJza2Vs
X2F0dGFjaCIpKQ0KKwkJZ290byBkZXN0cm95Ow0KKw0KKwlpZiAodGVzdF9fc3RhcnRfc3VidGVz
dCgibm9faW5maW5pdGVfcmVhZHMiKSkNCisJCXN1YnRlc3RfZG1hYnVmX2l0ZXJfY2hlY2tfbm9f
aW5maW5pdGVfcmVhZHMoc2tlbCk7DQorCWlmICh0ZXN0X19zdGFydF9zdWJ0ZXN0KCJkZWZhdWx0
X2l0ZXIiKSkNCisJCXN1YnRlc3RfZG1hYnVmX2l0ZXJfY2hlY2tfZGVmYXVsdF9pdGVyKHNrZWwp
Ow0KKw0KK2Rlc3Ryb3k6DQorCWRlc3Ryb3lfdGVzdF9idWZmZXJzKCk7DQorCWRtYWJ1Zl9pdGVy
X19kZXN0cm95KHNrZWwpOw0KK30NCmRpZmYgLS1naXQgYS90b29scy90ZXN0aW5nL3NlbGZ0ZXN0
cy9icGYvcHJvZ3MvZG1hYnVmX2l0ZXIuYyBiL3Rvb2xzL3Rlc3Rpbmcvc2VsZnRlc3RzL2JwZi9w
cm9ncy9kbWFidWZfaXRlci5jDQpuZXcgZmlsZSBtb2RlIDEwMDY0NA0KaW5kZXggMDAwMDAwMDAw
MDAwLi5lNTNkNzY0NmQwN2ENCi0tLSAvZGV2L251bGwNCisrKyBiL3Rvb2xzL3Rlc3Rpbmcvc2Vs
ZnRlc3RzL2JwZi9wcm9ncy9kbWFidWZfaXRlci5jDQpAQCAtMCwwICsxLDUzIEBADQorLy8gU1BE
WC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjANCisvKiBDb3B5cmlnaHQgKGMpIDIwMjUgR29v
Z2xlIExMQyAqLw0KKyNpbmNsdWRlIDx2bWxpbnV4Lmg+DQorI2luY2x1ZGUgPGJwZi9icGZfY29y
ZV9yZWFkLmg+DQorI2luY2x1ZGUgPGJwZi9icGZfaGVscGVycy5oPg0KKw0KKy8qIEZyb20gdWFw
aS9saW51eC9kbWEtYnVmLmggKi8NCisjZGVmaW5lIERNQV9CVUZfTkFNRV9MRU4gMzINCisNCitj
aGFyIF9saWNlbnNlW10gU0VDKCJsaWNlbnNlIikgPSAiR1BMIjsNCisNCisvKg0KKyAqIEZpZWxk
cyBvdXRwdXQgYnkgdGhpcyBpdGVyYXRvciBhcmUgZGVsaW1pdGVkIGJ5IG5ld2xpbmVzLiBDb252
ZXJ0IGFueQ0KKyAqIG5ld2xpbmVzIGluIHVzZXItcHJvdmlkZWQgcHJpbnRlZCBzdHJpbmdzIHRv
IHNwYWNlcy4NCisgKi8NCitzdGF0aWMgdm9pZCBzYW5pdGl6ZV9zdHJpbmcoY2hhciAqc3JjLCBz
aXplX3Qgc2l6ZSkNCit7DQorCWZvciAoY2hhciAqYyA9IHNyYzsgKHNpemVfdCkoYyAtIHNyYykg
PCBzaXplICYmICpjOyArK2MpDQorCQlpZiAoKmMgPT0gJ1xuJykNCisJCQkqYyA9ICcgJzsNCit9
DQorDQorU0VDKCJpdGVyL2RtYWJ1ZiIpDQoraW50IGRtYWJ1Zl9jb2xsZWN0b3Ioc3RydWN0IGJw
Zl9pdGVyX19kbWFidWYgKmN0eCkNCit7DQorCWNvbnN0IHN0cnVjdCBkbWFfYnVmICpkbWFidWYg
PSBjdHgtPmRtYWJ1ZjsNCisJc3RydWN0IHNlcV9maWxlICpzZXEgPSBjdHgtPm1ldGEtPnNlcTsN
CisJdW5zaWduZWQgbG9uZyBpbm9kZSA9IDA7DQorCXNpemVfdCBzaXplOw0KKwljb25zdCBjaGFy
ICpwbmFtZSwgKmV4cG9ydGVyOw0KKwljaGFyIG5hbWVbRE1BX0JVRl9OQU1FX0xFTl0gPSB7J1ww
J307DQorDQorCWlmICghZG1hYnVmKQ0KKwkJcmV0dXJuIDA7DQorDQorCWlmIChCUEZfQ09SRV9S
RUFEX0lOVE8oJmlub2RlLCBkbWFidWYsIGZpbGUsIGZfaW5vZGUsIGlfaW5vKSB8fA0KKwkgICAg
YnBmX2NvcmVfcmVhZCgmc2l6ZSwgc2l6ZW9mKHNpemUpLCAmZG1hYnVmLT5zaXplKSB8fA0KKwkg
ICAgYnBmX2NvcmVfcmVhZCgmcG5hbWUsIHNpemVvZihwbmFtZSksICZkbWFidWYtPm5hbWUpIHx8
DQorCSAgICBicGZfY29yZV9yZWFkKCZleHBvcnRlciwgc2l6ZW9mKGV4cG9ydGVyKSwgJmRtYWJ1
Zi0+ZXhwX25hbWUpKQ0KKwkJcmV0dXJuIDE7DQorDQorCS8qIEJ1ZmZlcnMgYXJlIG5vdCByZXF1
aXJlZCB0byBiZSBuYW1lZCAqLw0KKwlpZiAocG5hbWUpIHsNCisJCWlmIChicGZfcHJvYmVfcmVh
ZF9rZXJuZWwobmFtZSwgc2l6ZW9mKG5hbWUpLCBwbmFtZSkpDQorCQkJcmV0dXJuIDE7DQorDQor
CQkvKiBOYW1lIHN0cmluZ3MgY2FuIGJlIHByb3ZpZGVkIGJ5IHVzZXJzcGFjZSAqLw0KKwkJc2Fu
aXRpemVfc3RyaW5nKG5hbWUsIHNpemVvZihuYW1lKSk7DQorCX0NCisNCisJQlBGX1NFUV9QUklO
VEYoc2VxLCAiJWx1XG4lbGx1XG4lc1xuJXNcbiIsIGlub2RlLCBzaXplLCBuYW1lLCBleHBvcnRl
cik7DQorCXJldHVybiAwOw0KK30NCi0tIA0KMi40OS4wLjExNTEuZ2ExMjg0MTFjNzYtZ29vZw0K
DQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW5hcm8t
bW0tc2lnIG1haWxpbmcgbGlzdCAtLSBsaW5hcm8tbW0tc2lnQGxpc3RzLmxpbmFyby5vcmcKVG8g
dW5zdWJzY3JpYmUgc2VuZCBhbiBlbWFpbCB0byBsaW5hcm8tbW0tc2lnLWxlYXZlQGxpc3RzLmxp
bmFyby5vcmcK
