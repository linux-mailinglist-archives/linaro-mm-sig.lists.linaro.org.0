Return-Path: <linaro-mm-sig-bounces+lists+linaro-mm-sig=lfdr.de@lists.linaro.org>
X-Original-To: lists+linaro-mm-sig@lfdr.de
Delivered-To: lists+linaro-mm-sig@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id 3478B557795
	for <lists+linaro-mm-sig@lfdr.de>; Thu, 23 Jun 2022 12:13:28 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 43FE53F469
	for <lists+linaro-mm-sig@lfdr.de>; Thu, 23 Jun 2022 10:13:27 +0000 (UTC)
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de [85.220.165.71])
	by lists.linaro.org (Postfix) with ESMTPS id 2B5273EA2E
	for <linaro-mm-sig@lists.linaro.org>; Thu, 23 Jun 2022 10:13:23 +0000 (UTC)
Received: from gallifrey.ext.pengutronix.de ([2001:67c:670:201:5054:ff:fe8d:eefb] helo=[IPv6:::1])
	by metis.ext.pengutronix.de with esmtps (TLS1.3:ECDHE_RSA_AES_256_GCM_SHA384:256)
	(Exim 4.92)
	(envelope-from <l.stach@pengutronix.de>)
	id 1o4Jpt-0003Vx-Ky; Thu, 23 Jun 2022 12:13:17 +0200
Message-ID: <708e27755317a7650ca08ba2e4c14691ac0d6ba2.camel@pengutronix.de>
From: Lucas Stach <l.stach@pengutronix.de>
To: Christian =?ISO-8859-1?Q?K=F6nig?= <christian.koenig@amd.com>, Pekka
	Paalanen <ppaalanen@gmail.com>
Date: Thu, 23 Jun 2022 12:13:16 +0200
In-Reply-To: <05814ddb-4f3e-99d8-025a-c31db7b2c46b@amd.com>
References: <91ff0bbb-ea3a-2663-3453-dea96ccd6dd8@amd.com>
	 <YCuPhOT4GhY3RR/6@phenom.ffwll.local>
	 <9178e19f5c0e141772b61b759abaa0d176f902b6.camel@ndufresne.ca>
	 <CAPj87rPYQNkgVEdHECQcHcYe2nCpgF3RYQKk_=wwhvJSxwHXCg@mail.gmail.com>
	 <c6e65ee1-531e-d72c-a6a6-da7149e34f18@amd.com>
	 <20220623101326.18beeab3@eldfell>
	 <954d0a9b-29ef-52ef-f6ca-22d7e6aa3f4d@amd.com>
	 <4b69f9f542d6efde2190b73c87096e87fa24d8ef.camel@pengutronix.de>
	 <adc626ec-ff5a-5c06-44ce-09111be450cd@amd.com>
	 <fbb228cd78e9bebd7e7921c19e0c4c09d0891f23.camel@pengutronix.de>
	 <e691bccc-171d-f674-2817-13a945970f4a@amd.com>
	 <95cca943bbfda6af07339fb8d2dc7f4da3aa0280.camel@pengutronix.de>
	 <05814ddb-4f3e-99d8-025a-c31db7b2c46b@amd.com>
User-Agent: Evolution 3.40.4 (3.40.4-1.fc34) 
MIME-Version: 1.0
X-SA-Exim-Connect-IP: 2001:67c:670:201:5054:ff:fe8d:eefb
X-SA-Exim-Mail-From: l.stach@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de); SAEximRunCond expanded to false
X-PTX-Original-Recipient: linaro-mm-sig@lists.linaro.org
Message-ID-Hash: SV4GCPZ2JLFRGNYS4RT5QLDB7ADSMBUR
X-Message-ID-Hash: SV4GCPZ2JLFRGNYS4RT5QLDB7ADSMBUR
X-MailFrom: l.stach@pengutronix.de
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: "Sharma, Shashank" <Shashank.Sharma@amd.com>, lkml <linux-kernel@vger.kernel.org>, dri-devel <dri-devel@lists.freedesktop.org>, Nicolas Dufresne <nicolas@ndufresne.ca>, linaro-mm-sig@lists.linaro.org, Sumit Semwal <sumit.semwal@linaro.org>, linux-media <linux-media@vger.kernel.org>
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [Linaro-mm-sig] Re: DMA-buf and uncached system memory
List-Id: "Unified memory management interest group." <linaro-mm-sig.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/message/SV4GCPZ2JLFRGNYS4RT5QLDB7ADSMBUR/>
List-Archive: <https://lists.linaro.org/archives/list/linaro-mm-sig@lists.linaro.org/>
List-Help: <mailto:linaro-mm-sig-request@lists.linaro.org?subject=help>
List-Owner: <mailto:linaro-mm-sig-owner@lists.linaro.org>
List-Post: <mailto:linaro-mm-sig@lists.linaro.org>
List-Subscribe: <mailto:linaro-mm-sig-join@lists.linaro.org>
List-Unsubscribe: <mailto:linaro-mm-sig-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

QW0gRG9ubmVyc3RhZywgZGVtIDIzLjA2LjIwMjIgdW0gMTE6NDYgKzAyMDAgc2NocmllYiBDaHJp
c3RpYW4gS8O2bmlnOg0KPiBBbSAyMy4wNi4yMiB1bSAxMTozMyBzY2hyaWViIEx1Y2FzIFN0YWNo
Og0KPiA+IFtTTklQXQ0KPiA+ID4gPiA+ID4gSW4gdGhlIERNQSBBUEkga2VlcGluZyB0aGluZ3Mg
bWFwcGVkIGlzIGFsc28gYSB2YWxpZCB1c2UtY2FzZSwgYnV0IHRoZW4NCj4gPiA+ID4gPiA+IHlv
dSBuZWVkIHRvIGRvIGV4cGxpY2l0IGRvbWFpbiB0cmFuc2ZlcnMgdmlhIHRoZSBkbWFfc3luY18q
IGZhbWlseSwNCj4gPiA+ID4gPiA+IHdoaWNoIERNQS1idWYgaGFzIG5vdCBpbmhlcml0ZWQuIEFn
YWluIHRob3NlIHN5bmMgYXJlIG5vLW9wcyBvbiBjYWNoZQ0KPiA+ID4gPiA+ID4gY29oZXJlbnQg
YXJjaGl0ZWN0dXJlcywgYnV0IGRvIGFueSBuZWNlc3NhcnkgY2FjaGUgbWFpbnRlbmFuY2Ugb24g
bm9uDQo+ID4gPiA+ID4gPiBjb2hlcmVudCBhcmNoZXMuDQo+ID4gPiA+ID4gQ29ycmVjdCwgeWVz
LiBDb2hlcmVuY3kgaXMgbWFuZGF0b3J5IGZvciBETUEtYnVmLCB5b3UgY2FuJ3QgdXNlDQo+ID4g
PiA+ID4gZG1hX3N5bmNfKiBvbiBpdCB3aGVuIHlvdSBhcmUgdGhlIGltcG9ydGVyLg0KPiA+ID4g
PiA+IA0KPiA+ID4gPiA+IFRoZSBleHBvcnRlciBjb3VsZCBvZiBjb3Vyc2UgbWFrZSB1c2Ugb2Yg
dGhhdCBiZWNhdXNlIGhlIGlzIHRoZSBvd25lciBvZg0KPiA+ID4gPiA+IHRoZSBidWZmZXIuDQo+
ID4gPiA+IEluIHRoZSBleGFtcGxlIGdpdmVuIGhlcmUgd2l0aCBVVkMgdmlkZW8sIHlvdSBkb24n
dCBrbm93IHRoYXQgdGhlDQo+ID4gPiA+IGJ1ZmZlciB3aWxsIGJlIGV4cG9ydGVkIGFuZCBuZWVk
cyB0byBiZSBjb2hlcmVudCB3aXRob3V0DQo+ID4gPiA+IHN5bmNocm9uaXphdGlvbiBwb2ludHMs
IGR1ZSB0byB0aGUgbWFwcGluZyBjYWNoZSBhdCB0aGUgRFJNIHNpZGUuIFNvDQo+ID4gPiA+IFY0
TDIgbmF0dXJhbGx5IGFsbG9jYXRlcyB0aGUgYnVmZmVycyBmcm9tIENQVSBjYWNoZWQgbWVtb3J5
LiBJZiB0aGUNCj4gPiA+ID4gZXhwZWN0YXRpb24gaXMgdGhhdCB0aG9zZSBidWZmZXJzIGFyZSBk
ZXZpY2UgY29oZXJlbnQgd2l0aG91dCByZWx5aW5nDQo+ID4gPiA+IG9uIHRoZSBtYXAvdW5tYXBf
YXR0YWNobWVudCBjYWxscywgdGhlbiBWNEwyIG5lZWRzIHRvIGFsd2F5cw0KPiA+ID4gPiBzeW5j
aHJvbml6ZSBjYWNoZXMgb24gRFFCVUYgd2hlbiB0aGUgIGJ1ZmZlciBpcyBhbGxvY2F0ZWQgZnJv
bSBDUFUNCj4gPiA+ID4gY2FjaGVkIG1lbW9yeSBhbmQgYSBzaW5nbGUgRE1BLWJ1ZiBhdHRhY2ht
ZW50IGV4aXN0cy4gQW5kIHdoaWxlIHdyaXRpbmcNCj4gPiA+ID4gdGhpcyBJIHJlYWxpemUgdGhh
dCB0aGlzIGlzIHByb2JhYmx5IGV4YWN0bHkgd2hhdCBWNEwyIHNob3VsZCBkby4uLg0KPiA+ID4g
Tm8sIHRoZSBleHBlY3RhdGlvbiBpcyB0aGF0IHRoZSBpbXBvcnRlciBjYW4gZGVhbCB3aXRoIHdo
YXRldmVyIHRoZQ0KPiA+ID4gZXhwb3J0ZXIgcHJvdmlkZXMuDQo+ID4gPiANCj4gPiA+IElmIHRo
ZSBpbXBvcnRlciBjYW4ndCBhY2Nlc3MgdGhlIERNQS1idWYgY29oZXJlbnRseSBpdCdzIGhpcyBq
b2IgdG8NCj4gPiA+IGhhbmRsZSB0aGF0IGdyYWNlZnVsbHkuDQo+ID4gSG93IGRvZXMgdGhlIGlt
cG9ydGVyIGtub3cgdGhhdCB0aGUgbWVtb3J5IGJlaGluZCB0aGUgRE1BLWJ1ZiBpcyBpbiBDUFUN
Cj4gPiBjYWNoZWQgbWVtb3J5Pw0KPiA+IA0KPiA+IElmIHlvdSBub3cgdGVsbCBtZSB0aGF0IGFu
IGltcG9ydGVyIGFsd2F5cyBuZWVkcyB0byBhc3N1bWUgdGhpcyBhbmQNCj4gPiByZWplY3QgdGhl
IGltcG9ydCBpZiBpdCBjYW4ndCBkbyBzbm9vcGluZywgdGhlbiBhbnkgRE1BLWJ1ZiB1c2FnZSBv
bg0KPiA+IG1vc3QgQVJNIFNvQ3MgaXMgY3VycmVudGx5IGludmFsaWQgdXNhZ2UuDQo+IA0KPiBZ
ZXMsIGV4YWN0bHkgdGhhdC4gSSd2ZSBwb2ludGVkIG91dCBhIGNvdXBsZSBvZiB0aW1lcyBub3cg
dGhhdCBhIGxvdCBvZiANCj4gQVJNIFNvQ3MgZG9uJ3QgaW1wbGVtZW50IHRoYXQgdGhlIHdheSB3
ZSBuZWVkIGl0Lg0KPiANCj4gV2UgYWxyZWFkeSBoYWQgdG9ucyBvZiBidWcgcmVwb3J0cyBiZWNh
dXNlIHNvbWVib2R5IGF0dGFjaGVkIGEgcmFuZG9tIA0KPiBQQ0kgcm9vdCBjb21wbGV4IHRvIGFu
IEFSTSBTb0MgYW5kIGV4cGVjdGVkIGl0IHRvIHdvcmsgd2l0aCBmb3IgZXhhbXBsZSANCj4gYW4g
QU1EIEdQVS4NCj4gDQo+IE5vbi1jYWNoZSBjb2hlcmVudCBhcHBsaWNhdGlvbnMgYXJlIGN1cnJl
bnRseSBub3QgcmVhbGx5IHN1cHBvcnRlZCBieSANCj4gdGhlIERNQS1idWYgZnJhbWV3b3JrIGlu
IGFueSB3YXkuDQo+IA0KSSdtIG5vdCB0YWxraW5nIGFib3V0IGJvbHRpbmcgb24gYSBQQ0llIHJv
b3QgY29tcGxleCwgd2l0aCBpdHMgaW1wbGljaXQNCmluaGVyaXRlZCAiUENJIGlzIGNhY2hlIGNv
aGVyZW50IiBleHBlY3RhdGlvbnMgdG8gYSBBUk0gU29DLCBidXQganVzdA0KdGhlIHN0YW5kYXJk
IFZQVS9HUFUvZGlzcGxheSBlbmdpbmVzIGFyZSBub3Qgc25vb3Bpbmcgb24gbW9zdCBBUk0gU29D
cy4NCg0KPiA+IE9uIG1vc3Qgb2YgdGhlIG11bHRpbWVkaWENCj4gPiB0YXJnZXRlZCBBUk0gU29D
cyBiZWluZyB1bmFibGUgdG8gc25vb3AgdGhlIGNhY2hlIGlzIHRoZSBub3JtLCBub3QgYW4NCj4g
PiBleGNlcHRpb24uDQo+ID4gDQo+ID4gPiBTZWUgZm9yIGV4YW1wbGUgb24gQU1EL0ludGVsIGhh
cmR3YXJlIG1vc3Qgb2YgdGhlIGVuZ2luZXMgY2FuIHBlcmZlY3RseQ0KPiA+ID4gZGVhbCB3aXRo
IGNhY2hlIGNvaGVyZW50IG1lbW9yeSBhY2Nlc3Nlcy4gT25seSB0aGUgZGlzcGxheSBlbmdpbmVz
IGNhbid0Lg0KPiA+ID4gDQo+ID4gPiBTbyBvbiBpbXBvcnQgdGltZSB3ZSBjYW4ndCBldmVuIHNh
eSBpZiB0aGUgYWNjZXNzIGNhbiBiZSBjb2hlcmVudCBhbmQNCj4gPiA+IHNub29wIHRoZSBDUFUg
Y2FjaGUgb3Igbm90IGJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBob3cgdGhlIGltcG9ydGVkDQo+ID4g
PiBETUEtYnVmIHdpbGwgYmUgdXNlZCBsYXRlciBvbi4NCj4gPiA+IA0KPiA+IFNvIGZvciB0aG9z
ZSBtaXhlZCB1c2UgY2FzZXMsIHdvdWxkbid0IGl0IGhlbHAgdG8gaGF2ZSBzb21ldGhpbmcNCj4g
PiBzaW1pbGFyIHRvIHRoZSBkbWFfc3luYyBpbiB0aGUgRE1BLWJ1ZiBBUEksIHNvIHlvdXIgc2Nh
bm91dCB1c2FnZSBjYW4NCj4gPiB0ZWxsIHRoZSBleHBvcnRlciB0aGF0IGl0J3MgZ29pbmcgdG8g
ZG8gbm9uLXNub29wIGFjY2VzcyBhbmQgYW55IGRpcnR5DQo+ID4gY2FjaGUgbGluZXMgbXVzdCBi
ZSBjbGVhbmVkPyBTaWduYWxpbmcgdGhpcyB0byB0aGUgZXhwb3J0ZXIgd291bGQgYWxsb3cNCj4g
PiB0byBza2lwIHRoZSBjYWNoZSBtYWludGVuYW5jZSBpZiB0aGUgYnVmZmVyIGlzIGluIENQVSB1
bmNhY2hlZCBtZW1vcnksDQo+ID4gd2hpY2ggYWdhaW4gaXMgYSBkZWZhdWx0IGNhc2UgZm9yIHRo
ZSBBUk0gU29DIHdvcmxkLg0KPiANCj4gV2VsbCBmb3IgdGhlIEFNRCBhbmQgSW50ZWwgdXNlIGNh
c2VzIHdlIGF0IGxlYXN0IGhhdmUgdGhlIG9wcG9ydHVuaXR5IHRvIA0KPiBzaWduYWwgY2FjaGUg
Zmx1c2hpbmcsIGJ1dCBJJ20gbm90IHN1cmUgaWYgdGhhdCBjb3VudHMgZm9yIGV2ZXJ5Ym9keS4N
Cj4gDQpTdXJlLCBhbGwgdGhlIG5vbi1jb2hlcmVudCBhcmNoZXMgaGF2ZSBzb21lIHdheSB0byBk
byB0aGUgY2FjaGUNCm1haW50ZW5hbmNlIGluIHNvbWUgZXhwbGljaXQgd2F5LiBOb24gY29oZXJl
bnQgYW5kIG5vIGNhY2hlIG1haW50ZW5hbmNlDQppbnN0cnVjdGlvbiB3b3VsZCBiZSBhIHJlY2lw
ZSBmb3IgZGVzYXN0ZXIuIDspDQoNCj4gV2hhdCB3ZSB3b3VsZCByYXRoZXIgZG8gZm9yIHRob3Nl
IHVzZSBjYXNlcyBpcyBhbiBpbmRpY2F0b3Igb24gdGhlIA0KPiBETUEtYnVmIGlmIHRoZSB1bmRl
cmx5aW5nIGJhY2tpbmcgc3RvcmUgaXMgQ1BVIGNhY2hlZCBvciBub3QuIFRoZSANCj4gaW1wb3J0
ZXIgY2FuIHRoZW4gY2xlYW5seSByZWplY3QgdGhlIHVzZSBjYXNlcyB3aGVyZSBpdCBjYW4ndCBz
dXBwb3J0IA0KPiBDUFUgY2FjaGUgc25vb3BpbmcuDQo+IA0KPiBUaGlzIHRoZW4gcmVzdWx0cyBp
biB0aGUgbm9ybWFsIGZhbGxiYWNrIHBhdGhzIHdoaWNoIHdlIGhhdmUgYW55d2F5IGZvciANCj4g
dGhvc2UgdXNlIGNhc2VzIGJlY2F1c2UgRE1BLWJ1ZiBzaGFyaW5nIGlzIG5vdCBhbHdheXMgcG9z
c2libGUuDQo+IA0KVGhhdCdzIGEgdmVyeSB4ODYgY2VudHJpYyB3b3JsZCB2aWV3IHlvdSBoYXZl
IHRoZXJlLiA5OSUgb2YgRE1BLWJ1Zg0KdXNlcyBvbiB0aG9zZSBjaGVhcCBBUk0gU29DcyBpcyBu
b24tc25vb3BpbmcuIFdlIGNhbiBub3QgZG8gYW55DQpmYWxsYmFja3MgaGVyZSwgYXMgdGhlIHdo
b2xlIGdyYXBoaWNzIHdvcmxkIG9uIHRob3NlIFNvQ3Mgd2l0aCB0aGVpcg0KZGlmZmVyZW50IElQ
IGNvcmVzIG1peGVkIHRvZ2V0aGVyIGRlcGVuZHMgb24gRE1BLWJ1ZiBzaGFyaW5nIHdvcmtpbmcN
CmVmZmljaWVudGx5IGV2ZW4gd2hlbiB0aGUgU29DIGlzIG1vc3RseSBub24gY29oZXJlbnQuDQoN
CkluIGZhY3QgRE1BLWJ1ZiBzaGFyaW5nIHdvcmtzIGZpbmUgb24gbW9zdCBvZiB0aG9zZSBTb0Nz
IGJlY2F1c2UNCmV2ZXJ5b25lIGp1c3QgYXNzdW1lcyB0aGF0IGFsbCB0aGUgYWNjZWxlcmF0b3Jz
IGRvbid0IHNub29wLCBzbyB0aGUNCm1lbW9yeSBzaGFyZWQgdmlhIERNQS1idWYgaXMgbW9zdGx5
IENQVSB1bmNhY2hlZC4gSXQgb25seSBmYWxscyBhcGFydA0KZm9yIHVzZXMgbGlrZSB0aGUgVVZD
IGNhbWVyYXMsIHdoZXJlIHRoZSBzaGFyZWQgYnVmZmVyIGVuZHMgdXAgYmVpbmcNCkNQVSBjYWNo
ZWQuDQoNCk5vbi1jb2hlcmVudCB3aXRob3V0IGV4cGxpY2l0IGRvbWFpbiB0cmFuc2ZlciBwb2lu
dHMgaXMganVzdCBub3QgZ29pbmcNCnRvIHdvcmsuIFNvIHdoeSBjYW4ndCB3ZSBzb2x2ZSB0aGUg
aXNzdWUgZm9yIERNQS1idWYgaW4gdGhlIHNhbWUgd2F5IGFzDQp0aGUgRE1BIEFQSSBhbHJlYWR5
IHNvbHZlZCBpdCB5ZWFycyBhZ286IGJ5IGFkZGluZyB0aGUgZXF1aXZhbGVudCBvZg0KdGhlIGRt
YV9zeW5jIGNhbGxzIHRoYXQgZG8gY2FjaGUgbWFpbnRlbmFuY2Ugd2hlbiBuZWNlc3Nhcnk/IE9u
IHg4NiAob3INCmFueSBzeXN0ZW0gd2hlcmUgdGhpbmdzIGFyZSBtb3N0bHkgY29oZXJlbnQpIHlv
dSBjb3VsZCBzdGlsbCBuby1vcCB0aGVtDQpmb3IgdGhlIGNvbW1vbiBjYXNlIGFuZCBvbmx5IHRy
aWdnZXIgY2FjaGUgY2xlYW5pbmcgaWYgdGhlIGltcG9ydGVyDQpleHBsaWNpdGx5IHNheXMgdGhh
dCBpcyBnb2luZyB0byBkbyBhIG5vbi1zbm9vcGluZyBhY2Nlc3MuDQoNClJlZ2FyZHMsDQpMdWNh
cw0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW5h
cm8tbW0tc2lnIG1haWxpbmcgbGlzdCAtLSBsaW5hcm8tbW0tc2lnQGxpc3RzLmxpbmFyby5vcmcK
VG8gdW5zdWJzY3JpYmUgc2VuZCBhbiBlbWFpbCB0byBsaW5hcm8tbW0tc2lnLWxlYXZlQGxpc3Rz
LmxpbmFyby5vcmcK
